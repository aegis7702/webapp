var MN=Object.defineProperty;var ow=n=>{throw TypeError(n)};var FN=(n,e,t)=>e in n?MN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var M=(n,e,t)=>FN(n,typeof e!="symbol"?e+"":e,t),Qp=(n,e,t)=>e.has(n)||ow("Cannot "+t);var v=(n,e,t)=>(Qp(n,e,"read from private field"),t?t.call(n):e.get(n)),z=(n,e,t)=>e.has(n)?ow("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),C=(n,e,t,r)=>(Qp(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),le=(n,e,t)=>(Qp(n,e,"access private method"),t);var Gc=(n,e,t,r)=>({set _(i){C(n,e,i,t)},get _(){return v(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function UN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $p={exports:{}},Kc={},Jp={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function _N(){if(aw)return Oe;aw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function b(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function S(j,K,ye){this.props=j,this.context=K,this.refs=N,this.updater=ye||w}S.prototype.isReactComponent={},S.prototype.setState=function(j,K){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,K,"setState")},S.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function k(){}k.prototype=S.prototype;function I(j,K,ye){this.props=j,this.context=K,this.refs=N,this.updater=ye||w}var P=I.prototype=new k;P.constructor=I,E(P,S.prototype),P.isPureReactComponent=!0;var V=Array.isArray,L=Object.prototype.hasOwnProperty,F={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function H(j,K,ye){var ge,Ce={},Pe=null,Be=null;if(K!=null)for(ge in K.ref!==void 0&&(Be=K.ref),K.key!==void 0&&(Pe=""+K.key),K)L.call(K,ge)&&!Q.hasOwnProperty(ge)&&(Ce[ge]=K[ge]);var De=arguments.length-2;if(De===1)Ce.children=ye;else if(1<De){for(var _e=Array(De),ct=0;ct<De;ct++)_e[ct]=arguments[ct+2];Ce.children=_e}if(j&&j.defaultProps)for(ge in De=j.defaultProps,De)Ce[ge]===void 0&&(Ce[ge]=De[ge]);return{$$typeof:n,type:j,key:Pe,ref:Be,props:Ce,_owner:F.current}}function te(j,K){return{$$typeof:n,type:j.type,key:K,ref:j.ref,props:j.props,_owner:j._owner}}function Y(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function re(j){var K={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ye){return K[ye]})}var ce=/\/+/g;function pe(j,K){return typeof j=="object"&&j!==null&&j.key!=null?re(""+j.key):K.toString(36)}function ue(j,K,ye,ge,Ce){var Pe=typeof j;(Pe==="undefined"||Pe==="boolean")&&(j=null);var Be=!1;if(j===null)Be=!0;else switch(Pe){case"string":case"number":Be=!0;break;case"object":switch(j.$$typeof){case n:case e:Be=!0}}if(Be)return Be=j,Ce=Ce(Be),j=ge===""?"."+pe(Be,0):ge,V(Ce)?(ye="",j!=null&&(ye=j.replace(ce,"$&/")+"/"),ue(Ce,K,ye,"",function(ct){return ct})):Ce!=null&&(Y(Ce)&&(Ce=te(Ce,ye+(!Ce.key||Be&&Be.key===Ce.key?"":(""+Ce.key).replace(ce,"$&/")+"/")+j)),K.push(Ce)),1;if(Be=0,ge=ge===""?".":ge+":",V(j))for(var De=0;De<j.length;De++){Pe=j[De];var _e=ge+pe(Pe,De);Be+=ue(Pe,K,ye,_e,Ce)}else if(_e=b(j),typeof _e=="function")for(j=_e.call(j),De=0;!(Pe=j.next()).done;)Pe=Pe.value,_e=ge+pe(Pe,De++),Be+=ue(Pe,K,ye,_e,Ce);else if(Pe==="object")throw K=String(j),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Be}function $(j,K,ye){if(j==null)return j;var ge=[],Ce=0;return ue(j,ge,"","",function(Pe){return K.call(ye,Pe,Ce++)}),ge}function J(j){if(j._status===-1){var K=j._result;K=K(),K.then(function(ye){(j._status===0||j._status===-1)&&(j._status=1,j._result=ye)},function(ye){(j._status===0||j._status===-1)&&(j._status=2,j._result=ye)}),j._status===-1&&(j._status=0,j._result=K)}if(j._status===1)return j._result.default;throw j._result}var ee={current:null},W={transition:null},X={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:W,ReactCurrentOwner:F};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:$,forEach:function(j,K,ye){$(j,function(){K.apply(this,arguments)},ye)},count:function(j){var K=0;return $(j,function(){K++}),K},toArray:function(j){return $(j,function(K){return K})||[]},only:function(j){if(!Y(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Oe.Component=S,Oe.Fragment=t,Oe.Profiler=i,Oe.PureComponent=I,Oe.StrictMode=r,Oe.Suspense=f,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Oe.act=Z,Oe.cloneElement=function(j,K,ye){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ge=E({},j.props),Ce=j.key,Pe=j.ref,Be=j._owner;if(K!=null){if(K.ref!==void 0&&(Pe=K.ref,Be=F.current),K.key!==void 0&&(Ce=""+K.key),j.type&&j.type.defaultProps)var De=j.type.defaultProps;for(_e in K)L.call(K,_e)&&!Q.hasOwnProperty(_e)&&(ge[_e]=K[_e]===void 0&&De!==void 0?De[_e]:K[_e])}var _e=arguments.length-2;if(_e===1)ge.children=ye;else if(1<_e){De=Array(_e);for(var ct=0;ct<_e;ct++)De[ct]=arguments[ct+2];ge.children=De}return{$$typeof:n,type:j.type,key:Ce,ref:Pe,props:ge,_owner:Be}},Oe.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Oe.createElement=H,Oe.createFactory=function(j){var K=H.bind(null,j);return K.type=j,K},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(j){return{$$typeof:u,render:j}},Oe.isValidElement=Y,Oe.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:J}},Oe.memo=function(j,K){return{$$typeof:p,type:j,compare:K===void 0?null:K}},Oe.startTransition=function(j){var K=W.transition;W.transition={};try{j()}finally{W.transition=K}},Oe.unstable_act=Z,Oe.useCallback=function(j,K){return ee.current.useCallback(j,K)},Oe.useContext=function(j){return ee.current.useContext(j)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(j){return ee.current.useDeferredValue(j)},Oe.useEffect=function(j,K){return ee.current.useEffect(j,K)},Oe.useId=function(){return ee.current.useId()},Oe.useImperativeHandle=function(j,K,ye){return ee.current.useImperativeHandle(j,K,ye)},Oe.useInsertionEffect=function(j,K){return ee.current.useInsertionEffect(j,K)},Oe.useLayoutEffect=function(j,K){return ee.current.useLayoutEffect(j,K)},Oe.useMemo=function(j,K){return ee.current.useMemo(j,K)},Oe.useReducer=function(j,K,ye){return ee.current.useReducer(j,K,ye)},Oe.useRef=function(j){return ee.current.useRef(j)},Oe.useState=function(j){return ee.current.useState(j)},Oe.useSyncExternalStore=function(j,K,ye){return ee.current.useSyncExternalStore(j,K,ye)},Oe.useTransition=function(){return ee.current.useTransition()},Oe.version="18.3.1",Oe}var lw;function qm(){return lw||(lw=1,Jp.exports=_N()),Jp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function VN(){if(cw)return Kc;cw=1;var n=qm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,p){var m,g={},b=null,w=null;p!==void 0&&(b=""+p),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(w=f.ref);for(m in f)r.call(f,m)&&!a.hasOwnProperty(m)&&(g[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)g[m]===void 0&&(g[m]=f[m]);return{$$typeof:e,type:u,key:b,ref:w,props:g,_owner:i.current}}return Kc.Fragment=t,Kc.jsx=l,Kc.jsxs=l,Kc}var uw;function zN(){return uw||(uw=1,$p.exports=VN()),$p.exports}var h=zN(),wf={},Yp={exports:{}},hn={},Xp={exports:{}},Zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function HN(){return dw||(dw=1,(function(n){function e(W,X){var Z=W.length;W.push(X);e:for(;0<Z;){var j=Z-1>>>1,K=W[j];if(0<i(K,X))W[j]=X,W[Z]=K,Z=j;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var X=W[0],Z=W.pop();if(Z!==X){W[0]=Z;e:for(var j=0,K=W.length,ye=K>>>1;j<ye;){var ge=2*(j+1)-1,Ce=W[ge],Pe=ge+1,Be=W[Pe];if(0>i(Ce,Z))Pe<K&&0>i(Be,Ce)?(W[j]=Be,W[Pe]=Z,j=Pe):(W[j]=Ce,W[ge]=Z,j=ge);else if(Pe<K&&0>i(Be,Z))W[j]=Be,W[Pe]=Z,j=Pe;else break e}}return X}function i(W,X){var Z=W.sortIndex-X.sortIndex;return Z!==0?Z:W.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],p=[],m=1,g=null,b=3,w=!1,E=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(W){for(var X=t(p);X!==null;){if(X.callback===null)r(p);else if(X.startTime<=W)r(p),X.sortIndex=X.expirationTime,e(f,X);else break;X=t(p)}}function V(W){if(N=!1,P(W),!E)if(t(f)!==null)E=!0,J(L);else{var X=t(p);X!==null&&ee(V,X.startTime-W)}}function L(W,X){E=!1,N&&(N=!1,k(H),H=-1),w=!0;var Z=b;try{for(P(X),g=t(f);g!==null&&(!(g.expirationTime>X)||W&&!re());){var j=g.callback;if(typeof j=="function"){g.callback=null,b=g.priorityLevel;var K=j(g.expirationTime<=X);X=n.unstable_now(),typeof K=="function"?g.callback=K:g===t(f)&&r(f),P(X)}else r(f);g=t(f)}if(g!==null)var ye=!0;else{var ge=t(p);ge!==null&&ee(V,ge.startTime-X),ye=!1}return ye}finally{g=null,b=Z,w=!1}}var F=!1,Q=null,H=-1,te=5,Y=-1;function re(){return!(n.unstable_now()-Y<te)}function ce(){if(Q!==null){var W=n.unstable_now();Y=W;var X=!0;try{X=Q(!0,W)}finally{X?pe():(F=!1,Q=null)}}else F=!1}var pe;if(typeof I=="function")pe=function(){I(ce)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,$=ue.port2;ue.port1.onmessage=ce,pe=function(){$.postMessage(null)}}else pe=function(){S(ce,0)};function J(W){Q=W,F||(F=!0,pe())}function ee(W,X){H=S(function(){W(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){E||w||(E=!0,J(L))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(W){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var Z=b;b=X;try{return W()}finally{b=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Z=b;b=W;try{return X()}finally{b=Z}},n.unstable_scheduleCallback=function(W,X,Z){var j=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?j+Z:j):Z=j,W){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Z+K,W={id:m++,callback:X,priorityLevel:W,startTime:Z,expirationTime:K,sortIndex:-1},Z>j?(W.sortIndex=Z,e(p,W),t(f)===null&&W===t(p)&&(N?(k(H),H=-1):N=!0,ee(V,Z-j))):(W.sortIndex=K,e(f,W),E||w||(E=!0,J(L))),W},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(W){var X=b;return function(){var Z=b;b=X;try{return W.apply(this,arguments)}finally{b=Z}}}})(Zp)),Zp}var fw;function GN(){return fw||(fw=1,Xp.exports=HN()),Xp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function KN(){if(hw)return hn;hw=1;var n=qm(),e=GN();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function b(s){return f.call(g,s)?!0:f.call(m,s)?!1:p.test(s)?g[s]=!0:(m[s]=!0,!1)}function w(s,o,c,d){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,o,c,d){if(o===null||typeof o>"u"||w(s,o,c,d))return!0;if(d)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(s,o,c,d,x,y,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=x,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=A}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];S[o]=new N(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function I(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(k,I);S[o]=new N(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(k,I);S[o]=new N(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(k,I);S[o]=new N(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function P(s,o,c,d){var x=S.hasOwnProperty(o)?S[o]:null;(x!==null?x.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(E(o,c,x,d)&&(c=null),d||x===null?b(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):x.mustUseProperty?s[x.propertyName]=c===null?x.type===3?!1:"":c:(o=x.attributeName,d=x.attributeNamespace,c===null?s.removeAttribute(o):(x=x.type,c=x===3||x===4&&c===!0?"":""+c,d?s.setAttributeNS(d,o,c):s.setAttribute(o,c))))}var V=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),F=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),re=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),W=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Object.assign,j;function K(s){if(j===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||""}return`
`+j+s}var ye=!1;function ge(s,o){if(!s||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var d=G}Reflect.construct(s,[],o)}else{try{o.call()}catch(G){d=G}s.call(o.prototype)}else{try{throw Error()}catch(G){d=G}s()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var x=G.stack.split(`
`),y=d.stack.split(`
`),A=x.length-1,T=y.length-1;1<=A&&0<=T&&x[A]!==y[T];)T--;for(;1<=A&&0<=T;A--,T--)if(x[A]!==y[T]){if(A!==1||T!==1)do if(A--,T--,0>T||x[A]!==y[T]){var O=`
`+x[A].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=A&&0<=T);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?K(s):""}function Ce(s){switch(s.tag){case 5:return K(s.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return s=ge(s.type,!1),s;case 11:return s=ge(s.type.render,!1),s;case 1:return s=ge(s.type,!0),s;default:return""}}function Pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case Q:return"Fragment";case F:return"Portal";case te:return"Profiler";case H:return"StrictMode";case pe:return"Suspense";case ue:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case re:return(s.displayName||"Context")+".Consumer";case Y:return(s._context.displayName||"Context")+".Provider";case ce:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return o=s.displayName||null,o!==null?o:Pe(s.type)||"Memo";case J:o=s._payload,s=s._init;try{return Pe(s(o))}catch{}}return null}function Be(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(o);case 8:return o===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function De(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function _e(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ct(s){var o=_e(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,y=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return x.call(this)},set:function(A){d=""+A,y.call(this,A)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function es(s){s._valueTracker||(s._valueTracker=ct(s))}function nr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return s&&(d=_e(s)?s.checked?"true":"false":s.value),s=d,s!==c?(o.setValue(s),!0):!1}function Et(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function jn(s,o){var c=o.checked;return Z({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Mi(s,o){var c=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;c=De(o.value!=null?o.value:c),s._wrapperState={initialChecked:d,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Fi(s,o){o=o.checked,o!=null&&P(s,"checked",o,!1)}function sc(s,o){Fi(s,o);var c=De(o.value),d=o.type;if(c!=null)d==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?ic(s,o.type,c):o.hasOwnProperty("defaultValue")&&ic(s,o.type,De(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function dd(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function ic(s,o,c){(o!=="number"||Et(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var rr=Array.isArray;function ts(s,o,c,d){if(s=s.options,o){o={};for(var x=0;x<c.length;x++)o["$"+c[x]]=!0;for(c=0;c<s.length;c++)x=o.hasOwnProperty("$"+s[c].value),s[c].selected!==x&&(s[c].selected=x),x&&d&&(s[c].defaultSelected=!0)}else{for(c=""+De(c),o=null,x=0;x<s.length;x++){if(s[x].value===c){s[x].selected=!0,d&&(s[x].defaultSelected=!0);return}o!==null||s[x].disabled||(o=s[x])}o!==null&&(o.selected=!0)}}function ke(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return Z({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ut(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(rr(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:De(c)}}function ht(s,o){var c=De(o.value),d=De(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),d!=null&&(s.defaultValue=""+d)}function je(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function On(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ns(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?On(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var qo,sh=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,d,x){MSApp.execUnsafeLocalFunction(function(){return s(o,c,d,x)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(qo=qo||document.createElement("div"),qo.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=qo.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function oc(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V5=["Webkit","ms","Moz","O"];Object.keys(ac).forEach(function(s){V5.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),ac[o]=ac[s]})});function vy(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||ac.hasOwnProperty(s)&&ac[s]?(""+o).trim():o+"px"}function Ay(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var d=c.indexOf("--")===0,x=vy(c,o[c],d);c==="float"&&(c="cssFloat"),d?s.setProperty(c,x):s[c]=x}}var z5=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ih(s,o){if(o){if(z5[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function oh(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=null;function lh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ch=null,ea=null,ta=null;function Ny(s){if(s=Pc(s)){if(typeof ch!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Ld(o),ch(s.stateNode,s.type,o))}}function Ey(s){ea?ta?ta.push(s):ta=[s]:ea=s}function Sy(){if(ea){var s=ea,o=ta;if(ta=ea=null,Ny(s),o)for(s=0;s<o.length;s++)Ny(o[s])}}function ky(s,o){return s(o)}function Cy(){}var uh=!1;function Ty(s,o,c){if(uh)return s(o,c);uh=!0;try{return ky(s,o,c)}finally{uh=!1,(ea!==null||ta!==null)&&(Cy(),Sy())}}function lc(s,o){var c=s.stateNode;if(c===null)return null;var d=Ld(c);if(d===null)return null;c=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var dh=!1;if(u)try{var cc={};Object.defineProperty(cc,"passive",{get:function(){dh=!0}}),window.addEventListener("test",cc,cc),window.removeEventListener("test",cc,cc)}catch{dh=!1}function H5(s,o,c,d,x,y,A,T,O){var G=Array.prototype.slice.call(arguments,3);try{o.apply(c,G)}catch(se){this.onError(se)}}var uc=!1,fd=null,hd=!1,fh=null,G5={onError:function(s){uc=!0,fd=s}};function K5(s,o,c,d,x,y,A,T,O){uc=!1,fd=null,H5.apply(G5,arguments)}function W5(s,o,c,d,x,y,A,T,O){if(K5.apply(this,arguments),uc){if(uc){var G=fd;uc=!1,fd=null}else throw Error(t(198));hd||(hd=!0,fh=G)}}function Ui(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Py(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Iy(s){if(Ui(s)!==s)throw Error(t(188))}function Q5(s){var o=s.alternate;if(!o){if(o=Ui(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,d=o;;){var x=c.return;if(x===null)break;var y=x.alternate;if(y===null){if(d=x.return,d!==null){c=d;continue}break}if(x.child===y.child){for(y=x.child;y;){if(y===c)return Iy(x),s;if(y===d)return Iy(x),o;y=y.sibling}throw Error(t(188))}if(c.return!==d.return)c=x,d=y;else{for(var A=!1,T=x.child;T;){if(T===c){A=!0,c=x,d=y;break}if(T===d){A=!0,d=x,c=y;break}T=T.sibling}if(!A){for(T=y.child;T;){if(T===c){A=!0,c=y,d=x;break}if(T===d){A=!0,d=y,c=x;break}T=T.sibling}if(!A)throw Error(t(189))}}if(c.alternate!==d)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function Ry(s){return s=Q5(s),s!==null?jy(s):null}function jy(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=jy(s);if(o!==null)return o;s=s.sibling}return null}var Oy=e.unstable_scheduleCallback,Ly=e.unstable_cancelCallback,$5=e.unstable_shouldYield,J5=e.unstable_requestPaint,pt=e.unstable_now,Y5=e.unstable_getCurrentPriorityLevel,hh=e.unstable_ImmediatePriority,By=e.unstable_UserBlockingPriority,pd=e.unstable_NormalPriority,X5=e.unstable_LowPriority,Dy=e.unstable_IdlePriority,xd=null,Er=null;function Z5(s){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(xd,s,void 0,(s.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:t8,q5=Math.log,e8=Math.LN2;function t8(s){return s>>>=0,s===0?32:31-(q5(s)/e8|0)|0}var md=64,gd=4194304;function dc(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function yd(s,o){var c=s.pendingLanes;if(c===0)return 0;var d=0,x=s.suspendedLanes,y=s.pingedLanes,A=c&268435455;if(A!==0){var T=A&~x;T!==0?d=dc(T):(y&=A,y!==0&&(d=dc(y)))}else A=c&~x,A!==0?d=dc(A):y!==0&&(d=dc(y));if(d===0)return 0;if(o!==0&&o!==d&&(o&x)===0&&(x=d&-d,y=o&-o,x>=y||x===16&&(y&4194240)!==0))return o;if((d&4)!==0&&(d|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)c=31-sr(o),x=1<<c,d|=s[c],o&=~x;return d}function n8(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r8(s,o){for(var c=s.suspendedLanes,d=s.pingedLanes,x=s.expirationTimes,y=s.pendingLanes;0<y;){var A=31-sr(y),T=1<<A,O=x[A];O===-1?((T&c)===0||(T&d)!==0)&&(x[A]=n8(T,o)):O<=o&&(s.expiredLanes|=T),y&=~T}}function ph(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function My(){var s=md;return md<<=1,(md&4194240)===0&&(md=64),s}function xh(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function fc(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-sr(o),s[o]=c}function s8(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<c;){var x=31-sr(c),y=1<<x;o[x]=0,d[x]=-1,s[x]=-1,c&=~y}}function mh(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var d=31-sr(c),x=1<<d;x&o|s[d]&o&&(s[d]|=o),c&=~x}}var We=0;function Fy(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Uy,gh,_y,Vy,zy,yh=!1,bd=[],Ms=null,Fs=null,Us=null,hc=new Map,pc=new Map,_s=[],i8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hy(s,o){switch(s){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":hc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(o.pointerId)}}function xc(s,o,c,d,x,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[x]},o!==null&&(o=Pc(o),o!==null&&gh(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),s)}function o8(s,o,c,d,x){switch(o){case"focusin":return Ms=xc(Ms,s,o,c,d,x),!0;case"dragenter":return Fs=xc(Fs,s,o,c,d,x),!0;case"mouseover":return Us=xc(Us,s,o,c,d,x),!0;case"pointerover":var y=x.pointerId;return hc.set(y,xc(hc.get(y)||null,s,o,c,d,x)),!0;case"gotpointercapture":return y=x.pointerId,pc.set(y,xc(pc.get(y)||null,s,o,c,d,x)),!0}return!1}function Gy(s){var o=_i(s.target);if(o!==null){var c=Ui(o);if(c!==null){if(o=c.tag,o===13){if(o=Py(c),o!==null){s.blockedOn=o,zy(s.priority,function(){_y(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function wd(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=wh(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);ah=d,c.target.dispatchEvent(d),ah=null}else return o=Pc(c),o!==null&&gh(o),s.blockedOn=c,!1;o.shift()}return!0}function Ky(s,o,c){wd(s)&&c.delete(o)}function a8(){yh=!1,Ms!==null&&wd(Ms)&&(Ms=null),Fs!==null&&wd(Fs)&&(Fs=null),Us!==null&&wd(Us)&&(Us=null),hc.forEach(Ky),pc.forEach(Ky)}function mc(s,o){s.blockedOn===o&&(s.blockedOn=null,yh||(yh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,a8)))}function gc(s){function o(x){return mc(x,s)}if(0<bd.length){mc(bd[0],s);for(var c=1;c<bd.length;c++){var d=bd[c];d.blockedOn===s&&(d.blockedOn=null)}}for(Ms!==null&&mc(Ms,s),Fs!==null&&mc(Fs,s),Us!==null&&mc(Us,s),hc.forEach(o),pc.forEach(o),c=0;c<_s.length;c++)d=_s[c],d.blockedOn===s&&(d.blockedOn=null);for(;0<_s.length&&(c=_s[0],c.blockedOn===null);)Gy(c),c.blockedOn===null&&_s.shift()}var na=V.ReactCurrentBatchConfig,vd=!0;function l8(s,o,c,d){var x=We,y=na.transition;na.transition=null;try{We=1,bh(s,o,c,d)}finally{We=x,na.transition=y}}function c8(s,o,c,d){var x=We,y=na.transition;na.transition=null;try{We=4,bh(s,o,c,d)}finally{We=x,na.transition=y}}function bh(s,o,c,d){if(vd){var x=wh(s,o,c,d);if(x===null)Mh(s,o,d,Ad,c),Hy(s,d);else if(o8(x,s,o,c,d))d.stopPropagation();else if(Hy(s,d),o&4&&-1<i8.indexOf(s)){for(;x!==null;){var y=Pc(x);if(y!==null&&Uy(y),y=wh(s,o,c,d),y===null&&Mh(s,o,d,Ad,c),y===x)break;x=y}x!==null&&d.stopPropagation()}else Mh(s,o,d,null,c)}}var Ad=null;function wh(s,o,c,d){if(Ad=null,s=lh(d),s=_i(s),s!==null)if(o=Ui(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Py(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ad=s,null}function Wy(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y5()){case hh:return 1;case By:return 4;case pd:case X5:return 16;case Dy:return 536870912;default:return 16}default:return 16}}var Vs=null,vh=null,Nd=null;function Qy(){if(Nd)return Nd;var s,o=vh,c=o.length,d,x="value"in Vs?Vs.value:Vs.textContent,y=x.length;for(s=0;s<c&&o[s]===x[s];s++);var A=c-s;for(d=1;d<=A&&o[c-d]===x[y-d];d++);return Nd=x.slice(s,1<d?1-d:void 0)}function Ed(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Sd(){return!0}function $y(){return!1}function wn(s){function o(c,d,x,y,A){this._reactName=c,this._targetInst=x,this.type=d,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(c=s[T],this[T]=c?c(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Sd:$y,this.isPropagationStopped=$y,this}return Z(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Sd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Sd)},persist:function(){},isPersistent:Sd}),o}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ah=wn(ra),yc=Z({},ra,{view:0,detail:0}),u8=wn(yc),Nh,Eh,bc,kd=Z({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==bc&&(bc&&s.type==="mousemove"?(Nh=s.screenX-bc.screenX,Eh=s.screenY-bc.screenY):Eh=Nh=0,bc=s),Nh)},movementY:function(s){return"movementY"in s?s.movementY:Eh}}),Jy=wn(kd),d8=Z({},kd,{dataTransfer:0}),f8=wn(d8),h8=Z({},yc,{relatedTarget:0}),Sh=wn(h8),p8=Z({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),x8=wn(p8),m8=Z({},ra,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),g8=wn(m8),y8=Z({},ra,{data:0}),Yy=wn(y8),b8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A8(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=v8[s])?!!o[s]:!1}function kh(){return A8}var N8=Z({},yc,{key:function(s){if(s.key){var o=b8[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ed(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?w8[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kh,charCode:function(s){return s.type==="keypress"?Ed(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ed(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),E8=wn(N8),S8=Z({},kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xy=wn(S8),k8=Z({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kh}),C8=wn(k8),T8=Z({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),P8=wn(T8),I8=Z({},kd,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),R8=wn(I8),j8=[9,13,27,32],Ch=u&&"CompositionEvent"in window,wc=null;u&&"documentMode"in document&&(wc=document.documentMode);var O8=u&&"TextEvent"in window&&!wc,Zy=u&&(!Ch||wc&&8<wc&&11>=wc),qy=" ",e1=!1;function t1(s,o){switch(s){case"keyup":return j8.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var sa=!1;function L8(s,o){switch(s){case"compositionend":return n1(o);case"keypress":return o.which!==32?null:(e1=!0,qy);case"textInput":return s=o.data,s===qy&&e1?null:s;default:return null}}function B8(s,o){if(sa)return s==="compositionend"||!Ch&&t1(s,o)?(s=Qy(),Nd=vh=Vs=null,sa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Zy&&o.locale!=="ko"?null:o.data;default:return null}}var D8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r1(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!D8[s.type]:o==="textarea"}function s1(s,o,c,d){Ey(d),o=Rd(o,"onChange"),0<o.length&&(c=new Ah("onChange","change",null,c,d),s.push({event:c,listeners:o}))}var vc=null,Ac=null;function M8(s){A1(s,0)}function Cd(s){var o=ca(s);if(nr(o))return s}function F8(s,o){if(s==="change")return o}var i1=!1;if(u){var Th;if(u){var Ph="oninput"in document;if(!Ph){var o1=document.createElement("div");o1.setAttribute("oninput","return;"),Ph=typeof o1.oninput=="function"}Th=Ph}else Th=!1;i1=Th&&(!document.documentMode||9<document.documentMode)}function a1(){vc&&(vc.detachEvent("onpropertychange",l1),Ac=vc=null)}function l1(s){if(s.propertyName==="value"&&Cd(Ac)){var o=[];s1(o,Ac,s,lh(s)),Ty(M8,o)}}function U8(s,o,c){s==="focusin"?(a1(),vc=o,Ac=c,vc.attachEvent("onpropertychange",l1)):s==="focusout"&&a1()}function _8(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Cd(Ac)}function V8(s,o){if(s==="click")return Cd(o)}function z8(s,o){if(s==="input"||s==="change")return Cd(o)}function H8(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ir=typeof Object.is=="function"?Object.is:H8;function Nc(s,o){if(ir(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var x=c[d];if(!f.call(o,x)||!ir(s[x],o[x]))return!1}return!0}function c1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function u1(s,o){var c=c1(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=o&&d>=o)return{node:c,offset:o-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=c1(c)}}function d1(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?d1(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function f1(){for(var s=window,o=Et();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Et(s.document)}return o}function Ih(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function G8(s){var o=f1(),c=s.focusedElem,d=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&d1(c.ownerDocument.documentElement,c)){if(d!==null&&Ih(c)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var x=c.textContent.length,y=Math.min(d.start,x);d=d.end===void 0?y:Math.min(d.end,x),!s.extend&&y>d&&(x=d,d=y,y=x),x=u1(c,y);var A=u1(c,d);x&&A&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==A.node||s.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(x.node,x.offset),s.removeAllRanges(),y>d?(s.addRange(o),s.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var K8=u&&"documentMode"in document&&11>=document.documentMode,ia=null,Rh=null,Ec=null,jh=!1;function h1(s,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;jh||ia==null||ia!==Et(d)||(d=ia,"selectionStart"in d&&Ih(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ec&&Nc(Ec,d)||(Ec=d,d=Rd(Rh,"onSelect"),0<d.length&&(o=new Ah("onSelect","select",null,o,c),s.push({event:o,listeners:d}),o.target=ia)))}function Td(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var oa={animationend:Td("Animation","AnimationEnd"),animationiteration:Td("Animation","AnimationIteration"),animationstart:Td("Animation","AnimationStart"),transitionend:Td("Transition","TransitionEnd")},Oh={},p1={};u&&(p1=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function Pd(s){if(Oh[s])return Oh[s];if(!oa[s])return s;var o=oa[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in p1)return Oh[s]=o[c];return s}var x1=Pd("animationend"),m1=Pd("animationiteration"),g1=Pd("animationstart"),y1=Pd("transitionend"),b1=new Map,w1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(s,o){b1.set(s,o),a(o,[s])}for(var Lh=0;Lh<w1.length;Lh++){var Bh=w1[Lh],W8=Bh.toLowerCase(),Q8=Bh[0].toUpperCase()+Bh.slice(1);zs(W8,"on"+Q8)}zs(x1,"onAnimationEnd"),zs(m1,"onAnimationIteration"),zs(g1,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(y1,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sc));function v1(s,o,c){var d=s.type||"unknown-event";s.currentTarget=c,W5(d,o,void 0,s),s.currentTarget=null}function A1(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],x=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var A=d.length-1;0<=A;A--){var T=d[A],O=T.instance,G=T.currentTarget;if(T=T.listener,O!==y&&x.isPropagationStopped())break e;v1(x,T,G),y=O}else for(A=0;A<d.length;A++){if(T=d[A],O=T.instance,G=T.currentTarget,T=T.listener,O!==y&&x.isPropagationStopped())break e;v1(x,T,G),y=O}}}if(hd)throw s=fh,hd=!1,fh=null,s}function Ze(s,o){var c=o[Hh];c===void 0&&(c=o[Hh]=new Set);var d=s+"__bubble";c.has(d)||(N1(o,s,2,!1),c.add(d))}function Dh(s,o,c){var d=0;o&&(d|=4),N1(c,s,d,o)}var Id="_reactListening"+Math.random().toString(36).slice(2);function kc(s){if(!s[Id]){s[Id]=!0,r.forEach(function(c){c!=="selectionchange"&&($8.has(c)||Dh(c,!1,s),Dh(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Id]||(o[Id]=!0,Dh("selectionchange",!1,o))}}function N1(s,o,c,d){switch(Wy(o)){case 1:var x=l8;break;case 4:x=c8;break;default:x=bh}c=x.bind(null,o,c,s),x=void 0,!dh||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),d?x!==void 0?s.addEventListener(o,c,{capture:!0,passive:x}):s.addEventListener(o,c,!0):x!==void 0?s.addEventListener(o,c,{passive:x}):s.addEventListener(o,c,!1)}function Mh(s,o,c,d,x){var y=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var T=d.stateNode.containerInfo;if(T===x||T.nodeType===8&&T.parentNode===x)break;if(A===4)for(A=d.return;A!==null;){var O=A.tag;if((O===3||O===4)&&(O=A.stateNode.containerInfo,O===x||O.nodeType===8&&O.parentNode===x))return;A=A.return}for(;T!==null;){if(A=_i(T),A===null)return;if(O=A.tag,O===5||O===6){d=y=A;continue e}T=T.parentNode}}d=d.return}Ty(function(){var G=y,se=lh(c),oe=[];e:{var ne=b1.get(s);if(ne!==void 0){var fe=Ah,be=s;switch(s){case"keypress":if(Ed(c)===0)break e;case"keydown":case"keyup":fe=E8;break;case"focusin":be="focus",fe=Sh;break;case"focusout":be="blur",fe=Sh;break;case"beforeblur":case"afterblur":fe=Sh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=f8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=C8;break;case x1:case m1:case g1:fe=x8;break;case y1:fe=P8;break;case"scroll":fe=u8;break;case"wheel":fe=R8;break;case"copy":case"cut":case"paste":fe=g8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Xy}var ve=(o&4)!==0,xt=!ve&&s==="scroll",U=ve?ne!==null?ne+"Capture":null:ne;ve=[];for(var B=G,_;B!==null;){_=B;var ae=_.stateNode;if(_.tag===5&&ae!==null&&(_=ae,U!==null&&(ae=lc(B,U),ae!=null&&ve.push(Cc(B,ae,_)))),xt)break;B=B.return}0<ve.length&&(ne=new fe(ne,be,null,c,se),oe.push({event:ne,listeners:ve}))}}if((o&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",ne&&c!==ah&&(be=c.relatedTarget||c.fromElement)&&(_i(be)||be[rs]))break e;if((fe||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,fe?(be=c.relatedTarget||c.toElement,fe=G,be=be?_i(be):null,be!==null&&(xt=Ui(be),be!==xt||be.tag!==5&&be.tag!==6)&&(be=null)):(fe=null,be=G),fe!==be)){if(ve=Jy,ae="onMouseLeave",U="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(ve=Xy,ae="onPointerLeave",U="onPointerEnter",B="pointer"),xt=fe==null?ne:ca(fe),_=be==null?ne:ca(be),ne=new ve(ae,B+"leave",fe,c,se),ne.target=xt,ne.relatedTarget=_,ae=null,_i(se)===G&&(ve=new ve(U,B+"enter",be,c,se),ve.target=_,ve.relatedTarget=xt,ae=ve),xt=ae,fe&&be)t:{for(ve=fe,U=be,B=0,_=ve;_;_=aa(_))B++;for(_=0,ae=U;ae;ae=aa(ae))_++;for(;0<B-_;)ve=aa(ve),B--;for(;0<_-B;)U=aa(U),_--;for(;B--;){if(ve===U||U!==null&&ve===U.alternate)break t;ve=aa(ve),U=aa(U)}ve=null}else ve=null;fe!==null&&E1(oe,ne,fe,ve,!1),be!==null&&xt!==null&&E1(oe,xt,be,ve,!0)}}e:{if(ne=G?ca(G):window,fe=ne.nodeName&&ne.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ne.type==="file")var Ae=F8;else if(r1(ne))if(i1)Ae=z8;else{Ae=_8;var Ee=U8}else(fe=ne.nodeName)&&fe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Ae=V8);if(Ae&&(Ae=Ae(s,G))){s1(oe,Ae,c,se);break e}Ee&&Ee(s,ne,G),s==="focusout"&&(Ee=ne._wrapperState)&&Ee.controlled&&ne.type==="number"&&ic(ne,"number",ne.value)}switch(Ee=G?ca(G):window,s){case"focusin":(r1(Ee)||Ee.contentEditable==="true")&&(ia=Ee,Rh=G,Ec=null);break;case"focusout":Ec=Rh=ia=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,h1(oe,c,se);break;case"selectionchange":if(K8)break;case"keydown":case"keyup":h1(oe,c,se)}var Se;if(Ch)e:{switch(s){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else sa?t1(s,c)&&(Te="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Te="onCompositionStart");Te&&(Zy&&c.locale!=="ko"&&(sa||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&sa&&(Se=Qy()):(Vs=se,vh="value"in Vs?Vs.value:Vs.textContent,sa=!0)),Ee=Rd(G,Te),0<Ee.length&&(Te=new Yy(Te,s,null,c,se),oe.push({event:Te,listeners:Ee}),Se?Te.data=Se:(Se=n1(c),Se!==null&&(Te.data=Se)))),(Se=O8?L8(s,c):B8(s,c))&&(G=Rd(G,"onBeforeInput"),0<G.length&&(se=new Yy("onBeforeInput","beforeinput",null,c,se),oe.push({event:se,listeners:G}),se.data=Se))}A1(oe,o)})}function Cc(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Rd(s,o){for(var c=o+"Capture",d=[];s!==null;){var x=s,y=x.stateNode;x.tag===5&&y!==null&&(x=y,y=lc(s,c),y!=null&&d.unshift(Cc(s,y,x)),y=lc(s,o),y!=null&&d.push(Cc(s,y,x))),s=s.return}return d}function aa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function E1(s,o,c,d,x){for(var y=o._reactName,A=[];c!==null&&c!==d;){var T=c,O=T.alternate,G=T.stateNode;if(O!==null&&O===d)break;T.tag===5&&G!==null&&(T=G,x?(O=lc(c,y),O!=null&&A.unshift(Cc(c,O,T))):x||(O=lc(c,y),O!=null&&A.push(Cc(c,O,T)))),c=c.return}A.length!==0&&s.push({event:o,listeners:A})}var J8=/\r\n?/g,Y8=/\u0000|\uFFFD/g;function S1(s){return(typeof s=="string"?s:""+s).replace(J8,`
`).replace(Y8,"")}function jd(s,o,c){if(o=S1(o),S1(s)!==o&&c)throw Error(t(425))}function Od(){}var Fh=null,Uh=null;function _h(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Vh=typeof setTimeout=="function"?setTimeout:void 0,X8=typeof clearTimeout=="function"?clearTimeout:void 0,k1=typeof Promise=="function"?Promise:void 0,Z8=typeof queueMicrotask=="function"?queueMicrotask:typeof k1<"u"?function(s){return k1.resolve(null).then(s).catch(q8)}:Vh;function q8(s){setTimeout(function(){throw s})}function zh(s,o){var c=o,d=0;do{var x=c.nextSibling;if(s.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(d===0){s.removeChild(x),gc(o);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=x}while(c);gc(o)}function Hs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function C1(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var la=Math.random().toString(36).slice(2),Sr="__reactFiber$"+la,Tc="__reactProps$"+la,rs="__reactContainer$"+la,Hh="__reactEvents$"+la,eN="__reactListeners$"+la,tN="__reactHandles$"+la;function _i(s){var o=s[Sr];if(o)return o;for(var c=s.parentNode;c;){if(o=c[rs]||c[Sr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=C1(s);s!==null;){if(c=s[Sr])return c;s=C1(s)}return o}s=c,c=s.parentNode}return null}function Pc(s){return s=s[Sr]||s[rs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ca(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Ld(s){return s[Tc]||null}var Gh=[],ua=-1;function Gs(s){return{current:s}}function qe(s){0>ua||(s.current=Gh[ua],Gh[ua]=null,ua--)}function $e(s,o){ua++,Gh[ua]=s.current,s.current=o}var Ks={},zt=Gs(Ks),ln=Gs(!1),Vi=Ks;function da(s,o){var c=s.type.contextTypes;if(!c)return Ks;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var x={},y;for(y in c)x[y]=o[y];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=x),x}function cn(s){return s=s.childContextTypes,s!=null}function Bd(){qe(ln),qe(zt)}function T1(s,o,c){if(zt.current!==Ks)throw Error(t(168));$e(zt,o),$e(ln,c)}function P1(s,o,c){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return c;d=d.getChildContext();for(var x in d)if(!(x in o))throw Error(t(108,Be(s)||"Unknown",x));return Z({},c,d)}function Dd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ks,Vi=zt.current,$e(zt,s),$e(ln,ln.current),!0}function I1(s,o,c){var d=s.stateNode;if(!d)throw Error(t(169));c?(s=P1(s,o,Vi),d.__reactInternalMemoizedMergedChildContext=s,qe(ln),qe(zt),$e(zt,s)):qe(ln),$e(ln,c)}var ss=null,Md=!1,Kh=!1;function R1(s){ss===null?ss=[s]:ss.push(s)}function nN(s){Md=!0,R1(s)}function Ws(){if(!Kh&&ss!==null){Kh=!0;var s=0,o=We;try{var c=ss;for(We=1;s<c.length;s++){var d=c[s];do d=d(!0);while(d!==null)}ss=null,Md=!1}catch(x){throw ss!==null&&(ss=ss.slice(s+1)),Oy(hh,Ws),x}finally{We=o,Kh=!1}}return null}var fa=[],ha=0,Fd=null,Ud=0,Ln=[],Bn=0,zi=null,is=1,os="";function Hi(s,o){fa[ha++]=Ud,fa[ha++]=Fd,Fd=s,Ud=o}function j1(s,o,c){Ln[Bn++]=is,Ln[Bn++]=os,Ln[Bn++]=zi,zi=s;var d=is;s=os;var x=32-sr(d)-1;d&=~(1<<x),c+=1;var y=32-sr(o)+x;if(30<y){var A=x-x%5;y=(d&(1<<A)-1).toString(32),d>>=A,x-=A,is=1<<32-sr(o)+x|c<<x|d,os=y+s}else is=1<<y|c<<x|d,os=s}function Wh(s){s.return!==null&&(Hi(s,1),j1(s,1,0))}function Qh(s){for(;s===Fd;)Fd=fa[--ha],fa[ha]=null,Ud=fa[--ha],fa[ha]=null;for(;s===zi;)zi=Ln[--Bn],Ln[Bn]=null,os=Ln[--Bn],Ln[Bn]=null,is=Ln[--Bn],Ln[Bn]=null}var vn=null,An=null,tt=!1,or=null;function O1(s,o){var c=Un(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function L1(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,vn=s,An=Hs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,vn=s,An=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=zi!==null?{id:is,overflow:os}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Un(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,vn=s,An=null,!0):!1;default:return!1}}function $h(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Jh(s){if(tt){var o=An;if(o){var c=o;if(!L1(s,o)){if($h(s))throw Error(t(418));o=Hs(c.nextSibling);var d=vn;o&&L1(s,o)?O1(d,c):(s.flags=s.flags&-4097|2,tt=!1,vn=s)}}else{if($h(s))throw Error(t(418));s.flags=s.flags&-4097|2,tt=!1,vn=s}}}function B1(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;vn=s}function _d(s){if(s!==vn)return!1;if(!tt)return B1(s),tt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!_h(s.type,s.memoizedProps)),o&&(o=An)){if($h(s))throw D1(),Error(t(418));for(;o;)O1(s,o),o=Hs(o.nextSibling)}if(B1(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){An=Hs(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}An=null}}else An=vn?Hs(s.stateNode.nextSibling):null;return!0}function D1(){for(var s=An;s;)s=Hs(s.nextSibling)}function pa(){An=vn=null,tt=!1}function Yh(s){or===null?or=[s]:or.push(s)}var rN=V.ReactCurrentBatchConfig;function Ic(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var d=c.stateNode}if(!d)throw Error(t(147,s));var x=d,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(A){var T=x.refs;A===null?delete T[y]:T[y]=A},o._stringRef=y,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Vd(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function M1(s){var o=s._init;return o(s._payload)}function F1(s){function o(U,B){if(s){var _=U.deletions;_===null?(U.deletions=[B],U.flags|=16):_.push(B)}}function c(U,B){if(!s)return null;for(;B!==null;)o(U,B),B=B.sibling;return null}function d(U,B){for(U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function x(U,B){return U=ei(U,B),U.index=0,U.sibling=null,U}function y(U,B,_){return U.index=_,s?(_=U.alternate,_!==null?(_=_.index,_<B?(U.flags|=2,B):_):(U.flags|=2,B)):(U.flags|=1048576,B)}function A(U){return s&&U.alternate===null&&(U.flags|=2),U}function T(U,B,_,ae){return B===null||B.tag!==6?(B=Vp(_,U.mode,ae),B.return=U,B):(B=x(B,_),B.return=U,B)}function O(U,B,_,ae){var Ae=_.type;return Ae===Q?se(U,B,_.props.children,ae,_.key):B!==null&&(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===J&&M1(Ae)===B.type)?(ae=x(B,_.props),ae.ref=Ic(U,B,_),ae.return=U,ae):(ae=ff(_.type,_.key,_.props,null,U.mode,ae),ae.ref=Ic(U,B,_),ae.return=U,ae)}function G(U,B,_,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==_.containerInfo||B.stateNode.implementation!==_.implementation?(B=zp(_,U.mode,ae),B.return=U,B):(B=x(B,_.children||[]),B.return=U,B)}function se(U,B,_,ae,Ae){return B===null||B.tag!==7?(B=Xi(_,U.mode,ae,Ae),B.return=U,B):(B=x(B,_),B.return=U,B)}function oe(U,B,_){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Vp(""+B,U.mode,_),B.return=U,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return _=ff(B.type,B.key,B.props,null,U.mode,_),_.ref=Ic(U,null,B),_.return=U,_;case F:return B=zp(B,U.mode,_),B.return=U,B;case J:var ae=B._init;return oe(U,ae(B._payload),_)}if(rr(B)||X(B))return B=Xi(B,U.mode,_,null),B.return=U,B;Vd(U,B)}return null}function ne(U,B,_,ae){var Ae=B!==null?B.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return Ae!==null?null:T(U,B,""+_,ae);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case L:return _.key===Ae?O(U,B,_,ae):null;case F:return _.key===Ae?G(U,B,_,ae):null;case J:return Ae=_._init,ne(U,B,Ae(_._payload),ae)}if(rr(_)||X(_))return Ae!==null?null:se(U,B,_,ae,null);Vd(U,_)}return null}function fe(U,B,_,ae,Ae){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return U=U.get(_)||null,T(B,U,""+ae,Ae);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case L:return U=U.get(ae.key===null?_:ae.key)||null,O(B,U,ae,Ae);case F:return U=U.get(ae.key===null?_:ae.key)||null,G(B,U,ae,Ae);case J:var Ee=ae._init;return fe(U,B,_,Ee(ae._payload),Ae)}if(rr(ae)||X(ae))return U=U.get(_)||null,se(B,U,ae,Ae,null);Vd(B,ae)}return null}function be(U,B,_,ae){for(var Ae=null,Ee=null,Se=B,Te=B=0,Ct=null;Se!==null&&Te<_.length;Te++){Se.index>Te?(Ct=Se,Se=null):Ct=Se.sibling;var ze=ne(U,Se,_[Te],ae);if(ze===null){Se===null&&(Se=Ct);break}s&&Se&&ze.alternate===null&&o(U,Se),B=y(ze,B,Te),Ee===null?Ae=ze:Ee.sibling=ze,Ee=ze,Se=Ct}if(Te===_.length)return c(U,Se),tt&&Hi(U,Te),Ae;if(Se===null){for(;Te<_.length;Te++)Se=oe(U,_[Te],ae),Se!==null&&(B=y(Se,B,Te),Ee===null?Ae=Se:Ee.sibling=Se,Ee=Se);return tt&&Hi(U,Te),Ae}for(Se=d(U,Se);Te<_.length;Te++)Ct=fe(Se,U,Te,_[Te],ae),Ct!==null&&(s&&Ct.alternate!==null&&Se.delete(Ct.key===null?Te:Ct.key),B=y(Ct,B,Te),Ee===null?Ae=Ct:Ee.sibling=Ct,Ee=Ct);return s&&Se.forEach(function(ti){return o(U,ti)}),tt&&Hi(U,Te),Ae}function ve(U,B,_,ae){var Ae=X(_);if(typeof Ae!="function")throw Error(t(150));if(_=Ae.call(_),_==null)throw Error(t(151));for(var Ee=Ae=null,Se=B,Te=B=0,Ct=null,ze=_.next();Se!==null&&!ze.done;Te++,ze=_.next()){Se.index>Te?(Ct=Se,Se=null):Ct=Se.sibling;var ti=ne(U,Se,ze.value,ae);if(ti===null){Se===null&&(Se=Ct);break}s&&Se&&ti.alternate===null&&o(U,Se),B=y(ti,B,Te),Ee===null?Ae=ti:Ee.sibling=ti,Ee=ti,Se=Ct}if(ze.done)return c(U,Se),tt&&Hi(U,Te),Ae;if(Se===null){for(;!ze.done;Te++,ze=_.next())ze=oe(U,ze.value,ae),ze!==null&&(B=y(ze,B,Te),Ee===null?Ae=ze:Ee.sibling=ze,Ee=ze);return tt&&Hi(U,Te),Ae}for(Se=d(U,Se);!ze.done;Te++,ze=_.next())ze=fe(Se,U,Te,ze.value,ae),ze!==null&&(s&&ze.alternate!==null&&Se.delete(ze.key===null?Te:ze.key),B=y(ze,B,Te),Ee===null?Ae=ze:Ee.sibling=ze,Ee=ze);return s&&Se.forEach(function(DN){return o(U,DN)}),tt&&Hi(U,Te),Ae}function xt(U,B,_,ae){if(typeof _=="object"&&_!==null&&_.type===Q&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case L:e:{for(var Ae=_.key,Ee=B;Ee!==null;){if(Ee.key===Ae){if(Ae=_.type,Ae===Q){if(Ee.tag===7){c(U,Ee.sibling),B=x(Ee,_.props.children),B.return=U,U=B;break e}}else if(Ee.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===J&&M1(Ae)===Ee.type){c(U,Ee.sibling),B=x(Ee,_.props),B.ref=Ic(U,Ee,_),B.return=U,U=B;break e}c(U,Ee);break}else o(U,Ee);Ee=Ee.sibling}_.type===Q?(B=Xi(_.props.children,U.mode,ae,_.key),B.return=U,U=B):(ae=ff(_.type,_.key,_.props,null,U.mode,ae),ae.ref=Ic(U,B,_),ae.return=U,U=ae)}return A(U);case F:e:{for(Ee=_.key;B!==null;){if(B.key===Ee)if(B.tag===4&&B.stateNode.containerInfo===_.containerInfo&&B.stateNode.implementation===_.implementation){c(U,B.sibling),B=x(B,_.children||[]),B.return=U,U=B;break e}else{c(U,B);break}else o(U,B);B=B.sibling}B=zp(_,U.mode,ae),B.return=U,U=B}return A(U);case J:return Ee=_._init,xt(U,B,Ee(_._payload),ae)}if(rr(_))return be(U,B,_,ae);if(X(_))return ve(U,B,_,ae);Vd(U,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,B!==null&&B.tag===6?(c(U,B.sibling),B=x(B,_),B.return=U,U=B):(c(U,B),B=Vp(_,U.mode,ae),B.return=U,U=B),A(U)):c(U,B)}return xt}var xa=F1(!0),U1=F1(!1),zd=Gs(null),Hd=null,ma=null,Xh=null;function Zh(){Xh=ma=Hd=null}function qh(s){var o=zd.current;qe(zd),s._currentValue=o}function ep(s,o,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===c)break;s=s.return}}function ga(s,o){Hd=s,Xh=ma=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(un=!0),s.firstContext=null)}function Dn(s){var o=s._currentValue;if(Xh!==s)if(s={context:s,memoizedValue:o,next:null},ma===null){if(Hd===null)throw Error(t(308));ma=s,Hd.dependencies={lanes:0,firstContext:s}}else ma=ma.next=s;return o}var Gi=null;function tp(s){Gi===null?Gi=[s]:Gi.push(s)}function _1(s,o,c,d){var x=o.interleaved;return x===null?(c.next=c,tp(o)):(c.next=x.next,x.next=c),o.interleaved=c,as(s,d)}function as(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Qs=!1;function np(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V1(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ls(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function $s(s,o,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Ve&2)!==0){var x=d.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),d.pending=o,as(s,c)}return x=d.interleaved,x===null?(o.next=o,tp(d)):(o.next=x.next,x.next=o),d.interleaved=o,as(s,c)}function Gd(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,mh(s,c)}}function z1(s,o){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var x=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?x=y=A:y=y.next=A,c=c.next}while(c!==null);y===null?x=y=o:y=y.next=o}else x=y=o;c={baseState:d.baseState,firstBaseUpdate:x,lastBaseUpdate:y,shared:d.shared,effects:d.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function Kd(s,o,c,d){var x=s.updateQueue;Qs=!1;var y=x.firstBaseUpdate,A=x.lastBaseUpdate,T=x.shared.pending;if(T!==null){x.shared.pending=null;var O=T,G=O.next;O.next=null,A===null?y=G:A.next=G,A=O;var se=s.alternate;se!==null&&(se=se.updateQueue,T=se.lastBaseUpdate,T!==A&&(T===null?se.firstBaseUpdate=G:T.next=G,se.lastBaseUpdate=O))}if(y!==null){var oe=x.baseState;A=0,se=G=O=null,T=y;do{var ne=T.lane,fe=T.eventTime;if((d&ne)===ne){se!==null&&(se=se.next={eventTime:fe,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var be=s,ve=T;switch(ne=o,fe=c,ve.tag){case 1:if(be=ve.payload,typeof be=="function"){oe=be.call(fe,oe,ne);break e}oe=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ve.payload,ne=typeof be=="function"?be.call(fe,oe,ne):be,ne==null)break e;oe=Z({},oe,ne);break e;case 2:Qs=!0}}T.callback!==null&&T.lane!==0&&(s.flags|=64,ne=x.effects,ne===null?x.effects=[T]:ne.push(T))}else fe={eventTime:fe,lane:ne,tag:T.tag,payload:T.payload,callback:T.callback,next:null},se===null?(G=se=fe,O=oe):se=se.next=fe,A|=ne;if(T=T.next,T===null){if(T=x.shared.pending,T===null)break;ne=T,T=ne.next,ne.next=null,x.lastBaseUpdate=ne,x.shared.pending=null}}while(!0);if(se===null&&(O=oe),x.baseState=O,x.firstBaseUpdate=G,x.lastBaseUpdate=se,o=x.shared.interleaved,o!==null){x=o;do A|=x.lane,x=x.next;while(x!==o)}else y===null&&(x.shared.lanes=0);Qi|=A,s.lanes=A,s.memoizedState=oe}}function H1(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],x=d.callback;if(x!==null){if(d.callback=null,d=c,typeof x!="function")throw Error(t(191,x));x.call(d)}}}var Rc={},kr=Gs(Rc),jc=Gs(Rc),Oc=Gs(Rc);function Ki(s){if(s===Rc)throw Error(t(174));return s}function rp(s,o){switch($e(Oc,o),$e(jc,s),$e(kr,Rc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ns(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=ns(o,s)}qe(kr),$e(kr,o)}function ya(){qe(kr),qe(jc),qe(Oc)}function G1(s){Ki(Oc.current);var o=Ki(kr.current),c=ns(o,s.type);o!==c&&($e(jc,s),$e(kr,c))}function sp(s){jc.current===s&&(qe(kr),qe(jc))}var rt=Gs(0);function Wd(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ip=[];function op(){for(var s=0;s<ip.length;s++)ip[s]._workInProgressVersionPrimary=null;ip.length=0}var Qd=V.ReactCurrentDispatcher,ap=V.ReactCurrentBatchConfig,Wi=0,st=null,vt=null,St=null,$d=!1,Lc=!1,Bc=0,sN=0;function Ht(){throw Error(t(321))}function lp(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!ir(s[c],o[c]))return!1;return!0}function cp(s,o,c,d,x,y){if(Wi=y,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Qd.current=s===null||s.memoizedState===null?lN:cN,s=c(d,x),Lc){y=0;do{if(Lc=!1,Bc=0,25<=y)throw Error(t(301));y+=1,St=vt=null,o.updateQueue=null,Qd.current=uN,s=c(d,x)}while(Lc)}if(Qd.current=Xd,o=vt!==null&&vt.next!==null,Wi=0,St=vt=st=null,$d=!1,o)throw Error(t(300));return s}function up(){var s=Bc!==0;return Bc=0,s}function Cr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?st.memoizedState=St=s:St=St.next=s,St}function Mn(){if(vt===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=vt.next;var o=St===null?st.memoizedState:St.next;if(o!==null)St=o,vt=s;else{if(s===null)throw Error(t(310));vt=s,s={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?st.memoizedState=St=s:St=St.next=s}return St}function Dc(s,o){return typeof o=="function"?o(s):o}function dp(s){var o=Mn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var d=vt,x=d.baseQueue,y=c.pending;if(y!==null){if(x!==null){var A=x.next;x.next=y.next,y.next=A}d.baseQueue=x=y,c.pending=null}if(x!==null){y=x.next,d=d.baseState;var T=A=null,O=null,G=y;do{var se=G.lane;if((Wi&se)===se)O!==null&&(O=O.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:s(d,G.action);else{var oe={lane:se,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};O===null?(T=O=oe,A=d):O=O.next=oe,st.lanes|=se,Qi|=se}G=G.next}while(G!==null&&G!==y);O===null?A=d:O.next=T,ir(d,o.memoizedState)||(un=!0),o.memoizedState=d,o.baseState=A,o.baseQueue=O,c.lastRenderedState=d}if(s=c.interleaved,s!==null){x=s;do y=x.lane,st.lanes|=y,Qi|=y,x=x.next;while(x!==s)}else x===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function fp(s){var o=Mn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var d=c.dispatch,x=c.pending,y=o.memoizedState;if(x!==null){c.pending=null;var A=x=x.next;do y=s(y,A.action),A=A.next;while(A!==x);ir(y,o.memoizedState)||(un=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),c.lastRenderedState=y}return[y,d]}function K1(){}function W1(s,o){var c=st,d=Mn(),x=o(),y=!ir(d.memoizedState,x);if(y&&(d.memoizedState=x,un=!0),d=d.queue,hp(J1.bind(null,c,d,s),[s]),d.getSnapshot!==o||y||St!==null&&St.memoizedState.tag&1){if(c.flags|=2048,Mc(9,$1.bind(null,c,d,x,o),void 0,null),kt===null)throw Error(t(349));(Wi&30)!==0||Q1(c,o,x)}return x}function Q1(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function $1(s,o,c,d){o.value=c,o.getSnapshot=d,Y1(o)&&X1(s)}function J1(s,o,c){return c(function(){Y1(o)&&X1(s)})}function Y1(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!ir(s,c)}catch{return!0}}function X1(s){var o=as(s,1);o!==null&&ur(o,s,1,-1)}function Z1(s){var o=Cr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dc,lastRenderedState:s},o.queue=s,s=s.dispatch=aN.bind(null,st,s),[o.memoizedState,s]}function Mc(s,o,c,d){return s={tag:s,create:o,destroy:c,deps:d,next:null},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,o.lastEffect=s)),s}function q1(){return Mn().memoizedState}function Jd(s,o,c,d){var x=Cr();st.flags|=s,x.memoizedState=Mc(1|o,c,void 0,d===void 0?null:d)}function Yd(s,o,c,d){var x=Mn();d=d===void 0?null:d;var y=void 0;if(vt!==null){var A=vt.memoizedState;if(y=A.destroy,d!==null&&lp(d,A.deps)){x.memoizedState=Mc(o,c,y,d);return}}st.flags|=s,x.memoizedState=Mc(1|o,c,y,d)}function eb(s,o){return Jd(8390656,8,s,o)}function hp(s,o){return Yd(2048,8,s,o)}function tb(s,o){return Yd(4,2,s,o)}function nb(s,o){return Yd(4,4,s,o)}function rb(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function sb(s,o,c){return c=c!=null?c.concat([s]):null,Yd(4,4,rb.bind(null,o,s),c)}function pp(){}function ib(s,o){var c=Mn();o=o===void 0?null:o;var d=c.memoizedState;return d!==null&&o!==null&&lp(o,d[1])?d[0]:(c.memoizedState=[s,o],s)}function ob(s,o){var c=Mn();o=o===void 0?null:o;var d=c.memoizedState;return d!==null&&o!==null&&lp(o,d[1])?d[0]:(s=s(),c.memoizedState=[s,o],s)}function ab(s,o,c){return(Wi&21)===0?(s.baseState&&(s.baseState=!1,un=!0),s.memoizedState=c):(ir(c,o)||(c=My(),st.lanes|=c,Qi|=c,s.baseState=!0),o)}function iN(s,o){var c=We;We=c!==0&&4>c?c:4,s(!0);var d=ap.transition;ap.transition={};try{s(!1),o()}finally{We=c,ap.transition=d}}function lb(){return Mn().memoizedState}function oN(s,o,c){var d=Zs(s);if(c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null},cb(s))ub(o,c);else if(c=_1(s,o,c,d),c!==null){var x=en();ur(c,s,d,x),db(c,o,d)}}function aN(s,o,c){var d=Zs(s),x={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(cb(s))ub(o,x);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var A=o.lastRenderedState,T=y(A,c);if(x.hasEagerState=!0,x.eagerState=T,ir(T,A)){var O=o.interleaved;O===null?(x.next=x,tp(o)):(x.next=O.next,O.next=x),o.interleaved=x;return}}catch{}finally{}c=_1(s,o,x,d),c!==null&&(x=en(),ur(c,s,d,x),db(c,o,d))}}function cb(s){var o=s.alternate;return s===st||o!==null&&o===st}function ub(s,o){Lc=$d=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function db(s,o,c){if((c&4194240)!==0){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,mh(s,c)}}var Xd={readContext:Dn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},lN={readContext:Dn,useCallback:function(s,o){return Cr().memoizedState=[s,o===void 0?null:o],s},useContext:Dn,useEffect:eb,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,Jd(4194308,4,rb.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Jd(4194308,4,s,o)},useInsertionEffect:function(s,o){return Jd(4,2,s,o)},useMemo:function(s,o){var c=Cr();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var d=Cr();return o=c!==void 0?c(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=oN.bind(null,st,s),[d.memoizedState,s]},useRef:function(s){var o=Cr();return s={current:s},o.memoizedState=s},useState:Z1,useDebugValue:pp,useDeferredValue:function(s){return Cr().memoizedState=s},useTransition:function(){var s=Z1(!1),o=s[0];return s=iN.bind(null,s[1]),Cr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var d=st,x=Cr();if(tt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),kt===null)throw Error(t(349));(Wi&30)!==0||Q1(d,o,c)}x.memoizedState=c;var y={value:c,getSnapshot:o};return x.queue=y,eb(J1.bind(null,d,y,s),[s]),d.flags|=2048,Mc(9,$1.bind(null,d,y,c,o),void 0,null),c},useId:function(){var s=Cr(),o=kt.identifierPrefix;if(tt){var c=os,d=is;c=(d&~(1<<32-sr(d)-1)).toString(32)+c,o=":"+o+"R"+c,c=Bc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=sN++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},cN={readContext:Dn,useCallback:ib,useContext:Dn,useEffect:hp,useImperativeHandle:sb,useInsertionEffect:tb,useLayoutEffect:nb,useMemo:ob,useReducer:dp,useRef:q1,useState:function(){return dp(Dc)},useDebugValue:pp,useDeferredValue:function(s){var o=Mn();return ab(o,vt.memoizedState,s)},useTransition:function(){var s=dp(Dc)[0],o=Mn().memoizedState;return[s,o]},useMutableSource:K1,useSyncExternalStore:W1,useId:lb,unstable_isNewReconciler:!1},uN={readContext:Dn,useCallback:ib,useContext:Dn,useEffect:hp,useImperativeHandle:sb,useInsertionEffect:tb,useLayoutEffect:nb,useMemo:ob,useReducer:fp,useRef:q1,useState:function(){return fp(Dc)},useDebugValue:pp,useDeferredValue:function(s){var o=Mn();return vt===null?o.memoizedState=s:ab(o,vt.memoizedState,s)},useTransition:function(){var s=fp(Dc)[0],o=Mn().memoizedState;return[s,o]},useMutableSource:K1,useSyncExternalStore:W1,useId:lb,unstable_isNewReconciler:!1};function ar(s,o){if(s&&s.defaultProps){o=Z({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function xp(s,o,c,d){o=s.memoizedState,c=c(d,o),c=c==null?o:Z({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Zd={isMounted:function(s){return(s=s._reactInternals)?Ui(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var d=en(),x=Zs(s),y=ls(d,x);y.payload=o,c!=null&&(y.callback=c),o=$s(s,y,x),o!==null&&(ur(o,s,x,d),Gd(o,s,x))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var d=en(),x=Zs(s),y=ls(d,x);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=$s(s,y,x),o!==null&&(ur(o,s,x,d),Gd(o,s,x))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=en(),d=Zs(s),x=ls(c,d);x.tag=2,o!=null&&(x.callback=o),o=$s(s,x,d),o!==null&&(ur(o,s,d,c),Gd(o,s,d))}};function fb(s,o,c,d,x,y,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,A):o.prototype&&o.prototype.isPureReactComponent?!Nc(c,d)||!Nc(x,y):!0}function hb(s,o,c){var d=!1,x=Ks,y=o.contextType;return typeof y=="object"&&y!==null?y=Dn(y):(x=cn(o)?Vi:zt.current,d=o.contextTypes,y=(d=d!=null)?da(s,x):Ks),o=new o(c,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Zd,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=y),o}function pb(s,o,c,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==s&&Zd.enqueueReplaceState(o,o.state,null)}function mp(s,o,c,d){var x=s.stateNode;x.props=c,x.state=s.memoizedState,x.refs={},np(s);var y=o.contextType;typeof y=="object"&&y!==null?x.context=Dn(y):(y=cn(o)?Vi:zt.current,x.context=da(s,y)),x.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(xp(s,o,y,c),x.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(o=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),o!==x.state&&Zd.enqueueReplaceState(x,x.state,null),Kd(s,c,x,d),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function ba(s,o){try{var c="",d=o;do c+=Ce(d),d=d.return;while(d);var x=c}catch(y){x=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:x,digest:null}}function gp(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function yp(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var dN=typeof WeakMap=="function"?WeakMap:Map;function xb(s,o,c){c=ls(-1,c),c.tag=3,c.payload={element:null};var d=o.value;return c.callback=function(){of||(of=!0,Op=d),yp(s,o)},c}function mb(s,o,c){c=ls(-1,c),c.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var x=o.value;c.payload=function(){return d(x)},c.callback=function(){yp(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){yp(s,o),typeof d!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),c}function gb(s,o,c){var d=s.pingCache;if(d===null){d=s.pingCache=new dN;var x=new Set;d.set(o,x)}else x=d.get(o),x===void 0&&(x=new Set,d.set(o,x));x.has(c)||(x.add(c),s=SN.bind(null,s,o,c),o.then(s,s))}function yb(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function bb(s,o,c,d,x){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=ls(-1,1),o.tag=2,$s(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var fN=V.ReactCurrentOwner,un=!1;function qt(s,o,c,d){o.child=s===null?U1(o,null,c,d):xa(o,s.child,c,d)}function wb(s,o,c,d,x){c=c.render;var y=o.ref;return ga(o,x),d=cp(s,o,c,d,y,x),c=up(),s!==null&&!un?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~x,cs(s,o,x)):(tt&&c&&Wh(o),o.flags|=1,qt(s,o,d,x),o.child)}function vb(s,o,c,d,x){if(s===null){var y=c.type;return typeof y=="function"&&!_p(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=y,Ab(s,o,y,d,x)):(s=ff(c.type,null,d,o,o.mode,x),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&x)===0){var A=y.memoizedProps;if(c=c.compare,c=c!==null?c:Nc,c(A,d)&&s.ref===o.ref)return cs(s,o,x)}return o.flags|=1,s=ei(y,d),s.ref=o.ref,s.return=o,o.child=s}function Ab(s,o,c,d,x){if(s!==null){var y=s.memoizedProps;if(Nc(y,d)&&s.ref===o.ref)if(un=!1,o.pendingProps=d=y,(s.lanes&x)!==0)(s.flags&131072)!==0&&(un=!0);else return o.lanes=s.lanes,cs(s,o,x)}return bp(s,o,c,d,x)}function Nb(s,o,c){var d=o.pendingProps,x=d.children,y=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(va,Nn),Nn|=c;else{if((c&1073741824)===0)return s=y!==null?y.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,$e(va,Nn),Nn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:c,$e(va,Nn),Nn|=d}else y!==null?(d=y.baseLanes|c,o.memoizedState=null):d=c,$e(va,Nn),Nn|=d;return qt(s,o,x,c),o.child}function Eb(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function bp(s,o,c,d,x){var y=cn(c)?Vi:zt.current;return y=da(o,y),ga(o,x),c=cp(s,o,c,d,y,x),d=up(),s!==null&&!un?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~x,cs(s,o,x)):(tt&&d&&Wh(o),o.flags|=1,qt(s,o,c,x),o.child)}function Sb(s,o,c,d,x){if(cn(c)){var y=!0;Dd(o)}else y=!1;if(ga(o,x),o.stateNode===null)ef(s,o),hb(o,c,d),mp(o,c,d,x),d=!0;else if(s===null){var A=o.stateNode,T=o.memoizedProps;A.props=T;var O=A.context,G=c.contextType;typeof G=="object"&&G!==null?G=Dn(G):(G=cn(c)?Vi:zt.current,G=da(o,G));var se=c.getDerivedStateFromProps,oe=typeof se=="function"||typeof A.getSnapshotBeforeUpdate=="function";oe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(T!==d||O!==G)&&pb(o,A,d,G),Qs=!1;var ne=o.memoizedState;A.state=ne,Kd(o,d,A,x),O=o.memoizedState,T!==d||ne!==O||ln.current||Qs?(typeof se=="function"&&(xp(o,c,se,d),O=o.memoizedState),(T=Qs||fb(o,c,T,d,ne,O,G))?(oe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=O),A.props=d,A.state=O,A.context=G,d=T):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{A=o.stateNode,V1(s,o),T=o.memoizedProps,G=o.type===o.elementType?T:ar(o.type,T),A.props=G,oe=o.pendingProps,ne=A.context,O=c.contextType,typeof O=="object"&&O!==null?O=Dn(O):(O=cn(c)?Vi:zt.current,O=da(o,O));var fe=c.getDerivedStateFromProps;(se=typeof fe=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(T!==oe||ne!==O)&&pb(o,A,d,O),Qs=!1,ne=o.memoizedState,A.state=ne,Kd(o,d,A,x);var be=o.memoizedState;T!==oe||ne!==be||ln.current||Qs?(typeof fe=="function"&&(xp(o,c,fe,d),be=o.memoizedState),(G=Qs||fb(o,c,G,d,ne,be,O)||!1)?(se||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(d,be,O),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(d,be,O)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=be),A.props=d,A.state=be,A.context=O,d=G):(typeof A.componentDidUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),d=!1)}return wp(s,o,c,d,y,x)}function wp(s,o,c,d,x,y){Eb(s,o);var A=(o.flags&128)!==0;if(!d&&!A)return x&&I1(o,c,!1),cs(s,o,y);d=o.stateNode,fN.current=o;var T=A&&typeof c.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&A?(o.child=xa(o,s.child,null,y),o.child=xa(o,null,T,y)):qt(s,o,T,y),o.memoizedState=d.state,x&&I1(o,c,!0),o.child}function kb(s){var o=s.stateNode;o.pendingContext?T1(s,o.pendingContext,o.pendingContext!==o.context):o.context&&T1(s,o.context,!1),rp(s,o.containerInfo)}function Cb(s,o,c,d,x){return pa(),Yh(x),o.flags|=256,qt(s,o,c,d),o.child}var vp={dehydrated:null,treeContext:null,retryLane:0};function Ap(s){return{baseLanes:s,cachePool:null,transitions:null}}function Tb(s,o,c){var d=o.pendingProps,x=rt.current,y=!1,A=(o.flags&128)!==0,T;if((T=A)||(T=s!==null&&s.memoizedState===null?!1:(x&2)!==0),T?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),$e(rt,x&1),s===null)return Jh(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(A=d.children,s=d.fallback,y?(d=o.mode,y=o.child,A={mode:"hidden",children:A},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=A):y=hf(A,d,0,null),s=Xi(s,d,c,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=Ap(c),o.memoizedState=vp,s):Np(o,A));if(x=s.memoizedState,x!==null&&(T=x.dehydrated,T!==null))return hN(s,o,A,d,T,x,c);if(y){y=d.fallback,A=o.mode,x=s.child,T=x.sibling;var O={mode:"hidden",children:d.children};return(A&1)===0&&o.child!==x?(d=o.child,d.childLanes=0,d.pendingProps=O,o.deletions=null):(d=ei(x,O),d.subtreeFlags=x.subtreeFlags&14680064),T!==null?y=ei(T,y):(y=Xi(y,A,c,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,A=s.child.memoizedState,A=A===null?Ap(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},y.memoizedState=A,y.childLanes=s.childLanes&~c,o.memoizedState=vp,d}return y=s.child,s=y.sibling,d=ei(y,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=c),d.return=o,d.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=d,o.memoizedState=null,d}function Np(s,o){return o=hf({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function qd(s,o,c,d){return d!==null&&Yh(d),xa(o,s.child,null,c),s=Np(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function hN(s,o,c,d,x,y,A){if(c)return o.flags&256?(o.flags&=-257,d=gp(Error(t(422))),qd(s,o,A,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=d.fallback,x=o.mode,d=hf({mode:"visible",children:d.children},x,0,null),y=Xi(y,x,A,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,(o.mode&1)!==0&&xa(o,s.child,null,A),o.child.memoizedState=Ap(A),o.memoizedState=vp,y);if((o.mode&1)===0)return qd(s,o,A,null);if(x.data==="$!"){if(d=x.nextSibling&&x.nextSibling.dataset,d)var T=d.dgst;return d=T,y=Error(t(419)),d=gp(y,d,void 0),qd(s,o,A,d)}if(T=(A&s.childLanes)!==0,un||T){if(d=kt,d!==null){switch(A&-A){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(d.suspendedLanes|A))!==0?0:x,x!==0&&x!==y.retryLane&&(y.retryLane=x,as(s,x),ur(d,s,x,-1))}return Up(),d=gp(Error(t(421))),qd(s,o,A,d)}return x.data==="$?"?(o.flags|=128,o.child=s.child,o=kN.bind(null,s),x._reactRetry=o,null):(s=y.treeContext,An=Hs(x.nextSibling),vn=o,tt=!0,or=null,s!==null&&(Ln[Bn++]=is,Ln[Bn++]=os,Ln[Bn++]=zi,is=s.id,os=s.overflow,zi=o),o=Np(o,d.children),o.flags|=4096,o)}function Pb(s,o,c){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),ep(s.return,o,c)}function Ep(s,o,c,d,x){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:x}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=c,y.tailMode=x)}function Ib(s,o,c){var d=o.pendingProps,x=d.revealOrder,y=d.tail;if(qt(s,o,d.children,c),d=rt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Pb(s,c,o);else if(s.tag===19)Pb(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if($e(rt,d),(o.mode&1)===0)o.memoizedState=null;else switch(x){case"forwards":for(c=o.child,x=null;c!==null;)s=c.alternate,s!==null&&Wd(s)===null&&(x=c),c=c.sibling;c=x,c===null?(x=o.child,o.child=null):(x=c.sibling,c.sibling=null),Ep(o,!1,x,c,y);break;case"backwards":for(c=null,x=o.child,o.child=null;x!==null;){if(s=x.alternate,s!==null&&Wd(s)===null){o.child=x;break}s=x.sibling,x.sibling=c,c=x,x=s}Ep(o,!0,c,null,y);break;case"together":Ep(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ef(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function cs(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Qi|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=ei(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=ei(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function pN(s,o,c){switch(o.tag){case 3:kb(o),pa();break;case 5:G1(o);break;case 1:cn(o.type)&&Dd(o);break;case 4:rp(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,x=o.memoizedProps.value;$e(zd,d._currentValue),d._currentValue=x;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?($e(rt,rt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Tb(s,o,c):($e(rt,rt.current&1),s=cs(s,o,c),s!==null?s.sibling:null);$e(rt,rt.current&1);break;case 19:if(d=(c&o.childLanes)!==0,(s.flags&128)!==0){if(d)return Ib(s,o,c);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),$e(rt,rt.current),d)break;return null;case 22:case 23:return o.lanes=0,Nb(s,o,c)}return cs(s,o,c)}var Rb,Sp,jb,Ob;Rb=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Sp=function(){},jb=function(s,o,c,d){var x=s.memoizedProps;if(x!==d){s=o.stateNode,Ki(kr.current);var y=null;switch(c){case"input":x=jn(s,x),d=jn(s,d),y=[];break;case"select":x=Z({},x,{value:void 0}),d=Z({},d,{value:void 0}),y=[];break;case"textarea":x=ke(s,x),d=ke(s,d),y=[];break;default:typeof x.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Od)}ih(c,d);var A;c=null;for(G in x)if(!d.hasOwnProperty(G)&&x.hasOwnProperty(G)&&x[G]!=null)if(G==="style"){var T=x[G];for(A in T)T.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?y||(y=[]):(y=y||[]).push(G,null));for(G in d){var O=d[G];if(T=x!=null?x[G]:void 0,d.hasOwnProperty(G)&&O!==T&&(O!=null||T!=null))if(G==="style")if(T){for(A in T)!T.hasOwnProperty(A)||O&&O.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in O)O.hasOwnProperty(A)&&T[A]!==O[A]&&(c||(c={}),c[A]=O[A])}else c||(y||(y=[]),y.push(G,c)),c=O;else G==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,T=T?T.__html:void 0,O!=null&&T!==O&&(y=y||[]).push(G,O)):G==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(G,""+O):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(O!=null&&G==="onScroll"&&Ze("scroll",s),y||T===O||(y=[])):(y=y||[]).push(G,O))}c&&(y=y||[]).push("style",c);var G=y;(o.updateQueue=G)&&(o.flags|=4)}},Ob=function(s,o,c,d){c!==d&&(o.flags|=4)};function Fc(s,o){if(!tt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Gt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(o)for(var x=s.child;x!==null;)c|=x.lanes|x.childLanes,d|=x.subtreeFlags&14680064,d|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)c|=x.lanes|x.childLanes,d|=x.subtreeFlags,d|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=d,s.childLanes=c,o}function xN(s,o,c){var d=o.pendingProps;switch(Qh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return cn(o.type)&&Bd(),Gt(o),null;case 3:return d=o.stateNode,ya(),qe(ln),qe(zt),op(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(_d(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,or!==null&&(Dp(or),or=null))),Sp(s,o),Gt(o),null;case 5:sp(o);var x=Ki(Oc.current);if(c=o.type,s!==null&&o.stateNode!=null)jb(s,o,c,d,x),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Gt(o),null}if(s=Ki(kr.current),_d(o)){d=o.stateNode,c=o.type;var y=o.memoizedProps;switch(d[Sr]=o,d[Tc]=y,s=(o.mode&1)!==0,c){case"dialog":Ze("cancel",d),Ze("close",d);break;case"iframe":case"object":case"embed":Ze("load",d);break;case"video":case"audio":for(x=0;x<Sc.length;x++)Ze(Sc[x],d);break;case"source":Ze("error",d);break;case"img":case"image":case"link":Ze("error",d),Ze("load",d);break;case"details":Ze("toggle",d);break;case"input":Mi(d,y),Ze("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Ze("invalid",d);break;case"textarea":ut(d,y),Ze("invalid",d)}ih(c,y),x=null;for(var A in y)if(y.hasOwnProperty(A)){var T=y[A];A==="children"?typeof T=="string"?d.textContent!==T&&(y.suppressHydrationWarning!==!0&&jd(d.textContent,T,s),x=["children",T]):typeof T=="number"&&d.textContent!==""+T&&(y.suppressHydrationWarning!==!0&&jd(d.textContent,T,s),x=["children",""+T]):i.hasOwnProperty(A)&&T!=null&&A==="onScroll"&&Ze("scroll",d)}switch(c){case"input":es(d),dd(d,y,!0);break;case"textarea":es(d),je(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Od)}d=x,o.updateQueue=d,d!==null&&(o.flags|=4)}else{A=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=On(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=A.createElement(c,{is:d.is}):(s=A.createElement(c),c==="select"&&(A=s,d.multiple?A.multiple=!0:d.size&&(A.size=d.size))):s=A.createElementNS(s,c),s[Sr]=o,s[Tc]=d,Rb(s,o,!1,!1),o.stateNode=s;e:{switch(A=oh(c,d),c){case"dialog":Ze("cancel",s),Ze("close",s),x=d;break;case"iframe":case"object":case"embed":Ze("load",s),x=d;break;case"video":case"audio":for(x=0;x<Sc.length;x++)Ze(Sc[x],s);x=d;break;case"source":Ze("error",s),x=d;break;case"img":case"image":case"link":Ze("error",s),Ze("load",s),x=d;break;case"details":Ze("toggle",s),x=d;break;case"input":Mi(s,d),x=jn(s,d),Ze("invalid",s);break;case"option":x=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},x=Z({},d,{value:void 0}),Ze("invalid",s);break;case"textarea":ut(s,d),x=ke(s,d),Ze("invalid",s);break;default:x=d}ih(c,x),T=x;for(y in T)if(T.hasOwnProperty(y)){var O=T[y];y==="style"?Ay(s,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&sh(s,O)):y==="children"?typeof O=="string"?(c!=="textarea"||O!=="")&&oc(s,O):typeof O=="number"&&oc(s,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?O!=null&&y==="onScroll"&&Ze("scroll",s):O!=null&&P(s,y,O,A))}switch(c){case"input":es(s),dd(s,d,!1);break;case"textarea":es(s),je(s);break;case"option":d.value!=null&&s.setAttribute("value",""+De(d.value));break;case"select":s.multiple=!!d.multiple,y=d.value,y!=null?ts(s,!!d.multiple,y,!1):d.defaultValue!=null&&ts(s,!!d.multiple,d.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=Od)}switch(c){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Gt(o),null;case 6:if(s&&o.stateNode!=null)Ob(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(c=Ki(Oc.current),Ki(kr.current),_d(o)){if(d=o.stateNode,c=o.memoizedProps,d[Sr]=o,(y=d.nodeValue!==c)&&(s=vn,s!==null))switch(s.tag){case 3:jd(d.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&jd(d.nodeValue,c,(s.mode&1)!==0)}y&&(o.flags|=4)}else d=(c.nodeType===9?c:c.ownerDocument).createTextNode(d),d[Sr]=o,o.stateNode=d}return Gt(o),null;case 13:if(qe(rt),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(tt&&An!==null&&(o.mode&1)!==0&&(o.flags&128)===0)D1(),pa(),o.flags|=98560,y=!1;else if(y=_d(o),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Sr]=o}else pa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),y=!1}else or!==null&&(Dp(or),or=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(rt.current&1)!==0?At===0&&(At=3):Up())),o.updateQueue!==null&&(o.flags|=4),Gt(o),null);case 4:return ya(),Sp(s,o),s===null&&kc(o.stateNode.containerInfo),Gt(o),null;case 10:return qh(o.type._context),Gt(o),null;case 17:return cn(o.type)&&Bd(),Gt(o),null;case 19:if(qe(rt),y=o.memoizedState,y===null)return Gt(o),null;if(d=(o.flags&128)!==0,A=y.rendering,A===null)if(d)Fc(y,!1);else{if(At!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(A=Wd(s),A!==null){for(o.flags|=128,Fc(y,!1),d=A.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=c,c=o.child;c!==null;)y=c,s=d,y.flags&=14680066,A=y.alternate,A===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=A.childLanes,y.lanes=A.lanes,y.child=A.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=A.memoizedProps,y.memoizedState=A.memoizedState,y.updateQueue=A.updateQueue,y.type=A.type,s=A.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return $e(rt,rt.current&1|2),o.child}s=s.sibling}y.tail!==null&&pt()>Aa&&(o.flags|=128,d=!0,Fc(y,!1),o.lanes=4194304)}else{if(!d)if(s=Wd(A),s!==null){if(o.flags|=128,d=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Fc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!A.alternate&&!tt)return Gt(o),null}else 2*pt()-y.renderingStartTime>Aa&&c!==1073741824&&(o.flags|=128,d=!0,Fc(y,!1),o.lanes=4194304);y.isBackwards?(A.sibling=o.child,o.child=A):(c=y.last,c!==null?c.sibling=A:o.child=A,y.last=A)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=pt(),o.sibling=null,c=rt.current,$e(rt,d?c&1|2:c&1),o):(Gt(o),null);case 22:case 23:return Fp(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(Nn&1073741824)!==0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function mN(s,o){switch(Qh(o),o.tag){case 1:return cn(o.type)&&Bd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ya(),qe(ln),qe(zt),op(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return sp(o),null;case 13:if(qe(rt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));pa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return qe(rt),null;case 4:return ya(),null;case 10:return qh(o.type._context),null;case 22:case 23:return Fp(),null;case 24:return null;default:return null}}var tf=!1,Kt=!1,gN=typeof WeakSet=="function"?WeakSet:Set,xe=null;function wa(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(d){dt(s,o,d)}else c.current=null}function kp(s,o,c){try{c()}catch(d){dt(s,o,d)}}var Lb=!1;function yN(s,o){if(Fh=vd,s=f1(),Ih(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var x=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var A=0,T=-1,O=-1,G=0,se=0,oe=s,ne=null;t:for(;;){for(var fe;oe!==c||x!==0&&oe.nodeType!==3||(T=A+x),oe!==y||d!==0&&oe.nodeType!==3||(O=A+d),oe.nodeType===3&&(A+=oe.nodeValue.length),(fe=oe.firstChild)!==null;)ne=oe,oe=fe;for(;;){if(oe===s)break t;if(ne===c&&++G===x&&(T=A),ne===y&&++se===d&&(O=A),(fe=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=fe}c=T===-1||O===-1?null:{start:T,end:O}}else c=null}c=c||{start:0,end:0}}else c=null;for(Uh={focusedElem:s,selectionRange:c},vd=!1,xe=o;xe!==null;)if(o=xe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,xe=s;else for(;xe!==null;){o=xe;try{var be=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var ve=be.memoizedProps,xt=be.memoizedState,U=o.stateNode,B=U.getSnapshotBeforeUpdate(o.elementType===o.type?ve:ar(o.type,ve),xt);U.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var _=o.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){dt(o,o.return,ae)}if(s=o.sibling,s!==null){s.return=o.return,xe=s;break}xe=o.return}return be=Lb,Lb=!1,be}function Uc(s,o,c){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var x=d=d.next;do{if((x.tag&s)===s){var y=x.destroy;x.destroy=void 0,y!==void 0&&kp(o,c,y)}x=x.next}while(x!==d)}}function nf(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var d=c.create;c.destroy=d()}c=c.next}while(c!==o)}}function Cp(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function Bb(s){var o=s.alternate;o!==null&&(s.alternate=null,Bb(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Sr],delete o[Tc],delete o[Hh],delete o[eN],delete o[tN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Db(s){return s.tag===5||s.tag===3||s.tag===4}function Mb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Db(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Tp(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Od));else if(d!==4&&(s=s.child,s!==null))for(Tp(s,o,c),s=s.sibling;s!==null;)Tp(s,o,c),s=s.sibling}function Pp(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Pp(s,o,c),s=s.sibling;s!==null;)Pp(s,o,c),s=s.sibling}var jt=null,lr=!1;function Js(s,o,c){for(c=c.child;c!==null;)Fb(s,o,c),c=c.sibling}function Fb(s,o,c){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(xd,c)}catch{}switch(c.tag){case 5:Kt||wa(c,o);case 6:var d=jt,x=lr;jt=null,Js(s,o,c),jt=d,lr=x,jt!==null&&(lr?(s=jt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):jt.removeChild(c.stateNode));break;case 18:jt!==null&&(lr?(s=jt,c=c.stateNode,s.nodeType===8?zh(s.parentNode,c):s.nodeType===1&&zh(s,c),gc(s)):zh(jt,c.stateNode));break;case 4:d=jt,x=lr,jt=c.stateNode.containerInfo,lr=!0,Js(s,o,c),jt=d,lr=x;break;case 0:case 11:case 14:case 15:if(!Kt&&(d=c.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){x=d=d.next;do{var y=x,A=y.destroy;y=y.tag,A!==void 0&&((y&2)!==0||(y&4)!==0)&&kp(c,o,A),x=x.next}while(x!==d)}Js(s,o,c);break;case 1:if(!Kt&&(wa(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(T){dt(c,o,T)}Js(s,o,c);break;case 21:Js(s,o,c);break;case 22:c.mode&1?(Kt=(d=Kt)||c.memoizedState!==null,Js(s,o,c),Kt=d):Js(s,o,c);break;default:Js(s,o,c)}}function Ub(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new gN),o.forEach(function(d){var x=CN.bind(null,s,d);c.has(d)||(c.add(d),d.then(x,x))})}}function cr(s,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var x=c[d];try{var y=s,A=o,T=A;e:for(;T!==null;){switch(T.tag){case 5:jt=T.stateNode,lr=!1;break e;case 3:jt=T.stateNode.containerInfo,lr=!0;break e;case 4:jt=T.stateNode.containerInfo,lr=!0;break e}T=T.return}if(jt===null)throw Error(t(160));Fb(y,A,x),jt=null,lr=!1;var O=x.alternate;O!==null&&(O.return=null),x.return=null}catch(G){dt(x,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)_b(o,s),o=o.sibling}function _b(s,o){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(cr(o,s),Tr(s),d&4){try{Uc(3,s,s.return),nf(3,s)}catch(ve){dt(s,s.return,ve)}try{Uc(5,s,s.return)}catch(ve){dt(s,s.return,ve)}}break;case 1:cr(o,s),Tr(s),d&512&&c!==null&&wa(c,c.return);break;case 5:if(cr(o,s),Tr(s),d&512&&c!==null&&wa(c,c.return),s.flags&32){var x=s.stateNode;try{oc(x,"")}catch(ve){dt(s,s.return,ve)}}if(d&4&&(x=s.stateNode,x!=null)){var y=s.memoizedProps,A=c!==null?c.memoizedProps:y,T=s.type,O=s.updateQueue;if(s.updateQueue=null,O!==null)try{T==="input"&&y.type==="radio"&&y.name!=null&&Fi(x,y),oh(T,A);var G=oh(T,y);for(A=0;A<O.length;A+=2){var se=O[A],oe=O[A+1];se==="style"?Ay(x,oe):se==="dangerouslySetInnerHTML"?sh(x,oe):se==="children"?oc(x,oe):P(x,se,oe,G)}switch(T){case"input":sc(x,y);break;case"textarea":ht(x,y);break;case"select":var ne=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!y.multiple;var fe=y.value;fe!=null?ts(x,!!y.multiple,fe,!1):ne!==!!y.multiple&&(y.defaultValue!=null?ts(x,!!y.multiple,y.defaultValue,!0):ts(x,!!y.multiple,y.multiple?[]:"",!1))}x[Tc]=y}catch(ve){dt(s,s.return,ve)}}break;case 6:if(cr(o,s),Tr(s),d&4){if(s.stateNode===null)throw Error(t(162));x=s.stateNode,y=s.memoizedProps;try{x.nodeValue=y}catch(ve){dt(s,s.return,ve)}}break;case 3:if(cr(o,s),Tr(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{gc(o.containerInfo)}catch(ve){dt(s,s.return,ve)}break;case 4:cr(o,s),Tr(s);break;case 13:cr(o,s),Tr(s),x=s.child,x.flags&8192&&(y=x.memoizedState!==null,x.stateNode.isHidden=y,!y||x.alternate!==null&&x.alternate.memoizedState!==null||(jp=pt())),d&4&&Ub(s);break;case 22:if(se=c!==null&&c.memoizedState!==null,s.mode&1?(Kt=(G=Kt)||se,cr(o,s),Kt=G):cr(o,s),Tr(s),d&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!se&&(s.mode&1)!==0)for(xe=s,se=s.child;se!==null;){for(oe=xe=se;xe!==null;){switch(ne=xe,fe=ne.child,ne.tag){case 0:case 11:case 14:case 15:Uc(4,ne,ne.return);break;case 1:wa(ne,ne.return);var be=ne.stateNode;if(typeof be.componentWillUnmount=="function"){d=ne,c=ne.return;try{o=d,be.props=o.memoizedProps,be.state=o.memoizedState,be.componentWillUnmount()}catch(ve){dt(d,c,ve)}}break;case 5:wa(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Hb(oe);continue}}fe!==null?(fe.return=ne,xe=fe):Hb(oe)}se=se.sibling}e:for(se=null,oe=s;;){if(oe.tag===5){if(se===null){se=oe;try{x=oe.stateNode,G?(y=x.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(T=oe.stateNode,O=oe.memoizedProps.style,A=O!=null&&O.hasOwnProperty("display")?O.display:null,T.style.display=vy("display",A))}catch(ve){dt(s,s.return,ve)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=G?"":oe.memoizedProps}catch(ve){dt(s,s.return,ve)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===s)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===s)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===s)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:cr(o,s),Tr(s),d&4&&Ub(s);break;case 21:break;default:cr(o,s),Tr(s)}}function Tr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Db(c)){var d=c;break e}c=c.return}throw Error(t(160))}switch(d.tag){case 5:var x=d.stateNode;d.flags&32&&(oc(x,""),d.flags&=-33);var y=Mb(s);Pp(s,y,x);break;case 3:case 4:var A=d.stateNode.containerInfo,T=Mb(s);Tp(s,T,A);break;default:throw Error(t(161))}}catch(O){dt(s,s.return,O)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function bN(s,o,c){xe=s,Vb(s)}function Vb(s,o,c){for(var d=(s.mode&1)!==0;xe!==null;){var x=xe,y=x.child;if(x.tag===22&&d){var A=x.memoizedState!==null||tf;if(!A){var T=x.alternate,O=T!==null&&T.memoizedState!==null||Kt;T=tf;var G=Kt;if(tf=A,(Kt=O)&&!G)for(xe=x;xe!==null;)A=xe,O=A.child,A.tag===22&&A.memoizedState!==null?Gb(x):O!==null?(O.return=A,xe=O):Gb(x);for(;y!==null;)xe=y,Vb(y),y=y.sibling;xe=x,tf=T,Kt=G}zb(s)}else(x.subtreeFlags&8772)!==0&&y!==null?(y.return=x,xe=y):zb(s)}}function zb(s){for(;xe!==null;){var o=xe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Kt||nf(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Kt)if(c===null)d.componentDidMount();else{var x=o.elementType===o.type?c.memoizedProps:ar(o.type,c.memoizedProps);d.componentDidUpdate(x,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&H1(o,y,d);break;case 3:var A=o.updateQueue;if(A!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}H1(o,A,c)}break;case 5:var T=o.stateNode;if(c===null&&o.flags&4){c=T;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&c.focus();break;case"img":O.src&&(c.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var se=G.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&gc(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Kt||o.flags&512&&Cp(o)}catch(ne){dt(o,o.return,ne)}}if(o===s){xe=null;break}if(c=o.sibling,c!==null){c.return=o.return,xe=c;break}xe=o.return}}function Hb(s){for(;xe!==null;){var o=xe;if(o===s){xe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,xe=c;break}xe=o.return}}function Gb(s){for(;xe!==null;){var o=xe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{nf(4,o)}catch(O){dt(o,c,O)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var x=o.return;try{d.componentDidMount()}catch(O){dt(o,x,O)}}var y=o.return;try{Cp(o)}catch(O){dt(o,y,O)}break;case 5:var A=o.return;try{Cp(o)}catch(O){dt(o,A,O)}}}catch(O){dt(o,o.return,O)}if(o===s){xe=null;break}var T=o.sibling;if(T!==null){T.return=o.return,xe=T;break}xe=o.return}}var wN=Math.ceil,rf=V.ReactCurrentDispatcher,Ip=V.ReactCurrentOwner,Fn=V.ReactCurrentBatchConfig,Ve=0,kt=null,bt=null,Ot=0,Nn=0,va=Gs(0),At=0,_c=null,Qi=0,sf=0,Rp=0,Vc=null,dn=null,jp=0,Aa=1/0,us=null,of=!1,Op=null,Ys=null,af=!1,Xs=null,lf=0,zc=0,Lp=null,cf=-1,uf=0;function en(){return(Ve&6)!==0?pt():cf!==-1?cf:cf=pt()}function Zs(s){return(s.mode&1)===0?1:(Ve&2)!==0&&Ot!==0?Ot&-Ot:rN.transition!==null?(uf===0&&(uf=My()),uf):(s=We,s!==0||(s=window.event,s=s===void 0?16:Wy(s.type)),s)}function ur(s,o,c,d){if(50<zc)throw zc=0,Lp=null,Error(t(185));fc(s,c,d),((Ve&2)===0||s!==kt)&&(s===kt&&((Ve&2)===0&&(sf|=c),At===4&&qs(s,Ot)),fn(s,d),c===1&&Ve===0&&(o.mode&1)===0&&(Aa=pt()+500,Md&&Ws()))}function fn(s,o){var c=s.callbackNode;r8(s,o);var d=yd(s,s===kt?Ot:0);if(d===0)c!==null&&Ly(c),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(c!=null&&Ly(c),o===1)s.tag===0?nN(Wb.bind(null,s)):R1(Wb.bind(null,s)),Z8(function(){(Ve&6)===0&&Ws()}),c=null;else{switch(Fy(d)){case 1:c=hh;break;case 4:c=By;break;case 16:c=pd;break;case 536870912:c=Dy;break;default:c=pd}c=ew(c,Kb.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function Kb(s,o){if(cf=-1,uf=0,(Ve&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Na()&&s.callbackNode!==c)return null;var d=yd(s,s===kt?Ot:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||o)o=df(s,d);else{o=d;var x=Ve;Ve|=2;var y=$b();(kt!==s||Ot!==o)&&(us=null,Aa=pt()+500,Ji(s,o));do try{NN();break}catch(T){Qb(s,T)}while(!0);Zh(),rf.current=y,Ve=x,bt!==null?o=0:(kt=null,Ot=0,o=At)}if(o!==0){if(o===2&&(x=ph(s),x!==0&&(d=x,o=Bp(s,x))),o===1)throw c=_c,Ji(s,0),qs(s,d),fn(s,pt()),c;if(o===6)qs(s,d);else{if(x=s.current.alternate,(d&30)===0&&!vN(x)&&(o=df(s,d),o===2&&(y=ph(s),y!==0&&(d=y,o=Bp(s,y))),o===1))throw c=_c,Ji(s,0),qs(s,d),fn(s,pt()),c;switch(s.finishedWork=x,s.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Yi(s,dn,us);break;case 3:if(qs(s,d),(d&130023424)===d&&(o=jp+500-pt(),10<o)){if(yd(s,0)!==0)break;if(x=s.suspendedLanes,(x&d)!==d){en(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=Vh(Yi.bind(null,s,dn,us),o);break}Yi(s,dn,us);break;case 4:if(qs(s,d),(d&4194240)===d)break;for(o=s.eventTimes,x=-1;0<d;){var A=31-sr(d);y=1<<A,A=o[A],A>x&&(x=A),d&=~y}if(d=x,d=pt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*wN(d/1960))-d,10<d){s.timeoutHandle=Vh(Yi.bind(null,s,dn,us),d);break}Yi(s,dn,us);break;case 5:Yi(s,dn,us);break;default:throw Error(t(329))}}}return fn(s,pt()),s.callbackNode===c?Kb.bind(null,s):null}function Bp(s,o){var c=Vc;return s.current.memoizedState.isDehydrated&&(Ji(s,o).flags|=256),s=df(s,o),s!==2&&(o=dn,dn=c,o!==null&&Dp(o)),s}function Dp(s){dn===null?dn=s:dn.push.apply(dn,s)}function vN(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var d=0;d<c.length;d++){var x=c[d],y=x.getSnapshot;x=x.value;try{if(!ir(y(),x))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function qs(s,o){for(o&=~Rp,o&=~sf,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-sr(o),d=1<<c;s[c]=-1,o&=~d}}function Wb(s){if((Ve&6)!==0)throw Error(t(327));Na();var o=yd(s,0);if((o&1)===0)return fn(s,pt()),null;var c=df(s,o);if(s.tag!==0&&c===2){var d=ph(s);d!==0&&(o=d,c=Bp(s,d))}if(c===1)throw c=_c,Ji(s,0),qs(s,o),fn(s,pt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Yi(s,dn,us),fn(s,pt()),null}function Mp(s,o){var c=Ve;Ve|=1;try{return s(o)}finally{Ve=c,Ve===0&&(Aa=pt()+500,Md&&Ws())}}function $i(s){Xs!==null&&Xs.tag===0&&(Ve&6)===0&&Na();var o=Ve;Ve|=1;var c=Fn.transition,d=We;try{if(Fn.transition=null,We=1,s)return s()}finally{We=d,Fn.transition=c,Ve=o,(Ve&6)===0&&Ws()}}function Fp(){Nn=va.current,qe(va)}function Ji(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,X8(c)),bt!==null)for(c=bt.return;c!==null;){var d=c;switch(Qh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Bd();break;case 3:ya(),qe(ln),qe(zt),op();break;case 5:sp(d);break;case 4:ya();break;case 13:qe(rt);break;case 19:qe(rt);break;case 10:qh(d.type._context);break;case 22:case 23:Fp()}c=c.return}if(kt=s,bt=s=ei(s.current,null),Ot=Nn=o,At=0,_c=null,Rp=sf=Qi=0,dn=Vc=null,Gi!==null){for(o=0;o<Gi.length;o++)if(c=Gi[o],d=c.interleaved,d!==null){c.interleaved=null;var x=d.next,y=c.pending;if(y!==null){var A=y.next;y.next=x,d.next=A}c.pending=d}Gi=null}return s}function Qb(s,o){do{var c=bt;try{if(Zh(),Qd.current=Xd,$d){for(var d=st.memoizedState;d!==null;){var x=d.queue;x!==null&&(x.pending=null),d=d.next}$d=!1}if(Wi=0,St=vt=st=null,Lc=!1,Bc=0,Ip.current=null,c===null||c.return===null){At=1,_c=o,bt=null;break}e:{var y=s,A=c.return,T=c,O=o;if(o=Ot,T.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var G=O,se=T,oe=se.tag;if((se.mode&1)===0&&(oe===0||oe===11||oe===15)){var ne=se.alternate;ne?(se.updateQueue=ne.updateQueue,se.memoizedState=ne.memoizedState,se.lanes=ne.lanes):(se.updateQueue=null,se.memoizedState=null)}var fe=yb(A);if(fe!==null){fe.flags&=-257,bb(fe,A,T,y,o),fe.mode&1&&gb(y,G,o),o=fe,O=G;var be=o.updateQueue;if(be===null){var ve=new Set;ve.add(O),o.updateQueue=ve}else be.add(O);break e}else{if((o&1)===0){gb(y,G,o),Up();break e}O=Error(t(426))}}else if(tt&&T.mode&1){var xt=yb(A);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),bb(xt,A,T,y,o),Yh(ba(O,T));break e}}y=O=ba(O,T),At!==4&&(At=2),Vc===null?Vc=[y]:Vc.push(y),y=A;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var U=xb(y,O,o);z1(y,U);break e;case 1:T=O;var B=y.type,_=y.stateNode;if((y.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ys===null||!Ys.has(_)))){y.flags|=65536,o&=-o,y.lanes|=o;var ae=mb(y,T,o);z1(y,ae);break e}}y=y.return}while(y!==null)}Yb(c)}catch(Ae){o=Ae,bt===c&&c!==null&&(bt=c=c.return);continue}break}while(!0)}function $b(){var s=rf.current;return rf.current=Xd,s===null?Xd:s}function Up(){(At===0||At===3||At===2)&&(At=4),kt===null||(Qi&268435455)===0&&(sf&268435455)===0||qs(kt,Ot)}function df(s,o){var c=Ve;Ve|=2;var d=$b();(kt!==s||Ot!==o)&&(us=null,Ji(s,o));do try{AN();break}catch(x){Qb(s,x)}while(!0);if(Zh(),Ve=c,rf.current=d,bt!==null)throw Error(t(261));return kt=null,Ot=0,At}function AN(){for(;bt!==null;)Jb(bt)}function NN(){for(;bt!==null&&!$5();)Jb(bt)}function Jb(s){var o=qb(s.alternate,s,Nn);s.memoizedProps=s.pendingProps,o===null?Yb(s):bt=o,Ip.current=null}function Yb(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=xN(c,o,Nn),c!==null){bt=c;return}}else{if(c=mN(c,o),c!==null){c.flags&=32767,bt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{At=6,bt=null;return}}if(o=o.sibling,o!==null){bt=o;return}bt=o=s}while(o!==null);At===0&&(At=5)}function Yi(s,o,c){var d=We,x=Fn.transition;try{Fn.transition=null,We=1,EN(s,o,c,d)}finally{Fn.transition=x,We=d}return null}function EN(s,o,c,d){do Na();while(Xs!==null);if((Ve&6)!==0)throw Error(t(327));c=s.finishedWork;var x=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=c.lanes|c.childLanes;if(s8(s,y),s===kt&&(bt=kt=null,Ot=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||af||(af=!0,ew(pd,function(){return Na(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=Fn.transition,Fn.transition=null;var A=We;We=1;var T=Ve;Ve|=4,Ip.current=null,yN(s,c),_b(c,s),G8(Uh),vd=!!Fh,Uh=Fh=null,s.current=c,bN(c),J5(),Ve=T,We=A,Fn.transition=y}else s.current=c;if(af&&(af=!1,Xs=s,lf=x),y=s.pendingLanes,y===0&&(Ys=null),Z5(c.stateNode),fn(s,pt()),o!==null)for(d=s.onRecoverableError,c=0;c<o.length;c++)x=o[c],d(x.value,{componentStack:x.stack,digest:x.digest});if(of)throw of=!1,s=Op,Op=null,s;return(lf&1)!==0&&s.tag!==0&&Na(),y=s.pendingLanes,(y&1)!==0?s===Lp?zc++:(zc=0,Lp=s):zc=0,Ws(),null}function Na(){if(Xs!==null){var s=Fy(lf),o=Fn.transition,c=We;try{if(Fn.transition=null,We=16>s?16:s,Xs===null)var d=!1;else{if(s=Xs,Xs=null,lf=0,(Ve&6)!==0)throw Error(t(331));var x=Ve;for(Ve|=4,xe=s.current;xe!==null;){var y=xe,A=y.child;if((xe.flags&16)!==0){var T=y.deletions;if(T!==null){for(var O=0;O<T.length;O++){var G=T[O];for(xe=G;xe!==null;){var se=xe;switch(se.tag){case 0:case 11:case 15:Uc(8,se,y)}var oe=se.child;if(oe!==null)oe.return=se,xe=oe;else for(;xe!==null;){se=xe;var ne=se.sibling,fe=se.return;if(Bb(se),se===G){xe=null;break}if(ne!==null){ne.return=fe,xe=ne;break}xe=fe}}}var be=y.alternate;if(be!==null){var ve=be.child;if(ve!==null){be.child=null;do{var xt=ve.sibling;ve.sibling=null,ve=xt}while(ve!==null)}}xe=y}}if((y.subtreeFlags&2064)!==0&&A!==null)A.return=y,xe=A;else e:for(;xe!==null;){if(y=xe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Uc(9,y,y.return)}var U=y.sibling;if(U!==null){U.return=y.return,xe=U;break e}xe=y.return}}var B=s.current;for(xe=B;xe!==null;){A=xe;var _=A.child;if((A.subtreeFlags&2064)!==0&&_!==null)_.return=A,xe=_;else e:for(A=B;xe!==null;){if(T=xe,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:nf(9,T)}}catch(Ae){dt(T,T.return,Ae)}if(T===A){xe=null;break e}var ae=T.sibling;if(ae!==null){ae.return=T.return,xe=ae;break e}xe=T.return}}if(Ve=x,Ws(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(xd,s)}catch{}d=!0}return d}finally{We=c,Fn.transition=o}}return!1}function Xb(s,o,c){o=ba(c,o),o=xb(s,o,1),s=$s(s,o,1),o=en(),s!==null&&(fc(s,1,o),fn(s,o))}function dt(s,o,c){if(s.tag===3)Xb(s,s,c);else for(;o!==null;){if(o.tag===3){Xb(o,s,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ys===null||!Ys.has(d))){s=ba(c,s),s=mb(o,s,1),o=$s(o,s,1),s=en(),o!==null&&(fc(o,1,s),fn(o,s));break}}o=o.return}}function SN(s,o,c){var d=s.pingCache;d!==null&&d.delete(o),o=en(),s.pingedLanes|=s.suspendedLanes&c,kt===s&&(Ot&c)===c&&(At===4||At===3&&(Ot&130023424)===Ot&&500>pt()-jp?Ji(s,0):Rp|=c),fn(s,o)}function Zb(s,o){o===0&&((s.mode&1)===0?o=1:(o=gd,gd<<=1,(gd&130023424)===0&&(gd=4194304)));var c=en();s=as(s,o),s!==null&&(fc(s,o,c),fn(s,c))}function kN(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Zb(s,c)}function CN(s,o){var c=0;switch(s.tag){case 13:var d=s.stateNode,x=s.memoizedState;x!==null&&(c=x.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Zb(s,c)}var qb;qb=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||ln.current)un=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return un=!1,pN(s,o,c);un=(s.flags&131072)!==0}else un=!1,tt&&(o.flags&1048576)!==0&&j1(o,Ud,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;ef(s,o),s=o.pendingProps;var x=da(o,zt.current);ga(o,c),x=cp(null,o,d,s,x,c);var y=up();return o.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,cn(d)?(y=!0,Dd(o)):y=!1,o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,np(o),x.updater=Zd,o.stateNode=x,x._reactInternals=o,mp(o,d,s,c),o=wp(null,o,d,!0,y,c)):(o.tag=0,tt&&y&&Wh(o),qt(null,o,x,c),o=o.child),o;case 16:d=o.elementType;e:{switch(ef(s,o),s=o.pendingProps,x=d._init,d=x(d._payload),o.type=d,x=o.tag=PN(d),s=ar(d,s),x){case 0:o=bp(null,o,d,s,c);break e;case 1:o=Sb(null,o,d,s,c);break e;case 11:o=wb(null,o,d,s,c);break e;case 14:o=vb(null,o,d,ar(d.type,s),c);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,x=o.pendingProps,x=o.elementType===d?x:ar(d,x),bp(s,o,d,x,c);case 1:return d=o.type,x=o.pendingProps,x=o.elementType===d?x:ar(d,x),Sb(s,o,d,x,c);case 3:e:{if(kb(o),s===null)throw Error(t(387));d=o.pendingProps,y=o.memoizedState,x=y.element,V1(s,o),Kd(o,d,null,c);var A=o.memoizedState;if(d=A.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){x=ba(Error(t(423)),o),o=Cb(s,o,d,c,x);break e}else if(d!==x){x=ba(Error(t(424)),o),o=Cb(s,o,d,c,x);break e}else for(An=Hs(o.stateNode.containerInfo.firstChild),vn=o,tt=!0,or=null,c=U1(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(pa(),d===x){o=cs(s,o,c);break e}qt(s,o,d,c)}o=o.child}return o;case 5:return G1(o),s===null&&Jh(o),d=o.type,x=o.pendingProps,y=s!==null?s.memoizedProps:null,A=x.children,_h(d,x)?A=null:y!==null&&_h(d,y)&&(o.flags|=32),Eb(s,o),qt(s,o,A,c),o.child;case 6:return s===null&&Jh(o),null;case 13:return Tb(s,o,c);case 4:return rp(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=xa(o,null,d,c):qt(s,o,d,c),o.child;case 11:return d=o.type,x=o.pendingProps,x=o.elementType===d?x:ar(d,x),wb(s,o,d,x,c);case 7:return qt(s,o,o.pendingProps,c),o.child;case 8:return qt(s,o,o.pendingProps.children,c),o.child;case 12:return qt(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(d=o.type._context,x=o.pendingProps,y=o.memoizedProps,A=x.value,$e(zd,d._currentValue),d._currentValue=A,y!==null)if(ir(y.value,A)){if(y.children===x.children&&!ln.current){o=cs(s,o,c);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var T=y.dependencies;if(T!==null){A=y.child;for(var O=T.firstContext;O!==null;){if(O.context===d){if(y.tag===1){O=ls(-1,c&-c),O.tag=2;var G=y.updateQueue;if(G!==null){G=G.shared;var se=G.pending;se===null?O.next=O:(O.next=se.next,se.next=O),G.pending=O}}y.lanes|=c,O=y.alternate,O!==null&&(O.lanes|=c),ep(y.return,c,o),T.lanes|=c;break}O=O.next}}else if(y.tag===10)A=y.type===o.type?null:y.child;else if(y.tag===18){if(A=y.return,A===null)throw Error(t(341));A.lanes|=c,T=A.alternate,T!==null&&(T.lanes|=c),ep(A,c,o),A=y.sibling}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===o){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}qt(s,o,x.children,c),o=o.child}return o;case 9:return x=o.type,d=o.pendingProps.children,ga(o,c),x=Dn(x),d=d(x),o.flags|=1,qt(s,o,d,c),o.child;case 14:return d=o.type,x=ar(d,o.pendingProps),x=ar(d.type,x),vb(s,o,d,x,c);case 15:return Ab(s,o,o.type,o.pendingProps,c);case 17:return d=o.type,x=o.pendingProps,x=o.elementType===d?x:ar(d,x),ef(s,o),o.tag=1,cn(d)?(s=!0,Dd(o)):s=!1,ga(o,c),hb(o,d,x),mp(o,d,x,c),wp(null,o,d,!0,s,c);case 19:return Ib(s,o,c);case 22:return Nb(s,o,c)}throw Error(t(156,o.tag))};function ew(s,o){return Oy(s,o)}function TN(s,o,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(s,o,c,d){return new TN(s,o,c,d)}function _p(s){return s=s.prototype,!(!s||!s.isReactComponent)}function PN(s){if(typeof s=="function")return _p(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ce)return 11;if(s===$)return 14}return 2}function ei(s,o){var c=s.alternate;return c===null?(c=Un(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function ff(s,o,c,d,x,y){var A=2;if(d=s,typeof s=="function")_p(s)&&(A=1);else if(typeof s=="string")A=5;else e:switch(s){case Q:return Xi(c.children,x,y,o);case H:A=8,x|=8;break;case te:return s=Un(12,c,o,x|2),s.elementType=te,s.lanes=y,s;case pe:return s=Un(13,c,o,x),s.elementType=pe,s.lanes=y,s;case ue:return s=Un(19,c,o,x),s.elementType=ue,s.lanes=y,s;case ee:return hf(c,x,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Y:A=10;break e;case re:A=9;break e;case ce:A=11;break e;case $:A=14;break e;case J:A=16,d=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Un(A,c,o,x),o.elementType=s,o.type=d,o.lanes=y,o}function Xi(s,o,c,d){return s=Un(7,s,d,o),s.lanes=c,s}function hf(s,o,c,d){return s=Un(22,s,d,o),s.elementType=ee,s.lanes=c,s.stateNode={isHidden:!1},s}function Vp(s,o,c){return s=Un(6,s,null,o),s.lanes=c,s}function zp(s,o,c){return o=Un(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function IN(s,o,c,d,x){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xh(0),this.expirationTimes=xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xh(0),this.identifierPrefix=d,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Hp(s,o,c,d,x,y,A,T,O){return s=new IN(s,o,c,T,O),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Un(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},np(y),s}function RN(s,o,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:d==null?null:""+d,children:s,containerInfo:o,implementation:c}}function tw(s){if(!s)return Ks;s=s._reactInternals;e:{if(Ui(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(cn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(cn(c))return P1(s,c,o)}return o}function nw(s,o,c,d,x,y,A,T,O){return s=Hp(c,d,!0,s,x,y,A,T,O),s.context=tw(null),c=s.current,d=en(),x=Zs(c),y=ls(d,x),y.callback=o??null,$s(c,y,x),s.current.lanes=x,fc(s,x,d),fn(s,d),s}function pf(s,o,c,d){var x=o.current,y=en(),A=Zs(x);return c=tw(c),o.context===null?o.context=c:o.pendingContext=c,o=ls(y,A),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=$s(x,o,A),s!==null&&(ur(s,x,A,y),Gd(s,x,A)),A}function xf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function rw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Gp(s,o){rw(s,o),(s=s.alternate)&&rw(s,o)}function jN(){return null}var sw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Kp(s){this._internalRoot=s}mf.prototype.render=Kp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));pf(s,o,null,null)},mf.prototype.unmount=Kp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;$i(function(){pf(null,s,null,null)}),o[rs]=null}};function mf(s){this._internalRoot=s}mf.prototype.unstable_scheduleHydration=function(s){if(s){var o=Vy();s={blockedOn:null,target:s,priority:o};for(var c=0;c<_s.length&&o!==0&&o<_s[c].priority;c++);_s.splice(c,0,s),c===0&&Gy(s)}};function Wp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function gf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function iw(){}function ON(s,o,c,d,x){if(x){if(typeof d=="function"){var y=d;d=function(){var G=xf(A);y.call(G)}}var A=nw(o,d,s,0,null,!1,!1,"",iw);return s._reactRootContainer=A,s[rs]=A.current,kc(s.nodeType===8?s.parentNode:s),$i(),A}for(;x=s.lastChild;)s.removeChild(x);if(typeof d=="function"){var T=d;d=function(){var G=xf(O);T.call(G)}}var O=Hp(s,0,!1,null,null,!1,!1,"",iw);return s._reactRootContainer=O,s[rs]=O.current,kc(s.nodeType===8?s.parentNode:s),$i(function(){pf(o,O,c,d)}),O}function yf(s,o,c,d,x){var y=c._reactRootContainer;if(y){var A=y;if(typeof x=="function"){var T=x;x=function(){var O=xf(A);T.call(O)}}pf(o,A,s,x)}else A=ON(c,o,s,x,d);return xf(A)}Uy=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=dc(o.pendingLanes);c!==0&&(mh(o,c|1),fn(o,pt()),(Ve&6)===0&&(Aa=pt()+500,Ws()))}break;case 13:$i(function(){var d=as(s,1);if(d!==null){var x=en();ur(d,s,1,x)}}),Gp(s,1)}},gh=function(s){if(s.tag===13){var o=as(s,134217728);if(o!==null){var c=en();ur(o,s,134217728,c)}Gp(s,134217728)}},_y=function(s){if(s.tag===13){var o=Zs(s),c=as(s,o);if(c!==null){var d=en();ur(c,s,o,d)}Gp(s,o)}},Vy=function(){return We},zy=function(s,o){var c=We;try{return We=s,o()}finally{We=c}},ch=function(s,o,c){switch(o){case"input":if(sc(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==s&&d.form===s.form){var x=Ld(d);if(!x)throw Error(t(90));nr(d),sc(d,x)}}}break;case"textarea":ht(s,c);break;case"select":o=c.value,o!=null&&ts(s,!!c.multiple,o,!1)}},ky=Mp,Cy=$i;var LN={usingClientEntryPoint:!1,Events:[Pc,ca,Ld,Ey,Sy,Mp]},Hc={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BN={bundleType:Hc.bundleType,version:Hc.version,rendererPackageName:Hc.rendererPackageName,rendererConfig:Hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ry(s),s===null?null:s.stateNode},findFiberByHostInstance:Hc.findFiberByHostInstance||jN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{xd=bf.inject(BN),Er=bf}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LN,hn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wp(o))throw Error(t(200));return RN(s,o,null,c)},hn.createRoot=function(s,o){if(!Wp(s))throw Error(t(299));var c=!1,d="",x=sw;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=Hp(s,1,!1,null,null,c,!1,d,x),s[rs]=o.current,kc(s.nodeType===8?s.parentNode:s),new Kp(o)},hn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ry(o),s=s===null?null:s.stateNode,s},hn.flushSync=function(s){return $i(s)},hn.hydrate=function(s,o,c){if(!gf(o))throw Error(t(200));return yf(null,s,o,!0,c)},hn.hydrateRoot=function(s,o,c){if(!Wp(s))throw Error(t(405));var d=c!=null&&c.hydratedSources||null,x=!1,y="",A=sw;if(c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),o=nw(o,null,s,1,c??null,x,!1,y,A),s[rs]=o.current,kc(s),d)for(s=0;s<d.length;s++)c=d[s],x=c._getVersion,x=x(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,x]:o.mutableSourceEagerHydrationData.push(c,x);return new mf(o)},hn.render=function(s,o,c){if(!gf(o))throw Error(t(200));return yf(null,s,o,!1,c)},hn.unmountComponentAtNode=function(s){if(!gf(s))throw Error(t(40));return s._reactRootContainer?($i(function(){yf(null,null,s,!1,function(){s._reactRootContainer=null,s[rs]=null})}),!0):!1},hn.unstable_batchedUpdates=Mp,hn.unstable_renderSubtreeIntoContainer=function(s,o,c,d){if(!gf(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return yf(s,o,c,!1,d)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var pw;function WN(){if(pw)return Yp.exports;pw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yp.exports=KN(),Yp.exports}var xw;function QN(){if(xw)return wf;xw=1;var n=WN();return wf.createRoot=n.createRoot,wf.hydrateRoot=n.hydrateRoot,wf}var $N=QN(),D=qm();const JN=UN(D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),mw=n=>{const e=XN(n);return e.charAt(0).toUpperCase()+e.slice(1)},l3=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},f)=>D.createElement("svg",{ref:f,...ZN,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:l3("lucide",i),...u},[...l.map(([p,m])=>D.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(n,e)=>{const t=D.forwardRef(({className:r,...i},a)=>D.createElement(qN,{ref:a,iconNode:e,className:l3(`lucide-${YN(mw(n))}`,`lucide-${n}`,r),...i}));return t.displayName=mw(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eg=Xe("arrow-left",e9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],n9=Xe("bell",t9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xu=Xe("check",r9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],c3=Xe("chevron-down",s9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],u3=Xe("chevron-left",i9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],B0=Xe("chevron-right",o9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_f=Xe("circle-alert",a9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xu=Xe("circle-check",l9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],tg=Xe("circle-x",c9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],d9=Xe("clock",u9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],D0=Xe("copy",f9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],p9=Xe("eye-off",h9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],m9=Xe("eye",x9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],y9=Xe("file-code-2",g9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],w9=Xe("file-text",b9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],A9=Xe("house",v9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],d3=Xe("link-2",N9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],S9=Xe("lock",E9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ti=Xe("message-circle",k9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],T9=Xe("plus",C9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],I9=Xe("search",P9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],j9=Xe("send",R9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],L9=Xe("settings",O9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_o=Xe("triangle-alert",B9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],M9=Xe("user",D9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vo=Xe("x",F9),f3="6.16.0";function U9(n,e,t){const r=e.split("|").map(a=>a.trim());for(let a=0;a<r.length;a++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${t}`,i.value=n,i}async function Jt(n){const e=Object.keys(n);return(await Promise.all(e.map(r=>Promise.resolve(n[r])))).reduce((r,i,a)=>(r[e[a]]=i,r),{})}function Ne(n,e,t){for(let r in e){let i=e[r];const a=t?t[r]:null;a&&U9(i,a,r),Object.defineProperty(n,r,{enumerable:!0,value:i,writable:!1})}}function Ra(n,e){if(n==null)return"null";if(e==null&&(e=new Set),typeof n=="object"){if(e.has(n))return"[Circular]";e.add(n)}if(Array.isArray(n))return"[ "+n.map(t=>Ra(t,e)).join(", ")+" ]";if(n instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let i=0;i<n.length;i++)r+=t[n[i]>>4],r+=t[n[i]&15];return r}if(typeof n=="object"&&typeof n.toJSON=="function")return Ra(n.toJSON(),e);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const t=Object.keys(n);return t.sort(),"{ "+t.map(r=>`${Ra(r,e)}: ${Ra(n[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ut(n,e){return n&&n.code===e}function ng(n){return Ut(n,"CALL_EXCEPTION")}function it(n,e,t){let r=n;{const a=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${Ra(t)}`);for(const l in t){if(l==="shortMessage")continue;const u=t[l];a.push(l+"="+Ra(u))}}a.push(`code=${e}`),a.push(`version=${f3}`),a.length&&(n+=" ("+a.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(n);break;default:i=new Error(n)}return Ne(i,{code:e}),t&&Object.assign(i,t),i.shortMessage==null&&Ne(i,{shortMessage:r}),i}function q(n,e,t,r){if(!n)throw it(e,t,r)}function R(n,e,t,r){q(n,e,"INVALID_ARGUMENT",{argument:t,value:r})}function h3(n,e,t){t==null&&(t=""),t&&(t=": "+t),q(n>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:n,expectedCount:e}),q(n<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:e})}const _9=["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");n.push(e)}catch{}return n},[]);function p3(n){q(_9.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function Yo(n,e,t){if(t==null&&(t=""),n!==e){let r=t,i="new";t&&(r+=".",i+=" "+t),q(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function x3(n,e,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.length%2===0&&n.match(/^0x[0-9a-f]*$/i)){const r=new Uint8Array((n.length-2)/2);let i=2;for(let a=0;a<r.length;a++)r[a]=parseInt(n.substring(i,i+2),16),i+=2;return r}R(!1,"invalid BytesLike value",e||"value",n)}function de(n,e){return x3(n,e,!1)}function _t(n,e){return x3(n,e,!0)}function Je(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function M0(n){return Je(n,!0)||n instanceof Uint8Array}const gw="0123456789abcdef";function ie(n){const e=de(n);let t="0x";for(let r=0;r<e.length;r++){const i=e[r];t+=gw[(i&240)>>4]+gw[i&15]}return t}function Ke(n){return"0x"+n.map(e=>ie(e).substring(2)).join("")}function Va(n){return Je(n,!0)?(n.length-2)/2:de(n).length}function et(n,e,t){const r=de(n);return t!=null&&t>r.length&&q(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:t}),ie(r.slice(e??0,t??r.length))}function m3(n,e,t){const r=de(n);q(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),t?i.set(r,e-r.length):i.set(r,0),ie(i)}function Is(n,e){return m3(n,e,!0)}function V9(n,e){return m3(n,e,!1)}const Zu=BigInt(0),vr=BigInt(1),ja=9007199254740991;function z9(n,e){const t=F0(n,"value"),r=BigInt(Ie(e,"width"));if(q(t>>r===Zu,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),t>>r-vr){const i=(vr<<r)-vr;return-((~t&i)+vr)}return t}function g3(n,e){let t=he(n,"value");const r=BigInt(Ie(e,"width")),i=vr<<r-vr;if(t<Zu){t=-t,q(t<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const a=(vr<<r)-vr;return(~t&a)+vr}else q(t<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function Yc(n,e){const t=F0(n,"value"),r=BigInt(Ie(e,"bits"));return t&(vr<<r)-vr}function he(n,e){switch(typeof n){case"bigint":return n;case"number":return R(Number.isInteger(n),"underflow",e||"value",n),R(n>=-ja&&n<=ja,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){R(!1,`invalid BigNumberish string: ${t.message}`,e||"value",n)}}R(!1,"invalid BigNumberish value",e||"value",n)}function F0(n,e){const t=he(n,e);return q(t>=Zu,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}const yw="0123456789abcdef";function U0(n){if(n instanceof Uint8Array){let e="0x0";for(const t of n)e+=yw[t>>4],e+=yw[t&15];return BigInt(e)}return he(n)}function Ie(n,e){switch(typeof n){case"bigint":return R(n>=-ja&&n<=ja,"overflow",e||"value",n),Number(n);case"number":return R(Number.isInteger(n),"underflow",e||"value",n),R(n>=-ja&&n<=ja,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return Ie(BigInt(n),e)}catch(t){R(!1,`invalid numeric string: ${t.message}`,e||"value",n)}}R(!1,"invalid numeric value",e||"value",n)}function H9(n){return Ie(U0(n))}function Rs(n,e){const t=F0(n,"value");let r=t.toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Ie(e,"width");if(i===0&&t===Zu)return"0x";for(q(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<i*2;)r="0"+r}return"0x"+r}function lt(n,e){const t=F0(n,"value");if(t===Zu)return new Uint8Array(0);let r=t.toString(16);r.length%2&&(r="0"+r);const i=new Uint8Array(r.length/2);for(let a=0;a<i.length;a++){const l=a*2;i[a]=parseInt(r.substring(l,l+2),16)}return i}function wr(n){let e=ie(M0(n)?n:lt(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const l0="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let vf=null;function G9(n){if(vf==null){vf={};for(let t=0;t<l0.length;t++)vf[l0[t]]=BigInt(t)}const e=vf[n];return R(e!=null,"invalid base58 value","letter",n),e}const K9=BigInt(0),Gx=BigInt(58);function y3(n){const e=de(n);let t=U0(e),r="";for(;t;)r=l0[Number(t%Gx)]+r,t/=Gx;for(let i=0;i<e.length&&!e[i];i++)r=l0[0]+r;return r}function W9(n){let e=K9;for(let t=0;t<n.length;t++)e*=Gx,e+=G9(n[t]);return e}function Q9(n){n=atob(n);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return de(e)}function $9(n){const e=de(n);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var Wa;class b3{constructor(e,t,r){M(this,"filter");M(this,"emitter");z(this,Wa);C(this,Wa,t),Ne(this,{emitter:e,filter:r})}async removeListener(){v(this,Wa)!=null&&await this.emitter.off(this.filter,v(this,Wa))}}Wa=new WeakMap;function J9(n,e,t,r,i){R(!1,`invalid codepoint at offset ${e}; ${n}`,"bytes",t)}function w3(n,e,t,r,i){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let a=0;for(let l=e+1;l<t.length&&t[l]>>6===2;l++)a++;return a}return n==="OVERRUN"?t.length-e-1:0}function Y9(n,e,t,r,i){return n==="OVERLONG"?(R(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),w3(n,e,t))}const X9=Object.freeze({error:J9,ignore:w3,replace:Y9});function Z9(n,e){e==null&&(e=X9.error);const t=de(n,"bytes"),r=[];let i=0;for(;i<t.length;){const a=t[i++];if(a>>7===0){r.push(a);continue}let l=null,u=null;if((a&224)===192)l=1,u=127;else if((a&240)===224)l=2,u=2047;else if((a&248)===240)l=3,u=65535;else{(a&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,t,r):i+=e("BAD_PREFIX",i-1,t,r);continue}if(i-1+l>=t.length){i+=e("OVERRUN",i-1,t,r);continue}let f=a&(1<<8-l-1)-1;for(let p=0;p<l;p++){let m=t[i];if((m&192)!=128){i+=e("MISSING_CONTINUE",i,t,r),f=null;break}f=f<<6|m&63,i++}if(f!==null){if(f>1114111){i+=e("OUT_OF_RANGE",i-1-l,t,r,f);continue}if(f>=55296&&f<=57343){i+=e("UTF16_SURROGATE",i-1-l,t,r,f);continue}if(f<=u){i+=e("OVERLONG",i-1-l,t,r,f);continue}r.push(f)}}return r}function an(n,e){R(typeof n=="string","invalid string value","str",n),e!=null&&(p3(e),n=n.normalize(e));let t=[];for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){r++;const a=n.charCodeAt(r);R(r<n.length&&(a&64512)===56320,"invalid surrogate pair","str",n);const l=65536+((i&1023)<<10)+(a&1023);t.push(l>>18|240),t.push(l>>12&63|128),t.push(l>>6&63|128),t.push(l&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return new Uint8Array(t)}function q9(n){return n.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function c0(n,e){return q9(Z9(n,e))}function v3(n){async function e(t,r){q(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=t.url.split(":")[0].toLowerCase();q(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),q(i==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let a=null;const l=new AbortController,u=setTimeout(()=>{a=it("request timeout","TIMEOUT"),l.abort()},t.timeout);r&&r.addListener(()=>{a=it("request cancelled","CANCELLED"),l.abort()});const f=Object.assign({},n,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:l.signal});let p;try{p=await fetch(t.url,f)}catch(w){throw clearTimeout(u),a||w}clearTimeout(u);const m={};p.headers.forEach((w,E)=>{m[E.toLowerCase()]=w});const g=await p.arrayBuffer(),b=g==null?null:new Uint8Array(g);return{statusCode:p.status,statusMessage:p.statusText,headers:m,body:b}}return e}const e7=12,t7=250;let bw=v3();const n7=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),r7=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let qp=!1;async function A3(n,e){try{const t=n.match(n7);if(!t)throw new Error("invalid data");return new Pi(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?Q9(t[3]):i7(t[3]))}catch{return new Pi(599,"BAD REQUEST (invalid data: URI)",{},null,new js(n))}}function N3(n){async function e(t,r){try{const i=t.match(r7);if(!i)throw new Error("invalid link");return new js(`${n}${i[2]}`)}catch{return new Pi(599,"BAD REQUEST (invalid IPFS URI)",{},null,new js(t))}}return e}const Af={data:A3,ipfs:N3("https://gateway.ipfs.io/ipfs/")},E3=new WeakMap;var xo,ci;class s7{constructor(e){z(this,xo);z(this,ci);C(this,xo,[]),C(this,ci,!1),E3.set(e,()=>{if(!v(this,ci)){C(this,ci,!0);for(const t of v(this,xo))setTimeout(()=>{t()},0);C(this,xo,[])}})}addListener(e){q(!v(this,ci),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),v(this,xo).push(e)}get cancelled(){return v(this,ci)}checkSignal(){q(!this.cancelled,"cancelled","CANCELLED",{})}}xo=new WeakMap,ci=new WeakMap;function Nf(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}var Qa,$a,xr,xs,Ja,Ya,Tt,kn,ms,mo,go,yo,Br,mr,ui,bo,Xc;const T0=class T0{constructor(e){z(this,bo);z(this,Qa);z(this,$a);z(this,xr);z(this,xs);z(this,Ja);z(this,Ya);z(this,Tt);z(this,kn);z(this,ms);z(this,mo);z(this,go);z(this,yo);z(this,Br);z(this,mr);z(this,ui);C(this,Ya,String(e)),C(this,Qa,!1),C(this,$a,!0),C(this,xr,{}),C(this,xs,""),C(this,Ja,3e5),C(this,mr,{slotInterval:t7,maxAttempts:e7}),C(this,ui,null)}get url(){return v(this,Ya)}set url(e){C(this,Ya,String(e))}get body(){return v(this,Tt)==null?null:new Uint8Array(v(this,Tt))}set body(e){if(e==null)C(this,Tt,void 0),C(this,kn,void 0);else if(typeof e=="string")C(this,Tt,an(e)),C(this,kn,"text/plain");else if(e instanceof Uint8Array)C(this,Tt,e),C(this,kn,"application/octet-stream");else if(typeof e=="object")C(this,Tt,an(JSON.stringify(e))),C(this,kn,"application/json");else throw new Error("invalid body")}hasBody(){return v(this,Tt)!=null}get method(){return v(this,xs)?v(this,xs):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),C(this,xs,String(e).toUpperCase())}get headers(){const e=Object.assign({},v(this,xr));return v(this,ms)&&(e.authorization=`Basic ${$9(an(v(this,ms)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&v(this,kn)&&(e["content-type"]=v(this,kn)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){v(this,xr)[String(e).toLowerCase()]=String(t)}clearHeaders(){C(this,xr,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const i=t[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return v(this,ms)||null}setCredentials(e,t){R(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),C(this,ms,`${e}:${t}`)}get allowGzip(){return v(this,$a)}set allowGzip(e){C(this,$a,!!e)}get allowInsecureAuthentication(){return!!v(this,Qa)}set allowInsecureAuthentication(e){C(this,Qa,!!e)}get timeout(){return v(this,Ja)}set timeout(e){R(e>=0,"timeout must be non-zero","timeout",e),C(this,Ja,e)}get preflightFunc(){return v(this,mo)||null}set preflightFunc(e){C(this,mo,e)}get processFunc(){return v(this,go)||null}set processFunc(e){C(this,go,e)}get retryFunc(){return v(this,yo)||null}set retryFunc(e){C(this,yo,e)}get getUrlFunc(){return v(this,ui)||bw}set getUrlFunc(e){C(this,ui,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${v(this,Tt)?ie(v(this,Tt)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(v(this,mr).slotInterval=e.slotInterval),e.maxAttempts!=null&&(v(this,mr).maxAttempts=e.maxAttempts)}send(){return q(v(this,Br)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),C(this,Br,new s7(this)),le(this,bo,Xc).call(this,0,ww()+this.timeout,0,this,new Pi(0,"",{},null,this))}cancel(){q(v(this,Br)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=E3.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();q(this.method==="GET"&&(t!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new T0(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,C(i,xr,Object.assign({},v(this,xr))),v(this,Tt)&&C(i,Tt,new Uint8Array(v(this,Tt))),C(i,kn,v(this,kn)),i}clone(){const e=new T0(this.url);return C(e,xs,v(this,xs)),v(this,Tt)&&C(e,Tt,v(this,Tt)),C(e,kn,v(this,kn)),C(e,xr,Object.assign({},v(this,xr))),C(e,ms,v(this,ms)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),C(e,mo,v(this,mo)),C(e,go,v(this,go)),C(e,yo,v(this,yo)),C(e,mr,Object.assign({},v(this,mr))),C(e,ui,v(this,ui)),e}static lockConfig(){qp=!0}static getGateway(e){return Af[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(qp)throw new Error("gateways locked");Af[e]=t}static registerGetUrl(e){if(qp)throw new Error("gateways locked");bw=e}static createGetUrlFunc(e){return v3(e)}static createDataGateway(){return A3}static createIpfsGatewayFunc(e){return N3(e)}};Qa=new WeakMap,$a=new WeakMap,xr=new WeakMap,xs=new WeakMap,Ja=new WeakMap,Ya=new WeakMap,Tt=new WeakMap,kn=new WeakMap,ms=new WeakMap,mo=new WeakMap,go=new WeakMap,yo=new WeakMap,Br=new WeakMap,mr=new WeakMap,ui=new WeakMap,bo=new WeakSet,Xc=async function(e,t,r,i,a){var m,g,b;if(e>=v(this,mr).maxAttempts)return a.makeServerError("exceeded maximum retry limit");q(ww()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await o7(r);let l=this.clone();const u=(l.url.split(":")[0]||"").toLowerCase();if(u in Af){const w=await Af[u](l.url,Nf(v(i,Br)));if(w instanceof Pi){let E=w;if(this.processFunc){Nf(v(i,Br));try{E=await this.processFunc(l,E)}catch(N){(N.throttle==null||typeof N.stall!="number")&&E.makeServerError("error in post-processing function",N).assertOk()}}return E}l=w}this.preflightFunc&&(l=await this.preflightFunc(l));const f=await this.getUrlFunc(l,Nf(v(i,Br)));let p=new Pi(f.statusCode,f.statusMessage,f.headers,f.body,i);if(p.statusCode===301||p.statusCode===302){try{const w=p.headers.location||"";return le(m=l.redirect(w),bo,Xc).call(m,e+1,t,0,i,p)}catch{}return p}else if(p.statusCode===429&&(this.retryFunc==null||await this.retryFunc(l,p,e))){const w=p.headers["retry-after"];let E=v(this,mr).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof w=="string"&&w.match(/^[1-9][0-9]*$/)&&(E=parseInt(w)),le(g=l.clone(),bo,Xc).call(g,e+1,t,E,i,p)}if(this.processFunc){Nf(v(i,Br));try{p=await this.processFunc(l,p)}catch(w){(w.throttle==null||typeof w.stall!="number")&&p.makeServerError("error in post-processing function",w).assertOk();let E=v(this,mr).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return w.stall>=0&&(E=w.stall),le(b=l.clone(),bo,Xc).call(b,e+1,t,E,i,p)}}return p};let js=T0;var Bu,Du,Mu,Cn,Xa,wo;const my=class my{constructor(e,t,r,i,a){z(this,Bu);z(this,Du);z(this,Mu);z(this,Cn);z(this,Xa);z(this,wo);C(this,Bu,e),C(this,Du,t),C(this,Mu,Object.keys(r).reduce((l,u)=>(l[u.toLowerCase()]=String(r[u]),l),{})),C(this,Cn,i==null?null:new Uint8Array(i)),C(this,Xa,a||null),C(this,wo,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${v(this,Cn)?ie(v(this,Cn)):"null"}>`}get statusCode(){return v(this,Bu)}get statusMessage(){return v(this,Du)}get headers(){return Object.assign({},v(this,Mu))}get body(){return v(this,Cn)==null?null:new Uint8Array(v(this,Cn))}get bodyText(){try{return v(this,Cn)==null?"":c0(v(this,Cn))}catch{q(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{q(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const i=t[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new my(599,r,this.headers,this.body,v(this,Xa)||void 0);return C(i,wo,{message:e,error:t}),i}throwThrottleError(e,t){t==null?t=-1:R(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw Ne(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return v(this,Cn)!=null}get request(){return v(this,Xa)}ok(){return v(this,wo).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=v(this,wo);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{v(this,Cn)&&(i=c0(v(this,Cn)))}catch{}q(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Bu=new WeakMap,Du=new WeakMap,Mu=new WeakMap,Cn=new WeakMap,Xa=new WeakMap,wo=new WeakMap;let Pi=my;function ww(){return new Date().getTime()}function i7(n){return an(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function o7(n){return new Promise(e=>setTimeout(e,n))}function a7(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function vw(n,e,t){let r=0;for(let i=0;i<t;i++)r=r*256+n[e+i];return r}function Aw(n,e,t,r){const i=[];for(;t<e+1+r;){const a=S3(n,t);i.push(a.result),t+=a.consumed,q(t<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:e})}return{consumed:1+r,result:i}}function S3(n,e){q(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const t=r=>{q(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[e]>=248){const r=n[e]-247;t(e+1+r);const i=vw(n,e+1,r);return t(e+1+r+i),Aw(n,e,e+1+r,r+i)}else if(n[e]>=192){const r=n[e]-192;return t(e+1+r),Aw(n,e,e+1,r)}else if(n[e]>=184){const r=n[e]-183;t(e+1+r);const i=vw(n,e+1,r);t(e+1+r+i);const a=ie(n.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:a}}else if(n[e]>=128){const r=n[e]-128;t(e+1+r);const i=ie(n.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:a7(n[e])}}function qu(n){const e=de(n,"data"),t=S3(e,0);return R(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function Nw(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function k3(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(a){r=r.concat(k3(a))}),r.length<=55)return r.unshift(192+r.length),r;const i=Nw(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(de(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Nw(e.length);return t.unshift(183+t.length),t.concat(e)}const Ew="0123456789abcdef";function $r(n){let e="0x";for(const t of k3(n))e+=Ew[t>>4],e+=Ew[t&15];return e}function l7(n){const e=de(n,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=ie(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const nn=32,Kx=new Uint8Array(nn),c7=["then"],Ef={},C3=new WeakMap;function so(n){return C3.get(n)}function Sw(n,e){C3.set(n,e)}function Wc(n,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw t.error=e,t}function Wx(n,e,t){return n.indexOf(null)>=0?e.map((r,i)=>r instanceof Bl?Wx(so(r),r,t):r):n.reduce((r,i,a)=>{let l=e.getValue(i);return i in r||(t&&l instanceof Bl&&(l=Wx(so(l),l,t)),r[i]=l),r},{})}var Za;const Fa=class Fa extends Array{constructor(...t){const r=t[0];let i=t[1],a=(t[2]||[]).slice(),l=!0;r!==Ef&&(i=t,a=[],l=!1);super(i.length);z(this,Za);i.forEach((p,m)=>{this[m]=p});const u=a.reduce((p,m)=>(typeof m=="string"&&p.set(m,(p.get(m)||0)+1),p),new Map);if(Sw(this,Object.freeze(i.map((p,m)=>{const g=a[m];return g!=null&&u.get(g)===1?g:null}))),C(this,Za,[]),v(this,Za)==null&&v(this,Za),!l)return;Object.freeze(this);const f=new Proxy(this,{get:(p,m,g)=>{if(typeof m=="string"){if(m.match(/^[0-9]+$/)){const w=Ie(m,"%index");if(w<0||w>=this.length)throw new RangeError("out of result range");const E=p[w];return E instanceof Error&&Wc(`index ${w}`,E),E}if(c7.indexOf(m)>=0)return Reflect.get(p,m,g);const b=p[m];if(b instanceof Function)return function(...w){return b.apply(this===g?p:this,w)};if(!(m in p))return p.getValue.apply(this===g?p:this,[m])}return Reflect.get(p,m,g)}});return Sw(f,so(this)),f}toArray(t){const r=[];return this.forEach((i,a)=>{i instanceof Error&&Wc(`index ${a}`,i),t&&i instanceof Fa&&(i=i.toArray(t)),r.push(i)}),r}toObject(t){const r=so(this);return r.reduce((i,a,l)=>(q(a!=null,`value at index ${l} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Wx(r,this,t)),{})}slice(t,r){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=so(this),a=[],l=[];for(let u=t;u<r;u++)a.push(this[u]),l.push(i[u]);return new Fa(Ef,a,l)}filter(t,r){const i=so(this),a=[],l=[];for(let u=0;u<this.length;u++){const f=this[u];f instanceof Error&&Wc(`index ${u}`,f),t.call(r,f,u,this)&&(a.push(f),l.push(i[u]))}return new Fa(Ef,a,l)}map(t,r){const i=[];for(let a=0;a<this.length;a++){const l=this[a];l instanceof Error&&Wc(`index ${a}`,l),i.push(t.call(r,l,a,this))}return i}getValue(t){const r=so(this).indexOf(t);if(r===-1)return;const i=this[r];return i instanceof Error&&Wc(`property ${JSON.stringify(t)}`,i.error),i}static fromItems(t,r){return new Fa(Ef,t,r)}};Za=new WeakMap;let Bl=Fa;function kw(n){let e=lt(n);return q(e.length<=nn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:nn,offset:e.length}),e.length!==nn&&(e=_t(Ke([Kx.slice(e.length%nn),e]))),e}class Ds{constructor(e,t,r,i){M(this,"name");M(this,"type");M(this,"localName");M(this,"dynamic");Ne(this,{name:e,type:t,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){R(!1,e,this.localName,t)}}var gs,vo,qa,Vf;class Qx{constructor(){z(this,qa);z(this,gs);z(this,vo);C(this,gs,[]),C(this,vo,0)}get data(){return Ke(v(this,gs))}get length(){return v(this,vo)}appendWriter(e){return le(this,qa,Vf).call(this,_t(e.data))}writeBytes(e){let t=_t(e);const r=t.length%nn;return r&&(t=_t(Ke([t,Kx.slice(r)]))),le(this,qa,Vf).call(this,t)}writeValue(e){return le(this,qa,Vf).call(this,kw(e))}writeUpdatableValue(){const e=v(this,gs).length;return v(this,gs).push(Kx),C(this,vo,v(this,vo)+nn),t=>{v(this,gs)[e]=kw(t)}}}gs=new WeakMap,vo=new WeakMap,qa=new WeakSet,Vf=function(e){return v(this,gs).push(e),C(this,vo,v(this,vo)+e.length),e.length};var pn,Tn,Ao,No,di,Jo,Jx,T3;const gy=class gy{constructor(e,t,r){z(this,Jo);M(this,"allowLoose");z(this,pn);z(this,Tn);z(this,Ao);z(this,No);z(this,di);Ne(this,{allowLoose:!!t}),C(this,pn,_t(e)),C(this,Ao,0),C(this,No,null),C(this,di,r??1024),C(this,Tn,0)}get data(){return ie(v(this,pn))}get dataLength(){return v(this,pn).length}get consumed(){return v(this,Tn)}get bytes(){return new Uint8Array(v(this,pn))}subReader(e){const t=new gy(v(this,pn).slice(v(this,Tn)+e),this.allowLoose,v(this,di));return C(t,No,this),t}readBytes(e,t){let r=le(this,Jo,T3).call(this,0,e,!!t);return le(this,Jo,Jx).call(this,e),C(this,Tn,v(this,Tn)+r.length),r.slice(0,e)}readValue(){return U0(this.readBytes(nn))}readIndex(){return H9(this.readBytes(nn))}};pn=new WeakMap,Tn=new WeakMap,Ao=new WeakMap,No=new WeakMap,di=new WeakMap,Jo=new WeakSet,Jx=function(e){var t;if(v(this,No))return le(t=v(this,No),Jo,Jx).call(t,e);C(this,Ao,v(this,Ao)+e),q(v(this,di)<1||v(this,Ao)<=v(this,di)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${v(this,di)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:_t(v(this,pn)),offset:v(this,Tn),length:e,info:{bytesRead:v(this,Ao),dataLength:this.dataLength}})},T3=function(e,t,r){let i=Math.ceil(t/nn)*nn;return v(this,Tn)+i>v(this,pn).length&&(this.allowLoose&&r&&v(this,Tn)+t<=v(this,pn).length?i=t:q(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:_t(v(this,pn)),length:v(this,pn).length,offset:v(this,Tn)+i})),v(this,pn).slice(v(this,Tn),v(this,Tn)+i)};let $x=gy;function In(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function rg(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function P3(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");In(n.outputLen),In(n.blockLen)}function Dl(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function I3(n,e){rg(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const ex=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const R3=n=>n instanceof Uint8Array,zf=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),Hf=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Pr=(n,e)=>n<<32-e|n>>>e,u7=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!u7)throw new Error("Non little-endian hardware is not supported");const d7=async()=>{};async function Cw(n,e,t){let r=Date.now();for(let i=0;i<n;i++){t(i);const a=Date.now()-r;a>=0&&a<e||(await d7(),r+=a)}}function f7(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Ml(n){if(typeof n=="string"&&(n=f7(n)),!R3(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function h7(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!R3(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}class sg{clone(){return this._cloneInto()}}const p7={}.toString;function j3(n,e){if(e!==void 0&&p7.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(n,e)}function _0(n){const e=r=>n().update(Ml(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function x7(n=32){if(ex&&typeof ex.getRandomValues=="function")return ex.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class O3 extends sg{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,P3(e);const r=Ml(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let l=0;l<a.length;l++)a[l]^=54;this.iHash.update(a),this.oHash=e.create();for(let l=0;l<a.length;l++)a[l]^=106;this.oHash.update(a),a.fill(0)}update(e){return Dl(this),this.iHash.update(e),this}digestInto(e){Dl(this),rg(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:a,blockLen:l,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=l,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const V0=(n,e,t)=>new O3(n,e).update(t).digest();V0.create=(n,e)=>new O3(n,e);function m7(n,e,t,r){P3(n);const i=j3({dkLen:32,asyncTick:10},r),{c:a,dkLen:l,asyncTick:u}=i;if(In(a),In(l),In(u),a<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const f=Ml(e),p=Ml(t),m=new Uint8Array(l),g=V0.create(n,f),b=g._cloneInto().update(p);return{c:a,dkLen:l,asyncTick:u,DK:m,PRF:g,PRFSalt:b}}function g7(n,e,t,r,i){return n.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),t}function ig(n,e,t,r){const{c:i,dkLen:a,DK:l,PRF:u,PRFSalt:f}=m7(n,e,t,r);let p;const m=new Uint8Array(4),g=Hf(m),b=new Uint8Array(u.outputLen);for(let w=1,E=0;E<a;w++,E+=u.outputLen){const N=l.subarray(E,E+u.outputLen);g.setInt32(0,w,!1),(p=f._cloneInto(p)).update(m).digestInto(b),N.set(b.subarray(0,N.length));for(let S=1;S<i;S++){u._cloneInto(p).update(b).digestInto(b);for(let k=0;k<N.length;k++)N[k]^=b[k]}}return g7(u,f,l,p,b)}function y7(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),a=BigInt(4294967295),l=Number(t>>i&a),u=Number(t&a),f=r?4:0,p=r?0:4;n.setUint32(e+f,l,r),n.setUint32(e+p,u,r)}class og extends sg{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Hf(this.buffer)}update(e){Dl(this);const{view:t,buffer:r,blockLen:i}=this;e=Ml(e);const a=e.length;for(let l=0;l<a;){const u=Math.min(i-this.pos,a-l);if(u===i){const f=Hf(e);for(;i<=a-l;l+=i)this.process(f,l);continue}r.set(e.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Dl(this),I3(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:a}=this;let{pos:l}=this;t[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let g=l;g<i;g++)t[g]=0;y7(r,i-8,BigInt(this.length*8),a),this.process(r,0);const u=Hf(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=f/4,m=this.get();if(p>m.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<p;g++)u.setUint32(4*g,m[g],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:a,destroyed:l,pos:u}=this;return e.length=i,e.pos=u,e.finished=a,e.destroyed=l,i%t&&e.buffer.set(r),e}}const b7=(n,e,t)=>n&e^~n&t,w7=(n,e,t)=>n&e^n&t^e&t,v7=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ni=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ri=new Uint32Array(64);class A7 extends og{constructor(){super(64,32,8,!1),this.A=ni[0]|0,this.B=ni[1]|0,this.C=ni[2]|0,this.D=ni[3]|0,this.E=ni[4]|0,this.F=ni[5]|0,this.G=ni[6]|0,this.H=ni[7]|0}get(){const{A:e,B:t,C:r,D:i,E:a,F:l,G:u,H:f}=this;return[e,t,r,i,a,l,u,f]}set(e,t,r,i,a,l,u,f){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=a|0,this.F=l|0,this.G=u|0,this.H=f|0}process(e,t){for(let g=0;g<16;g++,t+=4)ri[g]=e.getUint32(t,!1);for(let g=16;g<64;g++){const b=ri[g-15],w=ri[g-2],E=Pr(b,7)^Pr(b,18)^b>>>3,N=Pr(w,17)^Pr(w,19)^w>>>10;ri[g]=N+ri[g-7]+E+ri[g-16]|0}let{A:r,B:i,C:a,D:l,E:u,F:f,G:p,H:m}=this;for(let g=0;g<64;g++){const b=Pr(u,6)^Pr(u,11)^Pr(u,25),w=m+b+b7(u,f,p)+v7[g]+ri[g]|0,N=(Pr(r,2)^Pr(r,13)^Pr(r,22))+w7(r,i,a)|0;m=p,p=f,f=u,u=l+w|0,l=a,a=i,i=r,r=w+N|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,l=l+this.D|0,u=u+this.E|0,f=f+this.F|0,p=p+this.G|0,m=m+this.H|0,this.set(r,i,a,l,u,f,p,m)}roundClean(){ri.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ql=_0(()=>new A7),Sf=BigInt(2**32-1),Yx=BigInt(32);function L3(n,e=!1){return e?{h:Number(n&Sf),l:Number(n>>Yx&Sf)}:{h:Number(n>>Yx&Sf)|0,l:Number(n&Sf)|0}}function B3(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){const{h:a,l}=L3(n[i],e);[t[i],r[i]]=[a,l]}return[t,r]}const N7=(n,e)=>BigInt(n>>>0)<<Yx|BigInt(e>>>0),E7=(n,e,t)=>n>>>t,S7=(n,e,t)=>n<<32-t|e>>>t,k7=(n,e,t)=>n>>>t|e<<32-t,C7=(n,e,t)=>n<<32-t|e>>>t,T7=(n,e,t)=>n<<64-t|e>>>t-32,P7=(n,e,t)=>n>>>t-32|e<<64-t,I7=(n,e)=>e,R7=(n,e)=>n,D3=(n,e,t)=>n<<t|e>>>32-t,M3=(n,e,t)=>e<<t|n>>>32-t,F3=(n,e,t)=>e<<t-32|n>>>64-t,U3=(n,e,t)=>n<<t-32|e>>>64-t;function j7(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const O7=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),L7=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,B7=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),D7=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,M7=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),F7=(n,e,t,r,i,a)=>e+t+r+i+a+(n/2**32|0)|0,Re={fromBig:L3,split:B3,toBig:N7,shrSH:E7,shrSL:S7,rotrSH:k7,rotrSL:C7,rotrBH:T7,rotrBL:P7,rotr32H:I7,rotr32L:R7,rotlSH:D3,rotlSL:M3,rotlBH:F3,rotlBL:U3,add:j7,add3L:O7,add3H:L7,add4L:B7,add4H:D7,add5H:F7,add5L:M7},[U7,_7]=Re.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),si=new Uint32Array(80),ii=new Uint32Array(80);class V7 extends og{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:a,Cl:l,Dh:u,Dl:f,Eh:p,El:m,Fh:g,Fl:b,Gh:w,Gl:E,Hh:N,Hl:S}=this;return[e,t,r,i,a,l,u,f,p,m,g,b,w,E,N,S]}set(e,t,r,i,a,l,u,f,p,m,g,b,w,E,N,S){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=a|0,this.Cl=l|0,this.Dh=u|0,this.Dl=f|0,this.Eh=p|0,this.El=m|0,this.Fh=g|0,this.Fl=b|0,this.Gh=w|0,this.Gl=E|0,this.Hh=N|0,this.Hl=S|0}process(e,t){for(let P=0;P<16;P++,t+=4)si[P]=e.getUint32(t),ii[P]=e.getUint32(t+=4);for(let P=16;P<80;P++){const V=si[P-15]|0,L=ii[P-15]|0,F=Re.rotrSH(V,L,1)^Re.rotrSH(V,L,8)^Re.shrSH(V,L,7),Q=Re.rotrSL(V,L,1)^Re.rotrSL(V,L,8)^Re.shrSL(V,L,7),H=si[P-2]|0,te=ii[P-2]|0,Y=Re.rotrSH(H,te,19)^Re.rotrBH(H,te,61)^Re.shrSH(H,te,6),re=Re.rotrSL(H,te,19)^Re.rotrBL(H,te,61)^Re.shrSL(H,te,6),ce=Re.add4L(Q,re,ii[P-7],ii[P-16]),pe=Re.add4H(ce,F,Y,si[P-7],si[P-16]);si[P]=pe|0,ii[P]=ce|0}let{Ah:r,Al:i,Bh:a,Bl:l,Ch:u,Cl:f,Dh:p,Dl:m,Eh:g,El:b,Fh:w,Fl:E,Gh:N,Gl:S,Hh:k,Hl:I}=this;for(let P=0;P<80;P++){const V=Re.rotrSH(g,b,14)^Re.rotrSH(g,b,18)^Re.rotrBH(g,b,41),L=Re.rotrSL(g,b,14)^Re.rotrSL(g,b,18)^Re.rotrBL(g,b,41),F=g&w^~g&N,Q=b&E^~b&S,H=Re.add5L(I,L,Q,_7[P],ii[P]),te=Re.add5H(H,k,V,F,U7[P],si[P]),Y=H|0,re=Re.rotrSH(r,i,28)^Re.rotrBH(r,i,34)^Re.rotrBH(r,i,39),ce=Re.rotrSL(r,i,28)^Re.rotrBL(r,i,34)^Re.rotrBL(r,i,39),pe=r&a^r&u^a&u,ue=i&l^i&f^l&f;k=N|0,I=S|0,N=w|0,S=E|0,w=g|0,E=b|0,{h:g,l:b}=Re.add(p|0,m|0,te|0,Y|0),p=u|0,m=f|0,u=a|0,f=l|0,a=r|0,l=i|0;const $=Re.add3L(Y,ce,ue);r=Re.add3H($,te,re,pe),i=$|0}({h:r,l:i}=Re.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:a,l}=Re.add(this.Bh|0,this.Bl|0,a|0,l|0),{h:u,l:f}=Re.add(this.Ch|0,this.Cl|0,u|0,f|0),{h:p,l:m}=Re.add(this.Dh|0,this.Dl|0,p|0,m|0),{h:g,l:b}=Re.add(this.Eh|0,this.El|0,g|0,b|0),{h:w,l:E}=Re.add(this.Fh|0,this.Fl|0,w|0,E|0),{h:N,l:S}=Re.add(this.Gh|0,this.Gl|0,N|0,S|0),{h:k,l:I}=Re.add(this.Hh|0,this.Hl|0,k|0,I|0),this.set(r,i,a,l,u,f,p,m,g,b,w,E,N,S,k,I)}roundClean(){si.fill(0),ii.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ag=_0(()=>new V7);function z7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const Tw=z7(),Pw=Tw.crypto||Tw.msCrypto;function H7(n){switch(n){case"sha256":return Ql.create();case"sha512":return ag.create()}R(!1,"invalid hashing algorithm name","algorithm",n)}function G7(n,e){const t={sha256:Ql,sha512:ag}[n];return R(t!=null,"invalid hmac algorithm","algorithm",n),V0.create(t,e)}function K7(n,e,t,r,i){const a={sha256:Ql,sha512:ag}[i];return R(a!=null,"invalid pbkdf2 algorithm","algorithm",i),ig(a,n,e,{c:t,dkLen:r})}function W7(n){q(Pw!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),R(Number.isInteger(n)&&n>0&&n<=1024,"invalid length","length",n);const e=new Uint8Array(n);return Pw.getRandomValues(e),e}let _3=!1;const V3=function(n,e,t){return G7(n,e).update(t).digest()};let z3=V3;function $l(n,e,t){const r=de(e,"key"),i=de(t,"data");return ie(z3(n,r,i))}$l._=V3;$l.lock=function(){_3=!0};$l.register=function(n){if(_3)throw new Error("computeHmac is locked");z3=n};Object.freeze($l);const[H3,G3,K3]=[[],[],[]],Q7=BigInt(0),Qc=BigInt(1),$7=BigInt(2),J7=BigInt(7),Y7=BigInt(256),X7=BigInt(113);for(let n=0,e=Qc,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],H3.push(2*(5*r+t)),G3.push((n+1)*(n+2)/2%64);let i=Q7;for(let a=0;a<7;a++)e=(e<<Qc^(e>>J7)*X7)%Y7,e&$7&&(i^=Qc<<(Qc<<BigInt(a))-Qc);K3.push(i)}const[Z7,q7]=B3(K3,!0),Iw=(n,e,t)=>t>32?F3(n,e,t):D3(n,e,t),Rw=(n,e,t)=>t>32?U3(n,e,t):M3(n,e,t);function eE(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let l=0;l<10;l++)t[l]=n[l]^n[l+10]^n[l+20]^n[l+30]^n[l+40];for(let l=0;l<10;l+=2){const u=(l+8)%10,f=(l+2)%10,p=t[f],m=t[f+1],g=Iw(p,m,1)^t[u],b=Rw(p,m,1)^t[u+1];for(let w=0;w<50;w+=10)n[l+w]^=g,n[l+w+1]^=b}let i=n[2],a=n[3];for(let l=0;l<24;l++){const u=G3[l],f=Iw(i,a,u),p=Rw(i,a,u),m=H3[l];i=n[m],a=n[m+1],n[m]=f,n[m+1]=p}for(let l=0;l<50;l+=10){for(let u=0;u<10;u++)t[u]=n[l+u];for(let u=0;u<10;u++)n[l+u]^=~t[(u+2)%10]&t[(u+4)%10]}n[0]^=Z7[r],n[1]^=q7[r]}t.fill(0)}class lg extends sg{constructor(e,t,r,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,In(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=zf(this.state)}keccak(){eE(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Dl(this);const{blockLen:t,state:r}=this;e=Ml(e);const i=e.length;for(let a=0;a<i;){const l=Math.min(t-this.pos,i-a);for(let u=0;u<l;u++)r[this.pos++]^=e[a++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(t&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Dl(this,!1),rg(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,a=e.length;i<a;){this.posOut>=r&&this.keccak();const l=Math.min(r-this.posOut,a-i);e.set(t.subarray(this.posOut,this.posOut+l),i),this.posOut+=l,i+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return In(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(I3(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:a,enableXOF:l}=this;return e||(e=new lg(t,r,i,l,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=i,e.enableXOF=l,e.destroyed=this.destroyed,e}}const tE=(n,e,t)=>_0(()=>new lg(e,n,t)),nE=tE(1,136,256/8);let W3=!1;const Q3=function(n){return nE(n)};let $3=Q3;function nt(n){const e=de(n,"data");return ie($3(e))}nt._=Q3;nt.lock=function(){W3=!0};nt.register=function(n){if(W3)throw new TypeError("keccak256 is locked");$3=n};Object.freeze(nt);const rE=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),J3=Uint8Array.from({length:16},(n,e)=>e),sE=J3.map(n=>(9*n+5)%16);let cg=[J3],ug=[sE];for(let n=0;n<4;n++)for(let e of[cg,ug])e.push(e[n].map(t=>rE[t]));const Y3=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),iE=cg.map((n,e)=>n.map(t=>Y3[e][t])),oE=ug.map((n,e)=>n.map(t=>Y3[e][t])),aE=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),lE=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),kf=(n,e)=>n<<e|n>>>32-e;function jw(n,e,t,r){return n===0?e^t^r:n===1?e&t|~e&r:n===2?(e|~t)^r:n===3?e&r|t&~r:e^(t|~r)}const Cf=new Uint32Array(16);class cE extends og{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:i,h4:a}=this;return[e,t,r,i,a]}set(e,t,r,i,a){this.h0=e|0,this.h1=t|0,this.h2=r|0,this.h3=i|0,this.h4=a|0}process(e,t){for(let w=0;w<16;w++,t+=4)Cf[w]=e.getUint32(t,!0);let r=this.h0|0,i=r,a=this.h1|0,l=a,u=this.h2|0,f=u,p=this.h3|0,m=p,g=this.h4|0,b=g;for(let w=0;w<5;w++){const E=4-w,N=aE[w],S=lE[w],k=cg[w],I=ug[w],P=iE[w],V=oE[w];for(let L=0;L<16;L++){const F=kf(r+jw(w,a,u,p)+Cf[k[L]]+N,P[L])+g|0;r=g,g=p,p=kf(u,10)|0,u=a,a=F}for(let L=0;L<16;L++){const F=kf(i+jw(E,l,f,m)+Cf[I[L]]+S,V[L])+b|0;i=b,b=m,m=kf(f,10)|0,f=l,l=F}}this.set(this.h1+u+m|0,this.h2+p+b|0,this.h3+g+i|0,this.h4+r+l|0,this.h0+a+f|0)}roundClean(){Cf.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const uE=_0(()=>new cE);let X3=!1;const Z3=function(n){return uE(n)};let q3=Z3;function Jl(n){const e=de(n,"data");return ie(q3(e))}Jl._=Z3;Jl.lock=function(){X3=!0};Jl.register=function(n){if(X3)throw new TypeError("ripemd160 is locked");q3=n};Object.freeze(Jl);let e4=!1;const t4=function(n,e,t,r,i){return K7(n,e,t,r,i)};let n4=t4;function Li(n,e,t,r,i){const a=de(n,"password"),l=de(e,"salt");return ie(n4(a,l,t,r,i))}Li._=t4;Li.lock=function(){e4=!0};Li.register=function(n){if(e4)throw new Error("pbkdf2 is locked");n4=n};Object.freeze(Li);let r4=!1;const s4=function(n){return new Uint8Array(W7(n))};let i4=s4;function Ts(n){return i4(n)}Ts._=s4;Ts.lock=function(){r4=!0};Ts.register=function(n){if(r4)throw new Error("randomBytes is locked");i4=n};Object.freeze(Ts);const He=(n,e)=>n<<e|n>>>32-e;function Ow(n,e,t,r,i,a){let l=n[e++]^t[r++],u=n[e++]^t[r++],f=n[e++]^t[r++],p=n[e++]^t[r++],m=n[e++]^t[r++],g=n[e++]^t[r++],b=n[e++]^t[r++],w=n[e++]^t[r++],E=n[e++]^t[r++],N=n[e++]^t[r++],S=n[e++]^t[r++],k=n[e++]^t[r++],I=n[e++]^t[r++],P=n[e++]^t[r++],V=n[e++]^t[r++],L=n[e++]^t[r++],F=l,Q=u,H=f,te=p,Y=m,re=g,ce=b,pe=w,ue=E,$=N,J=S,ee=k,W=I,X=P,Z=V,j=L;for(let K=0;K<8;K+=2)Y^=He(F+W|0,7),ue^=He(Y+F|0,9),W^=He(ue+Y|0,13),F^=He(W+ue|0,18),$^=He(re+Q|0,7),X^=He($+re|0,9),Q^=He(X+$|0,13),re^=He(Q+X|0,18),Z^=He(J+ce|0,7),H^=He(Z+J|0,9),ce^=He(H+Z|0,13),J^=He(ce+H|0,18),te^=He(j+ee|0,7),pe^=He(te+j|0,9),ee^=He(pe+te|0,13),j^=He(ee+pe|0,18),Q^=He(F+te|0,7),H^=He(Q+F|0,9),te^=He(H+Q|0,13),F^=He(te+H|0,18),ce^=He(re+Y|0,7),pe^=He(ce+re|0,9),Y^=He(pe+ce|0,13),re^=He(Y+pe|0,18),ee^=He(J+$|0,7),ue^=He(ee+J|0,9),$^=He(ue+ee|0,13),J^=He($+ue|0,18),W^=He(j+Z|0,7),X^=He(W+j|0,9),Z^=He(X+W|0,13),j^=He(Z+X|0,18);i[a++]=l+F|0,i[a++]=u+Q|0,i[a++]=f+H|0,i[a++]=p+te|0,i[a++]=m+Y|0,i[a++]=g+re|0,i[a++]=b+ce|0,i[a++]=w+pe|0,i[a++]=E+ue|0,i[a++]=N+$|0,i[a++]=S+J|0,i[a++]=k+ee|0,i[a++]=I+W|0,i[a++]=P+X|0,i[a++]=V+Z|0,i[a++]=L+j|0}function za(n,e,t,r,i){let a=r+0,l=r+16*i;for(let u=0;u<16;u++)t[l+u]=n[e+(2*i-1)*16+u];for(let u=0;u<i;u++,a+=16,e+=16)Ow(t,l,n,e,t,a),u>0&&(l+=16),Ow(t,a,n,e+=16,t,l)}function o4(n,e,t){const r=j3({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:i,r:a,p:l,dkLen:u,asyncTick:f,maxmem:p,onProgress:m}=r;if(In(i),In(a),In(l),In(u),In(f),In(p),m!==void 0&&typeof m!="function")throw new Error("progressCb should be function");const g=128*a,b=g/4;if(i<=1||(i&i-1)!==0||i>=2**(g/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(l<0||l>(2**32-1)*32/g)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(u<0||u>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const w=g*(i+l);if(w>p)throw new Error(`Scrypt: parameters too large, ${w} (128 * r * (N + p)) > ${p} (maxmem)`);const E=ig(Ql,n,e,{c:1,dkLen:g*l}),N=zf(E),S=zf(new Uint8Array(g*i)),k=zf(new Uint8Array(g));let I=()=>{};if(m){const P=2*i*l,V=Math.max(Math.floor(P/1e4),1);let L=0;I=()=>{L++,m&&(!(L%V)||L===P)&&m(L/P)}}return{N:i,r:a,p:l,dkLen:u,blockSize32:b,V:S,B32:N,B:E,tmp:k,blockMixCb:I,asyncTick:f}}function a4(n,e,t,r,i){const a=ig(Ql,n,t,{c:1,dkLen:e});return t.fill(0),r.fill(0),i.fill(0),a}function dE(n,e,t){const{N:r,r:i,p:a,dkLen:l,blockSize32:u,V:f,B32:p,B:m,tmp:g,blockMixCb:b}=o4(n,e,t);for(let w=0;w<a;w++){const E=u*w;for(let N=0;N<u;N++)f[N]=p[E+N];for(let N=0,S=0;N<r-1;N++)za(f,S,f,S+=u,i),b();za(f,(r-1)*u,p,E,i),b();for(let N=0;N<r;N++){const S=p[E+u-16]%r;for(let k=0;k<u;k++)g[k]=p[E+k]^f[S*u+k];za(g,0,p,E,i),b()}}return a4(n,l,m,f,g)}async function fE(n,e,t){const{N:r,r:i,p:a,dkLen:l,blockSize32:u,V:f,B32:p,B:m,tmp:g,blockMixCb:b,asyncTick:w}=o4(n,e,t);for(let E=0;E<a;E++){const N=u*E;for(let k=0;k<u;k++)f[k]=p[N+k];let S=0;await Cw(r-1,w,()=>{za(f,S,f,S+=u,i),b()}),za(f,(r-1)*u,p,N,i),b(),await Cw(r,w,()=>{const k=p[N+u-16]%r;for(let I=0;I<u;I++)g[I]=p[N+I]^f[k*u+I];za(g,0,p,N,i),b()})}return a4(n,l,m,f,g)}let l4=!1,c4=!1;const u4=async function(n,e,t,r,i,a,l){return await fE(n,e,{N:t,r,p:i,dkLen:a,onProgress:l})},d4=function(n,e,t,r,i,a){return dE(n,e,{N:t,r,p:i,dkLen:a})};let f4=u4,h4=d4;async function Yl(n,e,t,r,i,a,l){const u=de(n,"passwd"),f=de(e,"salt");return ie(await f4(u,f,t,r,i,a,l))}Yl._=u4;Yl.lock=function(){c4=!0};Yl.register=function(n){if(c4)throw new Error("scrypt is locked");f4=n};Object.freeze(Yl);function Xl(n,e,t,r,i,a){const l=de(n,"passwd"),u=de(e,"salt");return ie(h4(l,u,t,r,i,a))}Xl._=d4;Xl.lock=function(){l4=!0};Xl.register=function(n){if(l4)throw new Error("scryptSync is locked");h4=n};Object.freeze(Xl);const p4=function(n){return H7("sha256").update(n).digest()};let x4=p4,m4=!1;function tr(n){const e=de(n,"data");return ie(x4(e))}tr._=p4;tr.lock=function(){m4=!0};tr.register=function(n){if(m4)throw new Error("sha256 is locked");x4=n};Object.freeze(tr);Object.freeze(tr);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const hE=BigInt(1),pE=BigInt(2),z0=n=>n instanceof Uint8Array,xE=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Fl(n){if(!z0(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=xE[n[t]];return e}function dg(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function mu(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const i=r*2,a=n.slice(i,i+2),l=Number.parseInt(a,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");t[r]=l}return t}function Do(n){return dg(Fl(n))}function fg(n){if(!z0(n))throw new Error("Uint8Array expected");return dg(Fl(Uint8Array.from(n).reverse()))}function Ul(n,e){return mu(n.toString(16).padStart(e*2,"0"))}function hg(n,e){return Ul(n,e).reverse()}function pr(n,e,t){let r;if(typeof e=="string")try{r=mu(e)}catch(a){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${a}`)}else if(z0(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(`${n} expected ${t} bytes, got ${i}`);return r}function gu(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!z0(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}const pg=n=>(pE<<BigInt(n-1))-hE,tx=n=>new Uint8Array(n),Lw=n=>Uint8Array.from(n);function g4(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=tx(n),i=tx(n),a=0;const l=()=>{r.fill(1),i.fill(0),a=0},u=(...g)=>t(i,r,...g),f=(g=tx())=>{i=u(Lw([0]),g),r=u(),g.length!==0&&(i=u(Lw([1]),g),r=u())},p=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const b=[];for(;g<e;){r=u();const w=r.slice();b.push(w),g+=r.length}return gu(...b)};return(g,b)=>{l(),f(g);let w;for(;!(w=b(p()));)f();return l(),w}}const mE={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function ed(n,e,t={}){const r=(i,a,l)=>{const u=mE[a];if(typeof u!="function")throw new Error(`Invalid validator "${a}", expected function`);const f=n[i];if(!(l&&f===void 0)&&!u(f,n))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${a}`)};for(const[i,a]of Object.entries(e))r(i,a,!1);for(const[i,a]of Object.entries(t))r(i,a,!0);return n}const gE=Object.freeze(Object.defineProperty({__proto__:null,bitMask:pg,bytesToHex:Fl,bytesToNumberBE:Do,bytesToNumberLE:fg,concatBytes:gu,createHmacDrbg:g4,ensureBytes:pr,hexToBytes:mu,hexToNumber:dg,numberToBytesBE:Ul,numberToBytesLE:hg,validateObject:ed},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const It=BigInt(0),yt=BigInt(1),io=BigInt(2),yE=BigInt(3),Xx=BigInt(4),Bw=BigInt(5),Dw=BigInt(8);BigInt(9);BigInt(16);function mn(n,e){const t=n%e;return t>=It?t:e+t}function bE(n,e,t){if(t<=It||e<It)throw new Error("Expected power/modulo > 0");if(t===yt)return It;let r=yt;for(;e>It;)e&yt&&(r=r*n%t),n=n*n%t,e>>=yt;return r}function _n(n,e,t){let r=n;for(;e-- >It;)r*=r,r%=t;return r}function Zx(n,e){if(n===It||e<=It)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=mn(n,e),r=e,i=It,a=yt;for(;t!==It;){const u=r/t,f=r%t,p=i-a*u;r=t,t=f,i=a,a=p}if(r!==yt)throw new Error("invert: does not exist");return mn(i,e)}function wE(n){const e=(n-yt)/io;let t,r,i;for(t=n-yt,r=0;t%io===It;t/=io,r++);for(i=io;i<n&&bE(i,e,n)!==n-yt;i++);if(r===1){const l=(n+yt)/Xx;return function(f,p){const m=f.pow(p,l);if(!f.eql(f.sqr(m),p))throw new Error("Cannot find square root");return m}}const a=(t+yt)/io;return function(u,f){if(u.pow(f,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let p=r,m=u.pow(u.mul(u.ONE,i),t),g=u.pow(f,a),b=u.pow(f,t);for(;!u.eql(b,u.ONE);){if(u.eql(b,u.ZERO))return u.ZERO;let w=1;for(let N=u.sqr(b);w<p&&!u.eql(N,u.ONE);w++)N=u.sqr(N);const E=u.pow(m,yt<<BigInt(p-w-1));m=u.sqr(E),g=u.mul(g,E),b=u.mul(b,m),p=w}return g}}function vE(n){if(n%Xx===yE){const e=(n+yt)/Xx;return function(r,i){const a=r.pow(i,e);if(!r.eql(r.sqr(a),i))throw new Error("Cannot find square root");return a}}if(n%Dw===Bw){const e=(n-Bw)/Dw;return function(r,i){const a=r.mul(i,io),l=r.pow(a,e),u=r.mul(i,l),f=r.mul(r.mul(u,io),l),p=r.mul(u,r.sub(f,r.ONE));if(!r.eql(r.sqr(p),i))throw new Error("Cannot find square root");return p}}return wE(n)}const AE=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function NE(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=AE.reduce((r,i)=>(r[i]="function",r),e);return ed(n,t)}function EE(n,e,t){if(t<It)throw new Error("Expected power > 0");if(t===It)return n.ONE;if(t===yt)return e;let r=n.ONE,i=e;for(;t>It;)t&yt&&(r=n.mul(r,i)),i=n.sqr(i),t>>=yt;return r}function SE(n,e){const t=new Array(e.length),r=e.reduce((a,l,u)=>n.is0(l)?a:(t[u]=a,n.mul(a,l)),n.ONE),i=n.inv(r);return e.reduceRight((a,l,u)=>n.is0(l)?a:(t[u]=n.mul(a,t[u]),n.mul(a,l)),i),t}function y4(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function kE(n,e,t=!1,r={}){if(n<=It)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:i,nByteLength:a}=y4(n,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=vE(n),u=Object.freeze({ORDER:n,BITS:i,BYTES:a,MASK:pg(i),ZERO:It,ONE:yt,create:f=>mn(f,n),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return It<=f&&f<n},is0:f=>f===It,isOdd:f=>(f&yt)===yt,neg:f=>mn(-f,n),eql:(f,p)=>f===p,sqr:f=>mn(f*f,n),add:(f,p)=>mn(f+p,n),sub:(f,p)=>mn(f-p,n),mul:(f,p)=>mn(f*p,n),pow:(f,p)=>EE(u,f,p),div:(f,p)=>mn(f*Zx(p,n),n),sqrN:f=>f*f,addN:(f,p)=>f+p,subN:(f,p)=>f-p,mulN:(f,p)=>f*p,inv:f=>Zx(f,n),sqrt:r.sqrt||(f=>l(u,f)),invertBatch:f=>SE(u,f),cmov:(f,p,m)=>m?p:f,toBytes:f=>t?hg(f,a):Ul(f,a),fromBytes:f=>{if(f.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${f.length}`);return t?fg(f):Do(f)}});return Object.freeze(u)}function b4(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function w4(n){const e=b4(n);return e+Math.ceil(e/2)}function CE(n,e,t=!1){const r=n.length,i=b4(e),a=w4(e);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const l=t?Do(n):fg(n),u=mn(l,e-yt)+yt;return t?hg(u,i):Ul(u,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const TE=BigInt(0),nx=BigInt(1);function PE(n,e){const t=(i,a)=>{const l=a.negate();return i?l:a},r=i=>{const a=Math.ceil(e/i)+1,l=2**(i-1);return{windows:a,windowSize:l}};return{constTimeNegate:t,unsafeLadder(i,a){let l=n.ZERO,u=i;for(;a>TE;)a&nx&&(l=l.add(u)),u=u.double(),a>>=nx;return l},precomputeWindow(i,a){const{windows:l,windowSize:u}=r(a),f=[];let p=i,m=p;for(let g=0;g<l;g++){m=p,f.push(m);for(let b=1;b<u;b++)m=m.add(p),f.push(m);p=m.double()}return f},wNAF(i,a,l){const{windows:u,windowSize:f}=r(i);let p=n.ZERO,m=n.BASE;const g=BigInt(2**i-1),b=2**i,w=BigInt(i);for(let E=0;E<u;E++){const N=E*f;let S=Number(l&g);l>>=w,S>f&&(S-=b,l+=nx);const k=N,I=N+Math.abs(S)-1,P=E%2!==0,V=S<0;S===0?m=m.add(t(P,a[k])):p=p.add(t(V,a[I]))}return{p,f:m}},wNAFCached(i,a,l,u){const f=i._WINDOW_SIZE||1;let p=a.get(i);return p||(p=this.precomputeWindow(i,f),f!==1&&a.set(i,u(p))),this.wNAF(f,p,l)}}}function v4(n){return NE(n.Fp),ed(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...y4(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function IE(n){const e=v4(n);ed(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:i}=e;if(t){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:RE,hexToBytes:jE}=gE,co={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=co;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:RE(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=co,t=typeof n=="string"?jE(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:a}=co._parseInt(t.subarray(2)),{d:l,l:u}=co._parseInt(a);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:l}},hexFromSig(n){const e=p=>Number.parseInt(p[0],16)&8?"00"+p:p,t=p=>{const m=p.toString(16);return m.length&1?`0${m}`:m},r=e(t(n.s)),i=e(t(n.r)),a=r.length/2,l=i.length/2,u=t(a),f=t(l);return`30${t(l+a+4)}02${f}${i}02${u}${r}`}},ks=BigInt(0),Zn=BigInt(1);BigInt(2);const Mw=BigInt(3);BigInt(4);function OE(n){const e=IE(n),{Fp:t}=e,r=e.toBytes||((E,N,S)=>{const k=N.toAffine();return gu(Uint8Array.from([4]),t.toBytes(k.x),t.toBytes(k.y))}),i=e.fromBytes||(E=>{const N=E.subarray(1),S=t.fromBytes(N.subarray(0,t.BYTES)),k=t.fromBytes(N.subarray(t.BYTES,2*t.BYTES));return{x:S,y:k}});function a(E){const{a:N,b:S}=e,k=t.sqr(E),I=t.mul(k,E);return t.add(t.add(I,t.mul(E,N)),S)}if(!t.eql(t.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function l(E){return typeof E=="bigint"&&ks<E&&E<e.n}function u(E){if(!l(E))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(E){const{allowedPrivateKeyLengths:N,nByteLength:S,wrapPrivateKey:k,n:I}=e;if(N&&typeof E!="bigint"){if(E instanceof Uint8Array&&(E=Fl(E)),typeof E!="string"||!N.includes(E.length))throw new Error("Invalid key");E=E.padStart(S*2,"0")}let P;try{P=typeof E=="bigint"?E:Do(pr("private key",E,S))}catch{throw new Error(`private key must be ${S} bytes, hex or bigint, not ${typeof E}`)}return k&&(P=mn(P,I)),u(P),P}const p=new Map;function m(E){if(!(E instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(N,S,k){if(this.px=N,this.py=S,this.pz=k,N==null||!t.isValid(N))throw new Error("x required");if(S==null||!t.isValid(S))throw new Error("y required");if(k==null||!t.isValid(k))throw new Error("z required")}static fromAffine(N){const{x:S,y:k}=N||{};if(!N||!t.isValid(S)||!t.isValid(k))throw new Error("invalid affine point");if(N instanceof g)throw new Error("projective point not allowed");const I=P=>t.eql(P,t.ZERO);return I(S)&&I(k)?g.ZERO:new g(S,k,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){const S=t.invertBatch(N.map(k=>k.pz));return N.map((k,I)=>k.toAffine(S[I])).map(g.fromAffine)}static fromHex(N){const S=g.fromAffine(i(pr("pointHex",N)));return S.assertValidity(),S}static fromPrivateKey(N){return g.BASE.multiply(f(N))}_setWindowSize(N){this._WINDOW_SIZE=N,p.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:N,y:S}=this.toAffine();if(!t.isValid(N)||!t.isValid(S))throw new Error("bad point: x or y not FE");const k=t.sqr(S),I=a(N);if(!t.eql(k,I))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:N}=this.toAffine();if(t.isOdd)return!t.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){m(N);const{px:S,py:k,pz:I}=this,{px:P,py:V,pz:L}=N,F=t.eql(t.mul(S,L),t.mul(P,I)),Q=t.eql(t.mul(k,L),t.mul(V,I));return F&&Q}negate(){return new g(this.px,t.neg(this.py),this.pz)}double(){const{a:N,b:S}=e,k=t.mul(S,Mw),{px:I,py:P,pz:V}=this;let L=t.ZERO,F=t.ZERO,Q=t.ZERO,H=t.mul(I,I),te=t.mul(P,P),Y=t.mul(V,V),re=t.mul(I,P);return re=t.add(re,re),Q=t.mul(I,V),Q=t.add(Q,Q),L=t.mul(N,Q),F=t.mul(k,Y),F=t.add(L,F),L=t.sub(te,F),F=t.add(te,F),F=t.mul(L,F),L=t.mul(re,L),Q=t.mul(k,Q),Y=t.mul(N,Y),re=t.sub(H,Y),re=t.mul(N,re),re=t.add(re,Q),Q=t.add(H,H),H=t.add(Q,H),H=t.add(H,Y),H=t.mul(H,re),F=t.add(F,H),Y=t.mul(P,V),Y=t.add(Y,Y),H=t.mul(Y,re),L=t.sub(L,H),Q=t.mul(Y,te),Q=t.add(Q,Q),Q=t.add(Q,Q),new g(L,F,Q)}add(N){m(N);const{px:S,py:k,pz:I}=this,{px:P,py:V,pz:L}=N;let F=t.ZERO,Q=t.ZERO,H=t.ZERO;const te=e.a,Y=t.mul(e.b,Mw);let re=t.mul(S,P),ce=t.mul(k,V),pe=t.mul(I,L),ue=t.add(S,k),$=t.add(P,V);ue=t.mul(ue,$),$=t.add(re,ce),ue=t.sub(ue,$),$=t.add(S,I);let J=t.add(P,L);return $=t.mul($,J),J=t.add(re,pe),$=t.sub($,J),J=t.add(k,I),F=t.add(V,L),J=t.mul(J,F),F=t.add(ce,pe),J=t.sub(J,F),H=t.mul(te,$),F=t.mul(Y,pe),H=t.add(F,H),F=t.sub(ce,H),H=t.add(ce,H),Q=t.mul(F,H),ce=t.add(re,re),ce=t.add(ce,re),pe=t.mul(te,pe),$=t.mul(Y,$),ce=t.add(ce,pe),pe=t.sub(re,pe),pe=t.mul(te,pe),$=t.add($,pe),re=t.mul(ce,$),Q=t.add(Q,re),re=t.mul(J,$),F=t.mul(ue,F),F=t.sub(F,re),re=t.mul(ue,ce),H=t.mul(J,H),H=t.add(H,re),new g(F,Q,H)}subtract(N){return this.add(N.negate())}is0(){return this.equals(g.ZERO)}wNAF(N){return w.wNAFCached(this,p,N,S=>{const k=t.invertBatch(S.map(I=>I.pz));return S.map((I,P)=>I.toAffine(k[P])).map(g.fromAffine)})}multiplyUnsafe(N){const S=g.ZERO;if(N===ks)return S;if(u(N),N===Zn)return this;const{endo:k}=e;if(!k)return w.unsafeLadder(this,N);let{k1neg:I,k1:P,k2neg:V,k2:L}=k.splitScalar(N),F=S,Q=S,H=this;for(;P>ks||L>ks;)P&Zn&&(F=F.add(H)),L&Zn&&(Q=Q.add(H)),H=H.double(),P>>=Zn,L>>=Zn;return I&&(F=F.negate()),V&&(Q=Q.negate()),Q=new g(t.mul(Q.px,k.beta),Q.py,Q.pz),F.add(Q)}multiply(N){u(N);let S=N,k,I;const{endo:P}=e;if(P){const{k1neg:V,k1:L,k2neg:F,k2:Q}=P.splitScalar(S);let{p:H,f:te}=this.wNAF(L),{p:Y,f:re}=this.wNAF(Q);H=w.constTimeNegate(V,H),Y=w.constTimeNegate(F,Y),Y=new g(t.mul(Y.px,P.beta),Y.py,Y.pz),k=H.add(Y),I=te.add(re)}else{const{p:V,f:L}=this.wNAF(S);k=V,I=L}return g.normalizeZ([k,I])[0]}multiplyAndAddUnsafe(N,S,k){const I=g.BASE,P=(L,F)=>F===ks||F===Zn||!L.equals(I)?L.multiplyUnsafe(F):L.multiply(F),V=P(this,S).add(P(N,k));return V.is0()?void 0:V}toAffine(N){const{px:S,py:k,pz:I}=this,P=this.is0();N==null&&(N=P?t.ONE:t.inv(I));const V=t.mul(S,N),L=t.mul(k,N),F=t.mul(I,N);if(P)return{x:t.ZERO,y:t.ZERO};if(!t.eql(F,t.ONE))throw new Error("invZ was invalid");return{x:V,y:L}}isTorsionFree(){const{h:N,isTorsionFree:S}=e;if(N===Zn)return!0;if(S)return S(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:N,clearCofactor:S}=e;return N===Zn?this:S?S(g,this):this.multiplyUnsafe(e.h)}toRawBytes(N=!0){return this.assertValidity(),r(g,this,N)}toHex(N=!0){return Fl(this.toRawBytes(N))}}g.BASE=new g(e.Gx,e.Gy,t.ONE),g.ZERO=new g(t.ZERO,t.ONE,t.ZERO);const b=e.nBitLength,w=PE(g,e.endo?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:f,weierstrassEquation:a,isWithinCurveOrder:l}}function LE(n){const e=v4(n);return ed(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function BE(n){const e=LE(n),{Fp:t,n:r}=e,i=t.BYTES+1,a=2*t.BYTES+1;function l($){return ks<$&&$<t.ORDER}function u($){return mn($,r)}function f($){return Zx($,r)}const{ProjectivePoint:p,normPrivateKeyToScalar:m,weierstrassEquation:g,isWithinCurveOrder:b}=OE({...e,toBytes($,J,ee){const W=J.toAffine(),X=t.toBytes(W.x),Z=gu;return ee?Z(Uint8Array.from([J.hasEvenY()?2:3]),X):Z(Uint8Array.from([4]),X,t.toBytes(W.y))},fromBytes($){const J=$.length,ee=$[0],W=$.subarray(1);if(J===i&&(ee===2||ee===3)){const X=Do(W);if(!l(X))throw new Error("Point is not on curve");const Z=g(X);let j=t.sqrt(Z);const K=(j&Zn)===Zn;return(ee&1)===1!==K&&(j=t.neg(j)),{x:X,y:j}}else if(J===a&&ee===4){const X=t.fromBytes(W.subarray(0,t.BYTES)),Z=t.fromBytes(W.subarray(t.BYTES,2*t.BYTES));return{x:X,y:Z}}else throw new Error(`Point of length ${J} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),w=$=>Fl(Ul($,e.nByteLength));function E($){const J=r>>Zn;return $>J}function N($){return E($)?u(-$):$}const S=($,J,ee)=>Do($.slice(J,ee));class k{constructor(J,ee,W){this.r=J,this.s=ee,this.recovery=W,this.assertValidity()}static fromCompact(J){const ee=e.nByteLength;return J=pr("compactSignature",J,ee*2),new k(S(J,0,ee),S(J,ee,2*ee))}static fromDER(J){const{r:ee,s:W}=co.toSig(pr("DER",J));return new k(ee,W)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(J){return new k(this.r,this.s,J)}recoverPublicKey(J){const{r:ee,s:W,recovery:X}=this,Z=Q(pr("msgHash",J));if(X==null||![0,1,2,3].includes(X))throw new Error("recovery id invalid");const j=X===2||X===3?ee+e.n:ee;if(j>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=(X&1)===0?"02":"03",ye=p.fromHex(K+w(j)),ge=f(j),Ce=u(-Z*ge),Pe=u(W*ge),Be=p.BASE.multiplyAndAddUnsafe(ye,Ce,Pe);if(!Be)throw new Error("point at infinify");return Be.assertValidity(),Be}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return mu(this.toDERHex())}toDERHex(){return co.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return mu(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const I={isValidPrivateKey($){try{return m($),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const $=w4(e.n);return CE(e.randomBytes($),e.n)},precompute($=8,J=p.BASE){return J._setWindowSize($),J.multiply(BigInt(3)),J}};function P($,J=!0){return p.fromPrivateKey($).toRawBytes(J)}function V($){const J=$ instanceof Uint8Array,ee=typeof $=="string",W=(J||ee)&&$.length;return J?W===i||W===a:ee?W===2*i||W===2*a:$ instanceof p}function L($,J,ee=!0){if(V($))throw new Error("first arg must be private key");if(!V(J))throw new Error("second arg must be public key");return p.fromHex(J).multiply(m($)).toRawBytes(ee)}const F=e.bits2int||function($){const J=Do($),ee=$.length*8-e.nBitLength;return ee>0?J>>BigInt(ee):J},Q=e.bits2int_modN||function($){return u(F($))},H=pg(e.nBitLength);function te($){if(typeof $!="bigint")throw new Error("bigint expected");if(!(ks<=$&&$<H))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ul($,e.nByteLength)}function Y($,J,ee=re){if(["recovered","canonical"].some(_e=>_e in ee))throw new Error("sign() legacy options not supported");const{hash:W,randomBytes:X}=e;let{lowS:Z,prehash:j,extraEntropy:K}=ee;Z==null&&(Z=!0),$=pr("msgHash",$),j&&($=pr("prehashed msgHash",W($)));const ye=Q($),ge=m(J),Ce=[te(ge),te(ye)];if(K!=null){const _e=K===!0?X(t.BYTES):K;Ce.push(pr("extraEntropy",_e))}const Pe=gu(...Ce),Be=ye;function De(_e){const ct=F(_e);if(!b(ct))return;const es=f(ct),nr=p.BASE.multiply(ct).toAffine(),Et=u(nr.x);if(Et===ks)return;const jn=u(es*u(Be+Et*ge));if(jn===ks)return;let Mi=(nr.x===Et?0:2)|Number(nr.y&Zn),Fi=jn;return Z&&E(jn)&&(Fi=N(jn),Mi^=1),new k(Et,Fi,Mi)}return{seed:Pe,k2sig:De}}const re={lowS:e.lowS,prehash:!1},ce={lowS:e.lowS,prehash:!1};function pe($,J,ee=re){const{seed:W,k2sig:X}=Y($,J,ee),Z=e;return g4(Z.hash.outputLen,Z.nByteLength,Z.hmac)(W,X)}p.BASE._setWindowSize(8);function ue($,J,ee,W=ce){var nr;const X=$;if(J=pr("msgHash",J),ee=pr("publicKey",ee),"strict"in W)throw new Error("options.strict was renamed to lowS");const{lowS:Z,prehash:j}=W;let K,ye;try{if(typeof X=="string"||X instanceof Uint8Array)try{K=k.fromDER(X)}catch(Et){if(!(Et instanceof co.Err))throw Et;K=k.fromCompact(X)}else if(typeof X=="object"&&typeof X.r=="bigint"&&typeof X.s=="bigint"){const{r:Et,s:jn}=X;K=new k(Et,jn)}else throw new Error("PARSE");ye=p.fromHex(ee)}catch(Et){if(Et.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Z&&K.hasHighS())return!1;j&&(J=e.hash(J));const{r:ge,s:Ce}=K,Pe=Q(J),Be=f(Ce),De=u(Pe*Be),_e=u(ge*Be),ct=(nr=p.BASE.multiplyAndAddUnsafe(ye,De,_e))==null?void 0:nr.toAffine();return ct?u(ct.x)===ge:!1}return{CURVE:e,getPublicKey:P,getSharedSecret:L,sign:pe,verify:ue,ProjectivePoint:p,Signature:k,utils:I}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function DE(n){return{hash:n,hmac:(e,...t)=>V0(n,e,h7(...t)),randomBytes:x7}}function ME(n,e){const t=r=>BE({...n,...DE(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const A4=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Fw=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),FE=BigInt(1),qx=BigInt(2),Uw=(n,e)=>(n+e/qx)/e;function UE(n){const e=A4,t=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),l=BigInt(23),u=BigInt(44),f=BigInt(88),p=n*n*n%e,m=p*p*n%e,g=_n(m,t,e)*m%e,b=_n(g,t,e)*m%e,w=_n(b,qx,e)*p%e,E=_n(w,i,e)*w%e,N=_n(E,a,e)*E%e,S=_n(N,u,e)*N%e,k=_n(S,f,e)*S%e,I=_n(k,u,e)*N%e,P=_n(I,t,e)*m%e,V=_n(P,l,e)*E%e,L=_n(V,r,e)*p%e,F=_n(L,qx,e);if(!em.eql(em.sqr(F),n))throw new Error("Cannot find square root");return F}const em=kE(A4,void 0,void 0,{sqrt:UE}),oi=ME({a:BigInt(0),b:BigInt(7),Fp:em,n:Fw,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Fw,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-FE*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=t,l=BigInt("0x100000000000000000000000000000000"),u=Uw(a*n,e),f=Uw(-r*n,e);let p=mn(n-u*t-f*i,e),m=mn(-u*r-f*a,e);const g=p>l,b=m>l;if(g&&(p=e-p),b&&(m=e-m),p>l||m>l)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:g,k1:p,k2neg:b,k2:m}}}},Ql);BigInt(0);oi.ProjectivePoint;const yu="0x0000000000000000000000000000000000000000",_w="0x0000000000000000000000000000000000000000000000000000000000000000",_E=`Ethereum Signed Message:
`,Vw=BigInt(0),zw=BigInt(1),tm=BigInt(2),Hw=BigInt(27),Gw=BigInt(28),Tf=BigInt(35),N4=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),VE=N4/tm,zE=Symbol.for("nodejs.util.inspect.custom"),Zi={};function rx(n){return Is(lt(n),32)}var el,Dr,tl,fi;const Kn=class Kn{constructor(e,t,r,i){z(this,el);z(this,Dr);z(this,tl);z(this,fi);Yo(e,Zi,"Signature"),C(this,el,t),C(this,Dr,r),C(this,tl,i),C(this,fi,null)}get r(){return v(this,el)}set r(e){R(Va(e)===32,"invalid r","value",e),C(this,el,ie(e))}get s(){return R(parseInt(v(this,Dr).substring(0,3))<8,"non-canonical s; use ._s","s",v(this,Dr)),v(this,Dr)}set s(e){R(Va(e)===32,"invalid s","value",e),C(this,Dr,ie(e))}get _s(){return v(this,Dr)}isValid(){return BigInt(v(this,Dr))<=VE}get v(){return v(this,tl)}set v(e){const t=Ie(e,"value");R(t===27||t===28,"invalid v","v",e),C(this,tl,t)}get networkV(){return v(this,fi)}get legacyChainId(){const e=this.networkV;return e==null?null:Kn.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=de(this.s);return this.yParity&&(e[0]|=128),ie(e)}get compactSerialized(){return Ke([this.r,this.yParityAndS])}get serialized(){return Ke([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=N4-BigInt(this._s),t=55-this.v,r=new Kn(Zi,this.r,rx(e),t);return this.networkV&&C(r,fi,this.networkV),r}clone(){const e=new Kn(Zi,this.r,this._s,this.v);return this.networkV&&C(e,fi,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[zE](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const t=he(e,"v");return t==Hw||t==Gw?Vw:(R(t>=Tf,"invalid EIP-155 v","v",e),(t-Tf)/tm)}static getChainIdV(e,t){return he(e)*tm+BigInt(35+t-27)}static getNormalizedV(e){const t=he(e);return t===Vw||t===Hw?27:t===zw||t===Gw?28:(R(t>=Tf,"invalid v","v",e),t&zw?27:28)}static from(e){function t(p,m){R(p,m,"signature",e)}if(e==null)return new Kn(Zi,_w,_w,27);if(typeof e=="string"){const p=de(e,"signature");if(p.length===64){const m=ie(p.slice(0,32)),g=p.slice(32,64),b=g[0]&128?28:27;return g[0]&=127,new Kn(Zi,m,ie(g),b)}if(p.length===65){const m=ie(p.slice(0,32)),g=ie(p.slice(32,64)),b=Kn.getNormalizedV(p[64]);return new Kn(Zi,m,g,b)}t(!1,"invalid raw signature length")}if(e instanceof Kn)return e.clone();const r=e.r;t(r!=null,"missing r");const i=rx(r),a=(function(p,m){if(p!=null)return rx(p);if(m!=null){t(Je(m,32),"invalid yParityAndS");const g=de(m);return g[0]&=127,ie(g)}t(!1,"missing s")})(e.s,e.yParityAndS),{networkV:l,v:u}=(function(p,m,g){if(p!=null){const b=he(p);return{networkV:b>=Tf?b:void 0,v:Kn.getNormalizedV(b)}}if(m!=null)return t(Je(m,32),"invalid yParityAndS"),{v:de(m)[0]&128?28:27};if(g!=null){switch(Ie(g,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),f=new Kn(Zi,i,a,u);return l&&C(f,fi,l),t(e.yParity==null||Ie(e.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}};el=new WeakMap,Dr=new WeakMap,tl=new WeakMap,fi=new WeakMap;let yn=Kn;var ys;const oo=class oo{constructor(e){z(this,ys);R(Va(e)===32,"invalid private key","privateKey","[REDACTED]"),C(this,ys,ie(e))}get privateKey(){return v(this,ys)}get publicKey(){return oo.computePublicKey(v(this,ys))}get compressedPublicKey(){return oo.computePublicKey(v(this,ys),!0)}sign(e){R(Va(e)===32,"invalid digest length","digest",e);const t=oi.sign(_t(e),_t(v(this,ys)),{lowS:!0});return yn.from({r:Rs(t.r,32),s:Rs(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=oo.computePublicKey(e);return ie(oi.getSharedSecret(_t(v(this,ys)),de(t),!1))}static computePublicKey(e,t){let r=de(e,"key");if(r.length===32){const a=oi.getPublicKey(r,!!t);return ie(a)}if(r.length===64){const a=new Uint8Array(65);a[0]=4,a.set(r,1),r=a}const i=oi.ProjectivePoint.fromHex(r);return ie(i.toRawBytes(t))}static recoverPublicKey(e,t){R(Va(e)===32,"invalid digest length","digest",e);const r=yn.from(t);let i=oi.Signature.fromCompact(_t(Ke([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const a=i.recoverPublicKey(_t(e));return R(a!=null,"invalid signature for digest","signature",t),"0x"+a.toHex(!1)}static addPoints(e,t,r){const i=oi.ProjectivePoint.fromHex(oo.computePublicKey(e).substring(2)),a=oi.ProjectivePoint.fromHex(oo.computePublicKey(t).substring(2));return"0x"+i.add(a).toHex(!!r)}};ys=new WeakMap;let Jr=oo;const HE=BigInt(0),GE=BigInt(36);function Kw(n){n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const r=de(nt(t));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const xg={};for(let n=0;n<10;n++)xg[String(n)]=String(n);for(let n=0;n<26;n++)xg[String.fromCharCode(65+n)]=String(10+n);const Ww=15;function KE(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>xg[r]).join("");for(;e.length>=Ww;){let r=e.substring(0,Ww);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const WE=(function(){const n={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[t]=BigInt(e)}return n})();function QE(n){n=n.toLowerCase();let e=HE;for(let t=0;t<n.length;t++)e=e*GE+WE[n[t]];return e}function Ue(n){if(R(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=Kw(n);return R(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){R(n.substring(2,4)===KE(n),"bad icap checksum","address",n);let e=QE(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Kw("0x"+e)}R(!1,"invalid address","address",n)}function $E(n){const e=Ue(n.from);let r=he(n.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,Ue(et(nt($r([e,r])),12))}function E4(n){return n&&typeof n.getAddress=="function"}async function sx(n,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(q(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),R(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),Ue(t)}function Rt(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?Ue(n):(q(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),sx(n,e.resolveName(n)));if(E4(n))return sx(n,n.getAddress());if(n&&typeof n.then=="function")return sx(n,n);R(!1,"unsupported addressable value","target",n)}const fs={};function me(n,e){let t=!1;return e<0&&(t=!0,e*=-1),new Zt(fs,`${t?"":"u"}int${e}`,n,{signed:t,width:e})}function Ge(n,e){return new Zt(fs,`bytes${e||""}`,n,{size:e})}const Qw=Symbol.for("_ethers_typed");var Eo;const hs=class hs{constructor(e,t,r,i){M(this,"type");M(this,"value");z(this,Eo);M(this,"_typedSymbol");i==null&&(i=null),Yo(fs,e,"Typed"),Ne(this,{_typedSymbol:Qw,type:t,value:r}),C(this,Eo,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return v(this,Eo)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return v(this,Eo)===!0?-1:v(this,Eo)===!1?this.value.length:null}static from(e,t){return new hs(fs,e,t)}static uint8(e){return me(e,8)}static uint16(e){return me(e,16)}static uint24(e){return me(e,24)}static uint32(e){return me(e,32)}static uint40(e){return me(e,40)}static uint48(e){return me(e,48)}static uint56(e){return me(e,56)}static uint64(e){return me(e,64)}static uint72(e){return me(e,72)}static uint80(e){return me(e,80)}static uint88(e){return me(e,88)}static uint96(e){return me(e,96)}static uint104(e){return me(e,104)}static uint112(e){return me(e,112)}static uint120(e){return me(e,120)}static uint128(e){return me(e,128)}static uint136(e){return me(e,136)}static uint144(e){return me(e,144)}static uint152(e){return me(e,152)}static uint160(e){return me(e,160)}static uint168(e){return me(e,168)}static uint176(e){return me(e,176)}static uint184(e){return me(e,184)}static uint192(e){return me(e,192)}static uint200(e){return me(e,200)}static uint208(e){return me(e,208)}static uint216(e){return me(e,216)}static uint224(e){return me(e,224)}static uint232(e){return me(e,232)}static uint240(e){return me(e,240)}static uint248(e){return me(e,248)}static uint256(e){return me(e,256)}static uint(e){return me(e,256)}static int8(e){return me(e,-8)}static int16(e){return me(e,-16)}static int24(e){return me(e,-24)}static int32(e){return me(e,-32)}static int40(e){return me(e,-40)}static int48(e){return me(e,-48)}static int56(e){return me(e,-56)}static int64(e){return me(e,-64)}static int72(e){return me(e,-72)}static int80(e){return me(e,-80)}static int88(e){return me(e,-88)}static int96(e){return me(e,-96)}static int104(e){return me(e,-104)}static int112(e){return me(e,-112)}static int120(e){return me(e,-120)}static int128(e){return me(e,-128)}static int136(e){return me(e,-136)}static int144(e){return me(e,-144)}static int152(e){return me(e,-152)}static int160(e){return me(e,-160)}static int168(e){return me(e,-168)}static int176(e){return me(e,-176)}static int184(e){return me(e,-184)}static int192(e){return me(e,-192)}static int200(e){return me(e,-200)}static int208(e){return me(e,-208)}static int216(e){return me(e,-216)}static int224(e){return me(e,-224)}static int232(e){return me(e,-232)}static int240(e){return me(e,-240)}static int248(e){return me(e,-248)}static int256(e){return me(e,-256)}static int(e){return me(e,-256)}static bytes1(e){return Ge(e,1)}static bytes2(e){return Ge(e,2)}static bytes3(e){return Ge(e,3)}static bytes4(e){return Ge(e,4)}static bytes5(e){return Ge(e,5)}static bytes6(e){return Ge(e,6)}static bytes7(e){return Ge(e,7)}static bytes8(e){return Ge(e,8)}static bytes9(e){return Ge(e,9)}static bytes10(e){return Ge(e,10)}static bytes11(e){return Ge(e,11)}static bytes12(e){return Ge(e,12)}static bytes13(e){return Ge(e,13)}static bytes14(e){return Ge(e,14)}static bytes15(e){return Ge(e,15)}static bytes16(e){return Ge(e,16)}static bytes17(e){return Ge(e,17)}static bytes18(e){return Ge(e,18)}static bytes19(e){return Ge(e,19)}static bytes20(e){return Ge(e,20)}static bytes21(e){return Ge(e,21)}static bytes22(e){return Ge(e,22)}static bytes23(e){return Ge(e,23)}static bytes24(e){return Ge(e,24)}static bytes25(e){return Ge(e,25)}static bytes26(e){return Ge(e,26)}static bytes27(e){return Ge(e,27)}static bytes28(e){return Ge(e,28)}static bytes29(e){return Ge(e,29)}static bytes30(e){return Ge(e,30)}static bytes31(e){return Ge(e,31)}static bytes32(e){return Ge(e,32)}static address(e){return new hs(fs,"address",e)}static bool(e){return new hs(fs,"bool",!!e)}static bytes(e){return new hs(fs,"bytes",e)}static string(e){return new hs(fs,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new hs(fs,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Qw}static dereference(e,t){if(hs.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}};Eo=new WeakMap;let Zt=hs;class JE extends Ds{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=Zt.dereference(t,"string");try{r=Ue(r)}catch(i){return this._throwError(i.message,t)}return e.writeValue(r)}decode(e){return Ue(Rs(e.readValue(),20))}}class YE extends Ds{constructor(t){super(t.name,t.type,"_",t.dynamic);M(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,r){return this.coder.encode(t,r)}decode(t){return this.coder.decode(t)}}function S4(n,e,t){let r=[];if(Array.isArray(t))r=t;else if(t&&typeof t=="object"){let f={};r=e.map(p=>{const m=p.localName;return q(m,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:p},value:t}),q(!f[m],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:p},value:t}),f[m]=!0,t[m]})}else R(!1,"invalid tuple value","tuple",t);R(e.length===r.length,"types/value length mismatch","tuple",t);let i=new Qx,a=new Qx,l=[];e.forEach((f,p)=>{let m=r[p];if(f.dynamic){let g=a.length;f.encode(a,m);let b=i.writeUpdatableValue();l.push(w=>{b(w+g)})}else f.encode(i,m)}),l.forEach(f=>{f(i.length)});let u=n.appendWriter(i);return u+=n.appendWriter(a),u}function k4(n,e){let t=[],r=[],i=n.subReader(0);return e.forEach(a=>{let l=null;if(a.dynamic){let u=n.readIndex(),f=i.subReader(u);try{l=a.decode(f)}catch(p){if(Ut(p,"BUFFER_OVERRUN"))throw p;l=p,l.baseType=a.name,l.name=a.localName,l.type=a.type}}else try{l=a.decode(n)}catch(u){if(Ut(u,"BUFFER_OVERRUN"))throw u;l=u,l.baseType=a.name,l.name=a.localName,l.type=a.type}if(l==null)throw new Error("investigate");t.push(l),r.push(a.localName||null)}),Bl.fromItems(t,r)}class XE extends Ds{constructor(t,r,i){const a=t.type+"["+(r>=0?r:"")+"]",l=r===-1||t.dynamic;super("array",a,i,l);M(this,"coder");M(this,"length");Ne(this,{coder:t,length:r})}defaultValue(){const t=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(t);return r}encode(t,r){const i=Zt.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let a=this.length;a===-1&&(a=i.length,t.writeValue(i.length)),h3(i.length,a,"coder array"+(this.localName?" "+this.localName:""));let l=[];for(let u=0;u<i.length;u++)l.push(this.coder);return S4(t,l,i)}decode(t){let r=this.length;r===-1&&(r=t.readIndex(),q(r*nn<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:r*nn,length:t.dataLength}));let i=[];for(let a=0;a<r;a++)i.push(new YE(this.coder));return k4(t,i)}}class ZE extends Ds{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=Zt.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class C4 extends Ds{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=_t(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class qE extends C4{constructor(e){super("bytes",e)}decode(e){return ie(super.decode(e))}}class eS extends Ds{constructor(t,r){let i="bytes"+String(t);super(i,i,r,!1);M(this,"size");Ne(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,r){let i=_t(Zt.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),t.writeBytes(i)}decode(t){return ie(t.readBytes(this.size))}}const tS=new Uint8Array([]);class nS extends Ds{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(tS)}decode(e){return e.readBytes(0),null}}const rS=BigInt(0),sS=BigInt(1),iS=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class oS extends Ds{constructor(t,r,i){const a=(r?"int":"uint")+t*8;super(a,a,i,!1);M(this,"size");M(this,"signed");Ne(this,{size:t,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,r){let i=he(Zt.dereference(r,this.type)),a=Yc(iS,nn*8);if(this.signed){let l=Yc(a,this.size*8-1);(i>l||i<-(l+sS))&&this._throwError("value out-of-bounds",r),i=g3(i,8*nn)}else(i<rS||i>Yc(a,this.size*8))&&this._throwError("value out-of-bounds",r);return t.writeValue(i)}decode(t){let r=Yc(t.readValue(),this.size*8);return this.signed&&(r=z9(r,this.size*8)),r}}class aS extends C4{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,an(Zt.dereference(t,"string")))}decode(e){return c0(super.decode(e))}}class Pf extends Ds{constructor(t,r){let i=!1;const a=[];t.forEach(u=>{u.dynamic&&(i=!0),a.push(u.type)});const l="tuple("+a.join(",")+")";super("tuple",l,r,i);M(this,"coders");Ne(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(i=>{t.push(i.defaultValue())});const r=this.coders.reduce((i,a)=>{const l=a.localName;return l&&(i[l]||(i[l]=0),i[l]++),i},{});return this.coders.forEach((i,a)=>{let l=i.localName;!l||r[l]!==1||(l==="length"&&(l="_length"),t[l]==null&&(t[l]=t[a]))}),Object.freeze(t)}encode(t,r){const i=Zt.dereference(r,"tuple");return S4(t,this.coders,i)}decode(t){return k4(t,this.coders)}}function ix(n,e){return{address:Ue(n),storageKeys:e.map((t,r)=>(R(Je(t,32),"invalid slot",`storageKeys[${r}]`,t),t.toLowerCase()))}}function Xo(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(R(t.length===2,"invalid slot set",`value[${r}]`,t),ix(t[0],t[1])):(R(t!=null&&typeof t=="object","invalid address-slot set","value",n),ix(t.address,t.storageKeys)));R(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(t=>{const r=n[t].reduce((i,a)=>(i[a]=!0,i),{});return ix(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function T4(n){return{address:Ue(n.address),nonce:he(n.nonce!=null?n.nonce:0),chainId:he(n.chainId!=null?n.chainId:0),signature:yn.from(n.signature)}}function td(n){let e;return typeof n=="string"?e=Jr.computePublicKey(n,!1):e=n.publicKey,Ue(nt("0x"+e.substring(4)).substring(26))}function lS(n,e){return td(Jr.recoverPublicKey(n,e))}const Pt=BigInt(0),cS=BigInt(2),uS=BigInt(27),dS=BigInt(28),fS=BigInt(35),hS=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),pS=Symbol.for("nodejs.util.inspect.custom"),ox=4096*32,Gf=128;function xS(n){return{blobToKzgCommitment:r=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return de(n.blobToKzgCommitment(ie(r)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return de(n.blobToKzgCommitment(r));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return de(n.blobToKZGCommitment(ie(r)));R(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return de(n.computeBlobProof(ie(r),ie(i)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return de(n.computeBlobKZGProof(ie(r),ie(i)));R(!1,"unsupported KZG library","kzg",n)}}}function $w(n,e){let t=n.toString(16);for(;t.length<2;)t="0"+t;return t+=tr(e).substring(4),"0x"+t}function Zl(n){return n==="0x"?null:Ue(n)}function H0(n,e){try{return Xo(n)}catch(t){R(!1,t.message,e,n)}}function mS(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const t=[];for(let r=0;r<n.length;r++){const i=n[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);t.push({address:Zl(i[1]),nonce:Qe(i[2],"nonce"),chainId:Qe(i[0],"chainId"),signature:yn.from({yParity:Zo(i[3],"yParity"),r:Is(i[4],32),s:Is(i[5],32)})})}return t}catch(t){R(!1,t.message,e,n)}}function Zo(n,e){return n==="0x"?0:Ie(n,e)}function Qe(n,e){if(n==="0x")return Pt;const t=he(n,e);return R(t<=hS,"value exceeds uint size",e,t),t}function Fe(n,e){const t=he(n,"value"),r=lt(t);return R(r.length<=32,"value too large",`tx.${e}`,t),r}function G0(n){return Xo(n).map(e=>[e.address,e.storageKeys])}function gS(n){return n.map(e=>[Fe(e.chainId,"chainId"),e.address,Fe(e.nonce,"nonce"),Fe(e.signature.yParity,"yParity"),lt(e.signature.r),lt(e.signature._s)])}function yS(n,e){R(Array.isArray(n),`invalid ${e}`,"value",n);for(let t=0;t<n.length;t++)R(Je(n[t],32),"invalid ${ param } hash",`value[${t}]`,n[t]);return n}function bS(n){const e=qu(n);R(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const t={type:0,nonce:Zo(e[0],"nonce"),gasPrice:Qe(e[1],"gasPrice"),gasLimit:Qe(e[2],"gasLimit"),to:Zl(e[3]),value:Qe(e[4],"value"),data:ie(e[5]),chainId:Pt};if(e.length===6)return t;const r=Qe(e[6],"v"),i=Qe(e[7],"r"),a=Qe(e[8],"s");if(i===Pt&&a===Pt)t.chainId=r;else{let l=(r-fS)/cS;l<Pt&&(l=Pt),t.chainId=l,R(l!==Pt||r===uS||r===dS,"non-canonical legacy v","v",e[6]),t.signature=yn.from({r:Is(e[7],32),s:Is(e[8],32),v:r})}return t}function wS(n,e){const t=[Fe(n.nonce,"nonce"),Fe(n.gasPrice||0,"gasPrice"),Fe(n.gasLimit,"gasLimit"),n.to||"0x",Fe(n.value,"value"),n.data];let r=Pt;if(n.chainId!=Pt)r=he(n.chainId,"tx.chainId"),R(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const a=n.signature.legacyChainId;a!=null&&(r=a)}if(!e)return r!==Pt&&(t.push(lt(r)),t.push("0x"),t.push("0x")),$r(t);let i=BigInt(27+e.yParity);return r!==Pt?i=yn.getChainIdV(r,e.v):BigInt(e.v)!==i&&R(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(lt(i)),t.push(lt(e.r)),t.push(lt(e._s)),$r(t)}function K0(n,e){let t;try{if(t=Zo(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{R(!1,"invalid yParity","yParity",e[0])}const r=Is(e[1],32),i=Is(e[2],32),a=yn.from({r,s:i,yParity:t});n.signature=a}function vS(n){const e=qu(de(n).slice(1));R(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ie(n));const t={type:2,chainId:Qe(e[0],"chainId"),nonce:Zo(e[1],"nonce"),maxPriorityFeePerGas:Qe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Qe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Qe(e[4],"gasLimit"),to:Zl(e[5]),value:Qe(e[6],"value"),data:ie(e[7]),accessList:H0(e[8],"accessList")};return e.length===9||K0(t,e.slice(9)),t}function AS(n,e){const t=[Fe(n.chainId,"chainId"),Fe(n.nonce,"nonce"),Fe(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Fe(n.maxFeePerGas||0,"maxFeePerGas"),Fe(n.gasLimit,"gasLimit"),n.to||"0x",Fe(n.value,"value"),n.data,G0(n.accessList||[])];return e&&(t.push(Fe(e.yParity,"yParity")),t.push(lt(e.r)),t.push(lt(e.s))),Ke(["0x02",$r(t)])}function NS(n){const e=qu(de(n).slice(1));R(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ie(n));const t={type:1,chainId:Qe(e[0],"chainId"),nonce:Zo(e[1],"nonce"),gasPrice:Qe(e[2],"gasPrice"),gasLimit:Qe(e[3],"gasLimit"),to:Zl(e[4]),value:Qe(e[5],"value"),data:ie(e[6]),accessList:H0(e[7],"accessList")};return e.length===8||K0(t,e.slice(8)),t}function ES(n,e){const t=[Fe(n.chainId,"chainId"),Fe(n.nonce,"nonce"),Fe(n.gasPrice||0,"gasPrice"),Fe(n.gasLimit,"gasLimit"),n.to||"0x",Fe(n.value,"value"),n.data,G0(n.accessList||[])];return e&&(t.push(Fe(e.yParity,"recoveryParam")),t.push(lt(e.r)),t.push(lt(e.s))),Ke(["0x01",$r(t)])}function SS(n){let e=qu(de(n).slice(1)),t="3",r=null,i=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const l=e[1],u=e[2],f=e[3];R(Array.isArray(l),"invalid network format: blobs not an array","fields[1]",l),R(Array.isArray(u),"invalid network format: commitments not an array","fields[2]",u),R(Array.isArray(f),"invalid network format: proofs not an array","fields[3]",f),R(l.length===u.length,"invalid network format: blobs/commitments length mismatch","fields",e),R(l.length===f.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let p=0;p<e[1].length;p++)i.push({data:l[p],commitment:u[p],proof:f[p]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){t="3 (EIP-7594 network format)",r=Ie(e[1]);const l=e[2],u=e[3],f=e[4];R(r===1,`unsupported EIP-7594 network format version: ${r}`,"fields[1]",r),R(Array.isArray(l),"invalid EIP-7594 network format: blobs not an array","fields[2]",l),R(Array.isArray(u),"invalid EIP-7594 network format: commitments not an array","fields[3]",u),R(Array.isArray(f),"invalid EIP-7594 network format: proofs not an array","fields[4]",f),R(l.length===u.length,"invalid network format: blobs/commitments length mismatch","fields",e),R(l.length*Gf===f.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let p=0;p<l.length;p++){const m=[];for(let g=0;g<Gf;g++)m.push(f[p*Gf+g]);i.push({data:l[p],commitment:u[p],proof:Ke(m)})}e=e[0]}R(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",ie(n));const a={type:3,chainId:Qe(e[0],"chainId"),nonce:Zo(e[1],"nonce"),maxPriorityFeePerGas:Qe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Qe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Qe(e[4],"gasLimit"),to:Zl(e[5]),value:Qe(e[6],"value"),data:ie(e[7]),accessList:H0(e[8],"accessList"),maxFeePerBlobGas:Qe(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:r};i&&(a.blobs=i),R(a.to!=null,`invalid address for transaction type: ${t}`,"data",n),R(Array.isArray(a.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let l=0;l<a.blobVersionedHashes.length;l++)R(Je(a.blobVersionedHashes[l],32),`invalid blobVersionedHash at index ${l}: must be length 32`,"data",n);return e.length===11||K0(a,e.slice(11)),a}function kS(n,e,t){const r=[Fe(n.chainId,"chainId"),Fe(n.nonce,"nonce"),Fe(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Fe(n.maxFeePerGas||0,"maxFeePerGas"),Fe(n.gasLimit,"gasLimit"),n.to||yu,Fe(n.value,"value"),n.data,G0(n.accessList||[]),Fe(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),yS(n.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(r.push(Fe(e.yParity,"yParity")),r.push(lt(e.r)),r.push(lt(e.s)),t)){if(n.blobWrapperVersion!=null){const i=lt(n.blobWrapperVersion),a=[];for(const{proof:l}of t){const u=de(l),f=u.length/Gf;for(let p=0;p<u.length;p+=f)a.push(u.subarray(p,p+f))}return Ke(["0x03",$r([r,i,t.map(l=>l.data),t.map(l=>l.commitment),a])])}return Ke(["0x03",$r([r,t.map(i=>i.data),t.map(i=>i.commitment),t.map(i=>i.proof)])])}return Ke(["0x03",$r(r)])}function CS(n){const e=qu(de(n).slice(1));R(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",ie(n));const t={type:4,chainId:Qe(e[0],"chainId"),nonce:Zo(e[1],"nonce"),maxPriorityFeePerGas:Qe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Qe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Qe(e[4],"gasLimit"),to:Zl(e[5]),value:Qe(e[6],"value"),data:ie(e[7]),accessList:H0(e[8],"accessList"),authorizationList:mS(e[9],"authorizationList")};return e.length===10||K0(t,e.slice(10)),t}function TS(n,e){const t=[Fe(n.chainId,"chainId"),Fe(n.nonce,"nonce"),Fe(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Fe(n.maxFeePerGas||0,"maxFeePerGas"),Fe(n.gasLimit,"gasLimit"),n.to||"0x",Fe(n.value,"value"),n.data,G0(n.accessList||[]),gS(n.authorizationList||[])];return e&&(t.push(Fe(e.yParity,"yParity")),t.push(lt(e.r)),t.push(lt(e.s))),Ke(["0x04",$r(t)])}var gr,nl,rl,sl,il,ol,al,ll,cl,ul,dl,fl,So,hi,Mr,pi,hl,pl,xl,Kf;const Or=class Or{constructor(){z(this,xl);z(this,gr);z(this,nl);z(this,rl);z(this,sl);z(this,il);z(this,ol);z(this,al);z(this,ll);z(this,cl);z(this,ul);z(this,dl);z(this,fl);z(this,So);z(this,hi);z(this,Mr);z(this,pi);z(this,hl);z(this,pl);C(this,gr,null),C(this,nl,null),C(this,sl,0),C(this,il,Pt),C(this,ol,null),C(this,al,null),C(this,ll,null),C(this,rl,"0x"),C(this,cl,Pt),C(this,ul,Pt),C(this,dl,null),C(this,fl,null),C(this,So,null),C(this,hi,null),C(this,Mr,null),C(this,pi,null),C(this,hl,null),C(this,pl,null)}get type(){return v(this,gr)}set type(e){switch(e){case null:C(this,gr,null);break;case 0:case"legacy":C(this,gr,0);break;case 1:case"berlin":case"eip-2930":C(this,gr,1);break;case 2:case"london":case"eip-1559":C(this,gr,2);break;case 3:case"cancun":case"eip-4844":C(this,gr,3);break;case 4:case"pectra":case"eip-7702":C(this,gr,4);break;default:R(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=v(this,nl);return e==null&&this.type===3?yu:e}set to(e){C(this,nl,e==null?null:Ue(e))}get nonce(){return v(this,sl)}set nonce(e){C(this,sl,Ie(e,"value"))}get gasLimit(){return v(this,il)}set gasLimit(e){C(this,il,he(e))}get gasPrice(){const e=v(this,ol);return e==null&&(this.type===0||this.type===1)?Pt:e}set gasPrice(e){C(this,ol,e==null?null:he(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=v(this,al);return e??(this.type===2||this.type===3?Pt:null)}set maxPriorityFeePerGas(e){C(this,al,e==null?null:he(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=v(this,ll);return e??(this.type===2||this.type===3?Pt:null)}set maxFeePerGas(e){C(this,ll,e==null?null:he(e,"maxFeePerGas"))}get data(){return v(this,rl)}set data(e){C(this,rl,ie(e))}get value(){return v(this,cl)}set value(e){C(this,cl,he(e,"value"))}get chainId(){return v(this,ul)}set chainId(e){C(this,ul,he(e))}get signature(){return v(this,dl)||null}set signature(e){C(this,dl,e==null?null:yn.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const t=this.authorizationList;if(t){for(const r of t)if(!r.signature.isValid())return!1}return!0}get accessList(){const e=v(this,fl)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){C(this,fl,e==null?null:Xo(e))}get authorizationList(){const e=v(this,hl)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){C(this,hl,e==null?null:e.map(t=>T4(t)))}get maxFeePerBlobGas(){const e=v(this,So);return e==null&&this.type===3?Pt:e}set maxFeePerBlobGas(e){C(this,So,e==null?null:he(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=v(this,hi);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){R(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)R(Je(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}C(this,hi,e)}get blobs(){return v(this,pi)==null?null:v(this,pi).map(e=>Object.assign({},e))}set blobs(e){if(e==null){C(this,pi,null);return}const t=[],r=[];for(let i=0;i<e.length;i++){const a=e[i];if(M0(a)){q(v(this,Mr),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let l=de(a);if(R(l.length<=ox,"blob is too large",`blobs[${i}]`,a),l.length!==ox){const p=new Uint8Array(ox);p.set(l),l=p}const u=v(this,Mr).blobToKzgCommitment(l),f=ie(v(this,Mr).computeBlobKzgProof(l,u));t.push({data:ie(l),commitment:ie(u),proof:f}),r.push($w(1,u))}else{const l=ie(a.data),u=ie(a.commitment),f=ie(a.proof);t.push({data:l,commitment:u,proof:f}),r.push($w(1,u))}}C(this,pi,t),C(this,hi,r)}get kzg(){return v(this,Mr)}set kzg(e){e==null?C(this,Mr,null):C(this,Mr,xS(e))}get blobWrapperVersion(){return v(this,pl)}set blobWrapperVersion(e){C(this,pl,e)}get hash(){return this.signature==null?null:nt(le(this,xl,Kf).call(this,!0,!1))}get unsignedHash(){return nt(this.unsignedSerialized)}get from(){return this.signature==null?null:lS(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:Jr.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return le(this,xl,Kf).call(this,!0,!0)}get unsignedSerialized(){return le(this,xl,Kf).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=v(this,So)!=null||v(this,hi);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&q(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),q(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),q(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const a=[];return this.type!=null?a.push(this.type):this.authorizationList&&this.authorizationList.length?a.push(4):t?a.push(2):e?(a.push(1),r||a.push(0)):r?(a.push(1),a.push(2)):(i&&this.to||(a.push(0),a.push(1),a.push(2)),a.push(3)),a.sort(),a}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Or.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[pS](){return this.toString()}toString(){const e=[],t=i=>{let a=this[i];typeof a=="string"&&(a=JSON.stringify(a)),e.push(`${i}: ${a}`)};this.type&&t("type"),t("to"),t("data"),t("nonce"),t("gasLimit"),t("value"),this.chainId!=null&&t("chainId"),this.signature&&(t("from"),e.push(`signature: ${this.signature.toString()}`));const r=this.authorizationList;if(r){const i=[];for(const a of r){const l=[];l.push(`address: ${JSON.stringify(a.address)}`),a.nonce!=null&&l.push(`nonce: ${a.nonce}`),a.chainId!=null&&l.push(`chainId: ${a.chainId}`),a.signature&&l.push(`signature: ${a.signature.toString()}`),i.push(`Authorization { ${l.join(", ")} }`)}e.push(`authorizations: [ ${i.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new Or;if(typeof e=="string"){const r=de(e);if(r[0]>=127)return Or.from(bS(r));switch(r[0]){case 1:return Or.from(NS(r));case 2:return Or.from(vS(r));case 3:return Or.from(SS(r));case 4:return Or.from(CS(r))}q(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Or;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=yn.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobWrapperVersion!=null&&(t.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(R(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),R(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(R(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),R(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};gr=new WeakMap,nl=new WeakMap,rl=new WeakMap,sl=new WeakMap,il=new WeakMap,ol=new WeakMap,al=new WeakMap,ll=new WeakMap,cl=new WeakMap,ul=new WeakMap,dl=new WeakMap,fl=new WeakMap,So=new WeakMap,hi=new WeakMap,Mr=new WeakMap,pi=new WeakMap,hl=new WeakMap,pl=new WeakMap,xl=new WeakSet,Kf=function(e,t){q(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return wS(this,r);case 1:return ES(this,r);case 2:return AS(this,r);case 3:return kS(this,r,t?this.blobs:null);case 4:return TS(this,r)}q(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let bu=Or;function PS(n){return R(typeof n.address=="string","invalid address for hashAuthorization","auth.address",n),nt(Ke(["0x05",$r([n.chainId!=null?lt(n.chainId):"0x",Ue(n.address),n.nonce!=null?lt(n.nonce):"0x"])]))}function Os(n){return nt(an(n))}var IS="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const Jw=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Yw=4;function RS(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),i=1,a=[0,1];for(let L=1;L<r;L++)a.push(i+=t());let l=t(),u=e;e+=l;let f=0,p=0;function m(){return f==0&&(p=p<<8|n[e++],f=8),p>>--f&1}const g=31,b=2**g,w=b>>>1,E=w>>1,N=b-1;let S=0;for(let L=0;L<g;L++)S=S<<1|m();let k=[],I=0,P=b;for(;;){let L=Math.floor(((S-I+1)*i-1)/P),F=0,Q=r;for(;Q-F>1;){let Y=F+Q>>>1;L<a[Y]?Q=Y:F=Y}if(F==0)break;k.push(F);let H=I+Math.floor(P*a[F]/i),te=I+Math.floor(P*a[F+1]/i)-1;for(;((H^te)&w)==0;)S=S<<1&N|m(),H=H<<1&N,te=te<<1&N|1;for(;H&~te&E;)S=S&w|S<<1&N>>>1|m(),H=H<<1^w,te=(te^w)<<1|w|1;I=H,P=1+te-H}let V=r-4;return k.map(L=>{switch(L-V){case 3:return V+65792+(n[u++]<<16|n[u++]<<8|n[u++]);case 2:return V+256+(n[u++]<<8|n[u++]);case 1:return V+n[u++];default:return L-1}})}function jS(n){let e=0;return()=>n[e++]}function P4(n){return jS(RS(OS(n)))}function OS(n){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,a)=>e[i.charCodeAt(0)]=a);let t=n.length,r=new Uint8Array(6*t>>3);for(let i=0,a=0,l=0,u=0;i<t;i++)u=u<<6|e[n.charCodeAt(i)],l+=6,l>=8&&(r[a++]=u>>(l-=8));return r}function LS(n){return n&1?~n>>1:n>>1}function BS(n,e){let t=Array(n);for(let r=0,i=0;r<n;r++)t[r]=i+=LS(e());return t}function wu(n,e=0){let t=[];for(;;){let r=n(),i=n();if(!i)break;e+=r;for(let a=0;a<i;a++)t.push(e+a);e+=i+1}return t}function I4(n){return vu(()=>{let e=wu(n);if(e.length)return e})}function R4(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(DS(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(MS(t,n))}return e.flat()}function vu(n){let e=[];for(;;){let t=n(e.length);if(!t)break;e.push(t)}return e}function j4(n,e,t){let r=Array(n).fill().map(()=>[]);for(let i=0;i<e;i++)BS(n,t).forEach((a,l)=>r[l].push(a));return r}function DS(n,e){let t=1+e(),r=e(),i=vu(e);return j4(i.length,1+n,e).flatMap((l,u)=>{let[f,...p]=l;return Array(i[u]).fill().map((m,g)=>{let b=g*r;return[f+g*t,p.map(w=>w+b)]})})}function MS(n,e){let t=1+e();return j4(t,1+n,e).map(i=>[i[0],i.slice(1)])}function FS(n){let e=[],t=wu(n);return i(r([]),[]),e;function r(a){let l=n(),u=vu(()=>{let f=wu(n).map(p=>t[p]);if(f.length)return r(f)});return{S:l,B:u,Q:a}}function i({S:a,B:l},u,f){if(!(a&4&&f===u[u.length-1])){a&2&&(f=u[u.length-1]),a&1&&e.push(u);for(let p of l)for(let m of p.Q)i(p,[...u,m],f)}}}function US(n){return n.toString(16).toUpperCase().padStart(2,"0")}function O4(n){return`{${US(n)}}`}function _S(n){let e=[];for(let t=0,r=n.length;t<r;){let i=n.codePointAt(t);t+=i<65536?1:2,e.push(i)}return e}function _l(n){let t=n.length;if(t<4096)return String.fromCodePoint(...n);let r=[];for(let i=0;i<t;)r.push(String.fromCodePoint(...n.slice(i,i+=4096)));return r.join("")}function VS(n,e){let t=n.length,r=t-e.length;for(let i=0;r==0&&i<t;i++)r=n[i]-e[i];return r}var zS="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Au=44032,u0=4352,d0=4449,f0=4519,L4=19,B4=21,Vl=28,h0=B4*Vl,HS=L4*h0,GS=Au+HS,KS=u0+L4,WS=d0+B4,QS=f0+Vl;function Zc(n){return n>>24&255}function D4(n){return n&16777215}let nm,Xw,rm,Wf;function $S(){let n=P4(zS);nm=new Map(I4(n).flatMap((e,t)=>e.map(r=>[r,t+1<<24]))),Xw=new Set(wu(n)),rm=new Map,Wf=new Map;for(let[e,t]of R4(n)){if(!Xw.has(e)&&t.length==2){let[r,i]=t,a=Wf.get(r);a||(a=new Map,Wf.set(r,a)),a.set(i,e)}rm.set(e,t.reverse())}}function M4(n){return n>=Au&&n<GS}function JS(n,e){if(n>=u0&&n<KS&&e>=d0&&e<WS)return Au+(n-u0)*h0+(e-d0)*Vl;if(M4(n)&&e>f0&&e<QS&&(n-Au)%Vl==0)return n+(e-f0);{let t=Wf.get(n);return t&&(t=t.get(e),t)?t:-1}}function F4(n){nm||$S();let e=[],t=[],r=!1;function i(a){let l=nm.get(a);l&&(r=!0,a|=l),e.push(a)}for(let a of n)for(;;){if(a<128)e.push(a);else if(M4(a)){let l=a-Au,u=l/h0|0,f=l%h0/Vl|0,p=l%Vl;i(u0+u),i(d0+f),p>0&&i(f0+p)}else{let l=rm.get(a);l?t.push(...l):i(a)}if(!t.length)break;a=t.pop()}if(r&&e.length>1){let a=Zc(e[0]);for(let l=1;l<e.length;l++){let u=Zc(e[l]);if(u==0||a<=u){a=u;continue}let f=l-1;for(;;){let p=e[f+1];if(e[f+1]=e[f],e[f]=p,!f||(a=Zc(e[--f]),a<=u))break}a=Zc(e[l])}}return e}function YS(n){let e=[],t=[],r=-1,i=0;for(let a of n){let l=Zc(a),u=D4(a);if(r==-1)l==0?r=u:e.push(u);else if(i>0&&i>=l)l==0?(e.push(r,...t),t.length=0,r=u):t.push(u),i=l;else{let f=JS(r,u);f>=0?r=f:i==0&&l==0?(e.push(r),r=u):(t.push(u),i=l)}}return r>=0&&e.push(r,...t),e}function U4(n){return F4(n).map(D4)}function XS(n){return YS(F4(n))}const Zw=45,_4=".",V4=65039,z4=1,p0=n=>Array.from(n);function Nu(n,e){return n.P.has(e)||n.Q.has(e)}class ZS extends Array{get is_emoji(){return!0}}let sm,H4,uo,im,G4,Ha,ax,Ca,to,qw,om;function mg(){if(sm)return;let n=P4(IS);const e=()=>wu(n),t=()=>new Set(e()),r=(m,g)=>g.forEach(b=>m.add(b));sm=new Map(R4(n)),H4=t(),uo=e(),im=new Set(e().map(m=>uo[m])),uo=new Set(uo),G4=t(),t();let i=I4(n),a=n();const l=()=>{let m=new Set;return e().forEach(g=>r(m,i[g])),r(m,e()),m};Ha=vu(m=>{let g=vu(n).map(b=>b+96);if(g.length){let b=m>=a;g[0]-=32,g=_l(g),b&&(g=`Restricted[${g}]`);let w=l(),E=l(),N=!n();return{N:g,P:w,Q:E,M:N,R:b}}}),ax=t(),Ca=new Map;let u=e().concat(p0(ax)).sort((m,g)=>m-g);u.forEach((m,g)=>{let b=n(),w=u[g]=b?u[g-b]:{V:[],M:new Map};w.V.push(m),ax.has(m)||Ca.set(m,w)});for(let{V:m,M:g}of new Set(Ca.values())){let b=[];for(let E of m){let N=Ha.filter(k=>Nu(k,E)),S=b.find(({G:k})=>N.some(I=>k.has(I)));S||(S={G:new Set,V:[]},b.push(S)),S.V.push(E),r(S.G,N)}let w=b.flatMap(E=>p0(E.G));for(let{G:E,V:N}of b){let S=new Set(w.filter(k=>!E.has(k)));for(let k of N)g.set(k,S)}}to=new Set;let f=new Set;const p=m=>to.has(m)?f.add(m):to.add(m);for(let m of Ha){for(let g of m.P)p(g);for(let g of m.Q)p(g)}for(let m of to)!Ca.has(m)&&!f.has(m)&&Ca.set(m,z4);r(to,U4(to)),qw=FS(n).map(m=>ZS.from(m)).sort(VS),om=new Map;for(let m of qw){let g=[om];for(let b of m){let w=g.map(E=>{let N=E.get(b);return N||(N=new Map,E.set(b,N)),N});b===V4?g.push(...w):g=w}for(let b of g)b.V=m}}function gg(n){return(K4(n)?"":`${yg(W0([n]))} `)+O4(n)}function yg(n){return`"${n}"`}function qS(n){if(n.length>=4&&n[2]==Zw&&n[3]==Zw)throw new Error(`invalid label extension: "${_l(n.slice(0,4))}"`)}function ek(n){for(let t=n.lastIndexOf(95);t>0;)if(n[--t]!==95)throw new Error("underscore allowed only at start")}function tk(n){let e=n[0],t=Jw.get(e);if(t)throw au(`leading ${t}`);let r=n.length,i=-1;for(let a=1;a<r;a++){e=n[a];let l=Jw.get(e);if(l){if(i==a)throw au(`${t} + ${l}`);i=a+1,t=l}}if(i==r)throw au(`trailing ${t}`)}function W0(n,e=1/0,t=O4){let r=[];nk(n[0])&&r.push(""),n.length>e&&(e>>=1,n=[...n.slice(0,e),8230,...n.slice(-e)]);let i=0,a=n.length;for(let l=0;l<a;l++){let u=n[l];K4(u)&&(r.push(_l(n.slice(i,l))),r.push(t(u)),i=l+1)}return r.push(_l(n.slice(i,a))),r.join("")}function nk(n){return mg(),uo.has(n)}function K4(n){return mg(),G4.has(n)}function rk(n){return ak(sk(n,XS,uk))}function sk(n,e,t){if(!n)return[];mg();let r=0;return n.split(_4).map(i=>{let a=_S(i),l={input:a,offset:r};r+=a.length+1;try{let u=l.tokens=ck(a,e,t),f=u.length,p;if(!f)throw new Error("empty label");let m=l.output=u.flat();if(ek(m),!(l.emoji=f>1||u[0].is_emoji)&&m.every(b=>b<128))qS(m),p="ASCII";else{let b=u.flatMap(w=>w.is_emoji?[]:w);if(!b.length)p="Emoji";else{if(uo.has(m[0]))throw au("leading combining mark");for(let N=1;N<f;N++){let S=u[N];if(!S.is_emoji&&uo.has(S[0]))throw au(`emoji + combining mark: "${_l(u[N-1])} + ${W0([S[0]])}"`)}tk(m);let w=p0(new Set(b)),[E]=ok(w);lk(E,b),ik(E,w),p=E.N}}l.type=p}catch(u){l.error=u}return l})}function ik(n,e){let t,r=[];for(let i of e){let a=Ca.get(i);if(a===z4)return;if(a){let l=a.M.get(i);if(t=t?t.filter(u=>l.has(u)):p0(l),!t.length)return}else r.push(i)}if(t){for(let i of t)if(r.every(a=>Nu(i,a)))throw new Error(`whole-script confusable: ${n.N}/${i.N}`)}}function ok(n){let e=Ha;for(let t of n){let r=e.filter(i=>Nu(i,t));if(!r.length)throw Ha.some(i=>Nu(i,t))?Q4(e[0],t):W4(t);if(e=r,r.length==1)break}return e}function ak(n){return n.map(({input:e,error:t,output:r})=>{if(t){let i=t.message;throw new Error(n.length==1?i:`Invalid label ${yg(W0(e,63))}: ${i}`)}return _l(r)}).join(_4)}function W4(n){return new Error(`disallowed character: ${gg(n)}`)}function Q4(n,e){let t=gg(e),r=Ha.find(i=>i.P.has(e));return r&&(t=`${r.N} ${t}`),new Error(`illegal mixture: ${n.N} + ${t}`)}function au(n){return new Error(`illegal placement: ${n}`)}function lk(n,e){for(let t of e)if(!Nu(n,t))throw Q4(n,t);if(n.M){let t=U4(e);for(let r=1,i=t.length;r<i;r++)if(im.has(t[r])){let a=r+1;for(let l;a<i&&im.has(l=t[a]);a++)for(let u=r;u<a;u++)if(t[u]==l)throw new Error(`duplicate non-spacing marks: ${gg(l)}`);if(a-r>Yw)throw new Error(`excessive non-spacing marks: ${yg(W0(t.slice(r-1,a)))} (${a-r}/${Yw})`);r=a}}}function ck(n,e,t){let r=[],i=[];for(n=n.slice().reverse();n.length;){let a=dk(n);if(a)i.length&&(r.push(e(i)),i=[]),r.push(t(a));else{let l=n.pop();if(to.has(l))i.push(l);else{let u=sm.get(l);if(u)i.push(...u);else if(!H4.has(l))throw W4(l)}}}return i.length&&r.push(e(i)),r}function uk(n){return n.filter(e=>e!=V4)}function dk(n,e){let t=om,r,i=n.length;for(;i&&(t=t.get(n[--i]),!!t);){let{V:a}=t;a&&(r=a,n.length=i)}return r}const $4=new Uint8Array(32);$4.fill(0);function e2(n){return R(n.length!==0,"invalid ENS name; empty component","comp",n),n}function J4(n){const e=an(fk(n)),t=[];if(n.length===0)return t;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(e2(e.slice(r,i))),r=i+1);return R(r<e.length,"invalid ENS name; empty component","name",n),t.push(e2(e.slice(r))),t}function fk(n){try{if(n.length===0)throw new Error("empty label");return rk(n)}catch(e){R(!1,`invalid ENS name (${e.message})`,"name",n)}}function am(n){R(typeof n=="string","invalid ENS name; not a string","name",n),R(n.length,"invalid ENS name (empty label)","name",n);let e=$4;const t=J4(n);for(;t.length;)e=nt(Ke([e,nt(t.pop())]));return ie(e)}function hk(n,e){const t=e;return R(t<=255,"DNS encoded label cannot exceed 255","length",t),ie(Ke(J4(n).map(r=>{R(r.length<=t,`label ${JSON.stringify(n)} exceeds ${t} bytes`,"name",n);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}function pk(n){return typeof n=="string"&&(n=an(n)),nt(Ke([an(_E),an(String(n.length)),n]))}const Y4=new Uint8Array(32);Y4.fill(0);const xk=BigInt(-1),X4=BigInt(0),Z4=BigInt(1),mk=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function gk(n){const e=de(n),t=e.length%32;return t?Ke([e,Y4.slice(t)]):ie(e)}const yk=Rs(Z4,32),bk=Rs(X4,32),t2={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},lx=["name","version","chainId","verifyingContract","salt"];function n2(n){return function(e){return R(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const wk={name:n2("name"),version:n2("version"),chainId:function(n){const e=he(n,"domain.chainId");return R(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):wr(e)},verifyingContract:function(n){try{return Ue(n).toLowerCase()}catch{}R(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=de(n,"domain.salt");return R(e.length===32,'invalid domain value "salt"',"domain.salt",n),ie(e)}};function cx(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",r=parseInt(e[2]);R(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",n);const i=Yc(mk,t?r-1:r),a=t?(i+Z4)*xk:X4;return function(l){const u=he(l,"value");return R(u>=a&&u<=i,`value out-of-bounds for ${n}`,"value",u),Rs(t?g3(u,256):u,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return R(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(r){const i=de(r);return R(i.length===t,`invalid length for ${n}`,"value",r),gk(r)}}}switch(n){case"address":return function(e){return Is(Ue(e),32)};case"bool":return function(e){return e?yk:bk};case"bytes":return function(e){return nt(e)};case"string":return function(e){return Os(e)}}return null}function r2(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}function If(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var Fu,bs,ml,P0,q4;const Wn=class Wn{constructor(e){z(this,P0);M(this,"primaryType");z(this,Fu);z(this,bs);z(this,ml);C(this,bs,new Map),C(this,ml,new Map);const t=new Map,r=new Map,i=new Map,a={};Object.keys(e).forEach(f=>{a[f]=e[f].map(({name:p,type:m})=>{let{base:g,index:b}=If(m);return g==="int"&&!e.int&&(g="int256"),g==="uint"&&!e.uint&&(g="uint256"),{name:p,type:g+(b||"")}}),t.set(f,new Set),r.set(f,[]),i.set(f,new Set)}),C(this,Fu,JSON.stringify(a));for(const f in a){const p=new Set;for(const m of a[f]){R(!p.has(m.name),`duplicate variable name ${JSON.stringify(m.name)} in ${JSON.stringify(f)}`,"types",e),p.add(m.name);const g=If(m.type).base;R(g!==f,`circular type reference to ${JSON.stringify(g)}`,"types",e),!cx(g)&&(R(r.has(g),`unknown type ${JSON.stringify(g)}`,"types",e),r.get(g).push(f),t.get(f).add(g))}}const l=Array.from(r.keys()).filter(f=>r.get(f).length===0);R(l.length!==0,"missing primary type","types",e),R(l.length===1,`ambiguous primary types or unused types: ${l.map(f=>JSON.stringify(f)).join(", ")}`,"types",e),Ne(this,{primaryType:l[0]});function u(f,p){R(!p.has(f),`circular type reference to ${JSON.stringify(f)}`,"types",e),p.add(f);for(const m of t.get(f))if(r.has(m)){u(m,p);for(const g of p)i.get(g).add(m)}p.delete(f)}u(this.primaryType,new Set);for(const[f,p]of i){const m=Array.from(p);m.sort(),v(this,bs).set(f,r2(f,a[f])+m.map(g=>r2(g,a[g])).join(""))}}get types(){return JSON.parse(v(this,Fu))}getEncoder(e){let t=v(this,ml).get(e);return t||(t=le(this,P0,q4).call(this,e),v(this,ml).set(e,t)),t}encodeType(e){const t=v(this,bs).get(e);return R(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return nt(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(cx(e))return r(e,t);const i=If(e).array;if(i)return R(i.count===-1||i.count===t.length,`array length mismatch; expected length ${i.count}`,"value",t),t.map(l=>this._visit(i.prefix,l,r));const a=this.types[e];if(a)return a.reduce((l,{name:u,type:f})=>(l[u]=this._visit(f,t[u],r),l),{});R(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Wn(e)}static getPrimaryType(e){return Wn.from(e).primaryType}static hashStruct(e,t,r){return Wn.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(e[r]==null)continue;const i=t2[r];R(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((r,i)=>lx.indexOf(r.name)-lx.indexOf(i.name)),Wn.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return Ke(["0x1901",Wn.hashDomain(e),Wn.from(t).hash(r)])}static hash(e,t,r){return nt(Wn.encode(e,t,r))}static async resolveNames(e,t,r,i){e=Object.assign({},e);for(const u in e)e[u]==null&&delete e[u];const a={};e.verifyingContract&&!Je(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const l=Wn.from(t);l.visit(r,(u,f)=>(u==="address"&&!Je(f,20)&&(a[f]="0x"),f));for(const u in a)a[u]=await i(u);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),r=l.visit(r,(u,f)=>u==="address"&&a[f]?a[f]:f),{domain:e,value:r}}static getPayload(e,t,r){Wn.hashDomain(e);const i={},a=[];lx.forEach(f=>{const p=e[f];p!=null&&(i[f]=wk[f](p),a.push({name:f,type:t2[f]}))});const l=Wn.from(t);t=l.types;const u=Object.assign({},t);return R(u.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),u.EIP712Domain=a,l.encode(r),{types:u,domain:i,primaryType:l.primaryType,message:l.visit(r,(f,p)=>{if(f.match(/^bytes(\d*)/))return ie(de(p));if(f.match(/^u?int/))return he(p).toString();switch(f){case"address":return p.toLowerCase();case"bool":return!!p;case"string":return R(typeof p=="string","invalid string","value",p),p}R(!1,"unsupported type","type",f)})}}};Fu=new WeakMap,bs=new WeakMap,ml=new WeakMap,P0=new WeakSet,q4=function(e){{const i=cx(e);if(i)return i}const t=If(e).array;if(t){const i=t.prefix,a=this.getEncoder(i);return l=>{R(t.count===-1||t.count===l.length,`array length mismatch; expected length ${t.count}`,"value",l);let u=l.map(a);return v(this,bs).has(i)&&(u=u.map(nt)),nt(Ke(u))}}const r=this.types[e];if(r){const i=Os(v(this,bs).get(e));return a=>{const l=r.map(({name:u,type:f})=>{const p=this.getEncoder(f)(a[u]);return v(this,bs).has(f)?nt(p):p});return l.unshift(i),Ke(l)}}R(!1,`unknown type: ${e}`,"type",e)};let zl=Wn;function rn(n){const e=new Set;return n.forEach(t=>e.add(t)),Object.freeze(e)}const vk="external public payable override",Ak=rn(vk.split(" ")),e6="constant external internal payable private public pure view override",Nk=rn(e6.split(" ")),t6="constructor error event fallback function receive struct",n6=rn(t6.split(" ")),r6="calldata memory storage payable indexed",Ek=rn(r6.split(" ")),Sk="tuple returns",kk=[t6,r6,Sk,e6].join(" "),Ck=rn(kk.split(" ")),Tk={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Pk=new RegExp("^(\\s*)"),Ik=new RegExp("^([0-9]+)"),Rk=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),s6=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),i6=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Bt,yr,Uu,lm;const I0=class I0{constructor(e){z(this,Uu);z(this,Bt);z(this,yr);C(this,Bt,0),C(this,yr,e.slice())}get offset(){return v(this,Bt)}get length(){return v(this,yr).length-v(this,Bt)}clone(){return new I0(v(this,yr))}reset(){C(this,Bt,0)}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=le(this,Uu,lm).call(this,v(this,Bt)+1,e.match+1);return C(this,Bt,e.match+1),t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;v(this,Bt)<e.match-1;){const r=this.peek().linkNext;t.push(le(this,Uu,lm).call(this,v(this,Bt)+1,r)),C(this,Bt,r)}return C(this,Bt,e.match+1),t}peek(){if(v(this,Bt)>=v(this,yr).length)throw new Error("out-of-bounds");return v(this,yr)[v(this,Bt)]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return Gc(this,Bt)._++,e}toString(){const e=[];for(let t=v(this,Bt);t<v(this,yr).length;t++){const r=v(this,yr)[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Bt=new WeakMap,yr=new WeakMap,Uu=new WeakSet,lm=function(e=0,t=0){return new I0(v(this,yr).slice(e,t).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let Ar=I0;function Bi(n){const e=[],t=l=>{const u=a<n.length?JSON.stringify(n[a]):"$EOI";throw new Error(`invalid token ${u} at ${a}: ${l}`)};let r=[],i=[],a=0;for(;a<n.length;){let l=n.substring(a),u=l.match(Pk);u&&(a+=u[1].length,l=n.substring(a));const f={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};e.push(f);let p=Tk[l[0]]||"";if(p){if(f.type=p,f.text=l[0],a++,p==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(p=="CLOSE_PAREN")r.length===0&&t("no matching open bracket"),f.match=r.pop(),e[f.match].match=e.length-1,f.depth--,f.linkBack=i.pop(),e[f.linkBack].linkNext=e.length-1;else if(p==="COMMA")f.linkBack=i.pop(),e[f.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(p==="OPEN_BRACKET")f.type="BRACKET";else if(p==="CLOSE_BRACKET"){let m=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const g=e.pop().text;m=g+m,e[e.length-1].value=Ie(g)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=m}continue}if(u=l.match(Rk),u){if(f.text=u[1],a+=f.text.length,Ck.has(f.text)){f.type="KEYWORD";continue}if(f.text.match(i6)){f.type="TYPE";continue}f.type="ID";continue}if(u=l.match(Ik),u){f.text=u[1],f.type="NUMBER",a+=f.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(l[0])} at position ${a}`)}return new Ar(e.map(l=>Object.freeze(l)))}function s2(n,e){let t=[];for(const r in e.keys())n.has(r)&&t.push(r);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function Q0(n,e){if(e.peekKeyword(n6)){const t=e.pop().text;if(t!==n)throw new Error(`expected ${n}, got ${t}`)}return e.popType("ID")}function Ls(n,e){const t=new Set;for(;;){const r=n.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(n.pop(),t.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);t.add(r)}return Object.freeze(t)}function o6(n){let e=Ls(n,Nk);return s2(e,rn("constant payable nonpayable".split(" "))),s2(e,rn("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ps(n,e){return n.popParams().map(t=>Vt.from(t,e))}function a6(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return he(n.pop().text);throw new Error("invalid gas")}return null}function zo(n){if(n.length)throw new Error(`unexpected tokens at offset ${n.offset}: ${n.toString()}`)}const jk=new RegExp(/^(.*)\[([0-9]*)\]$/);function i2(n){const e=n.match(i6);if(R(e,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(e[2]){const t=parseInt(e[2]);R(t!==0&&t<=32,"invalid bytes length","type",n)}else if(e[3]){const t=parseInt(e[3]);R(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",n)}return n}const ot={},bn=Symbol.for("_ethers_internal"),o2="_ParamTypeInternal",a2="_ErrorInternal",l2="_EventInternal",c2="_ConstructorInternal",u2="_FallbackInternal",d2="_FunctionInternal",f2="_StructInternal";var gl,Qf;const Qn=class Qn{constructor(e,t,r,i,a,l,u,f){z(this,gl);M(this,"name");M(this,"type");M(this,"baseType");M(this,"indexed");M(this,"components");M(this,"arrayLength");M(this,"arrayChildren");if(Yo(e,ot,"ParamType"),Object.defineProperty(this,bn,{value:o2}),l&&(l=Object.freeze(l.slice())),i==="array"){if(u==null||f==null)throw new Error("")}else if(u!=null||f!=null)throw new Error("");if(i==="tuple"){if(l==null)throw new Error("")}else if(l!=null)throw new Error("");Ne(this,{name:t,type:r,baseType:i,indexed:a,components:l,arrayLength:u,arrayChildren:f})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const a=JSON.parse(this.arrayChildren.format("json"));return a.name=r,a.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(a)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(a=>JSON.parse(a.format(e)))),JSON.stringify(i)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,a)=>r.components[a].walk(i,t))}return t(this.type,e)}async walkAsync(e,t){const r=[],i=[e];return le(this,gl,Qf).call(this,r,e,t,a=>{i[0]=a}),r.length&&await Promise.all(r),i[0]}static from(e,t){if(Qn.isParamType(e))return e;if(typeof e=="string")try{return Qn.from(Bi(e),t)}catch{R(!1,"invalid param type","obj",e)}else if(e instanceof Ar){let u="",f="",p=null;Ls(e,rn(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(f="tuple",p=e.popParams().map(N=>Qn.from(N)),u=`tuple(${p.map(N=>N.format()).join(",")})`):(u=i2(e.popType("TYPE")),f=u);let m=null,g=null;for(;e.length&&e.peekType("BRACKET");){const N=e.pop();m=new Qn(ot,"",u,f,null,p,g,m),g=N.value,u+=N.text,f="array",p=null}let b=null;if(Ls(e,Ek).has("indexed")){if(!t)throw new Error("");b=!0}const E=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Qn(ot,E,u,f,b,p,g,m)}const r=e.name;R(!r||typeof r=="string"&&r.match(s6),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(R(t,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let a=e.type,l=a.match(jk);if(l){const u=parseInt(l[2]||"-1"),f=Qn.from({type:l[1],components:e.components});return new Qn(ot,r||"",a,"array",i,null,u,f)}if(a==="tuple"||a.startsWith("tuple(")||a.startsWith("(")){const u=e.components!=null?e.components.map(p=>Qn.from(p)):null;return new Qn(ot,r||"",a,"tuple",i,u,null,null)}return a=i2(e.type),new Qn(ot,r||"",a,a,i,null,null,null)}static isParamType(e){return e&&e[bn]===o2}};gl=new WeakSet,Qf=function(e,t,r,i){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const l=this.arrayChildren,u=t.slice();u.forEach((f,p)=>{var m;le(m=l,gl,Qf).call(m,e,f,r,g=>{u[p]=g})}),i(u);return}if(this.isTuple()){const l=this.components;let u;if(Array.isArray(t))u=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");u=l.map(f=>{if(!f.name)throw new Error("cannot use object value with unnamed components");if(!(f.name in t))throw new Error(`missing value for component ${f.name}`);return t[f.name]})}if(u.length!==this.components.length)throw new Error("array is wrong length");u.forEach((f,p)=>{var m;le(m=l[p],gl,Qf).call(m,e,f,r,g=>{u[p]=g})}),i(u);return}const a=r(this.type,t);a.then?e.push((async function(){i(await a)})()):i(a)};let Vt=Qn;class Ho{constructor(e,t,r){M(this,"type");M(this,"inputs");Yo(e,ot,"Fragment"),r=Object.freeze(r.slice()),Ne(this,{type:t,inputs:r})}static from(e){if(typeof e=="string"){try{Ho.from(JSON.parse(e))}catch{}return Ho.from(Bi(e))}if(e instanceof Ar)switch(e.peekKeyword(n6)){case"constructor":return Cs.from(e);case"error":return gn.from(e);case"event":return Gr.from(e);case"fallback":case"receive":return ps.from(e);case"function":return Kr.from(e);case"struct":return Mo.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Cs.from(e);case"error":return gn.from(e);case"event":return Gr.from(e);case"fallback":case"receive":return ps.from(e);case"function":return Kr.from(e);case"struct":return Mo.from(e)}q(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}R(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Cs.isFragment(e)}static isError(e){return gn.isFragment(e)}static isEvent(e){return Gr.isFragment(e)}static isFunction(e){return Kr.isFragment(e)}static isStruct(e){return Mo.isFragment(e)}}class $0 extends Ho{constructor(t,r,i,a){super(t,r,a);M(this,"name");R(typeof i=="string"&&i.match(s6),"invalid identifier","name",i),a=Object.freeze(a.slice()),Ne(this,{name:i})}}function Eu(n,e){return"("+e.map(t=>t.format(n)).join(n==="full"?", ":",")+")"}class gn extends $0{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,bn,{value:a2})}get selector(){return Os(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+Eu(e,this.inputs)),t.join(" ")}static from(e){if(gn.isFragment(e))return e;if(typeof e=="string")return gn.from(Bi(e));if(e instanceof Ar){const t=Q0("error",e),r=Ps(e);return zo(e),new gn(ot,t,r)}return new gn(ot,e.name,e.inputs?e.inputs.map(Vt.from):[])}static isFragment(e){return e&&e[bn]===a2}}class Gr extends $0{constructor(t,r,i,a){super(t,"event",r,i);M(this,"anonymous");Object.defineProperty(this,bn,{value:l2}),Ne(this,{anonymous:a})}get topicHash(){return Os(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const r=[];return t!=="sighash"&&r.push("event"),r.push(this.name+Eu(t,this.inputs)),t!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(t,r){return r=(r||[]).map(a=>Vt.from(a)),new Gr(ot,t,r,!1).topicHash}static from(t){if(Gr.isFragment(t))return t;if(typeof t=="string")try{return Gr.from(Bi(t))}catch{R(!1,"invalid event fragment","obj",t)}else if(t instanceof Ar){const r=Q0("event",t),i=Ps(t,!0),a=!!Ls(t,rn(["anonymous"])).has("anonymous");return zo(t),new Gr(ot,r,i,a)}return new Gr(ot,t.name,t.inputs?t.inputs.map(r=>Vt.from(r,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[bn]===l2}}class Cs extends Ho{constructor(t,r,i,a,l){super(t,r,i);M(this,"payable");M(this,"gas");Object.defineProperty(this,bn,{value:c2}),Ne(this,{payable:a,gas:l})}format(t){if(q(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const r=[`constructor${Eu(t,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(t){if(Cs.isFragment(t))return t;if(typeof t=="string")try{return Cs.from(Bi(t))}catch{R(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof Ar){Ls(t,rn(["constructor"]));const r=Ps(t),i=!!Ls(t,Ak).has("payable"),a=a6(t);return zo(t),new Cs(ot,"constructor",r,i,a)}return new Cs(ot,"constructor",t.inputs?t.inputs.map(Vt.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[bn]===c2}}class ps extends Ho{constructor(t,r,i){super(t,"fallback",r);M(this,"payable");Object.defineProperty(this,bn,{value:u2}),Ne(this,{payable:i})}format(t){const r=this.inputs.length===0?"receive":"fallback";if(t==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(t){if(ps.isFragment(t))return t;if(typeof t=="string")try{return ps.from(Bi(t))}catch{R(!1,"invalid fallback fragment","obj",t)}else if(t instanceof Ar){const r=t.toString(),i=t.peekKeyword(rn(["fallback","receive"]));if(R(i,"type must be fallback or receive","obj",r),t.popKeyword(rn(["fallback","receive"]))==="receive"){const f=Ps(t);return R(f.length===0,"receive cannot have arguments","obj.inputs",f),Ls(t,rn(["payable"])),zo(t),new ps(ot,[],!0)}let l=Ps(t);l.length?R(l.length===1&&l[0].type==="bytes","invalid fallback inputs","obj.inputs",l.map(f=>f.format("minimal")).join(", ")):l=[Vt.from("bytes")];const u=o6(t);if(R(u==="nonpayable"||u==="payable","fallback cannot be constants","obj.stateMutability",u),Ls(t,rn(["returns"])).has("returns")){const f=Ps(t);R(f.length===1&&f[0].type==="bytes","invalid fallback outputs","obj.outputs",f.map(p=>p.format("minimal")).join(", "))}return zo(t),new ps(ot,l,u==="payable")}if(t.type==="receive")return new ps(ot,[],!0);if(t.type==="fallback"){const r=[Vt.from("bytes")],i=t.stateMutability==="payable";return new ps(ot,r,i)}R(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[bn]===u2}}class Kr extends $0{constructor(t,r,i,a,l,u){super(t,"function",r,a);M(this,"constant");M(this,"outputs");M(this,"stateMutability");M(this,"payable");M(this,"gas");Object.defineProperty(this,bn,{value:d2}),l=Object.freeze(l.slice()),Ne(this,{constant:i==="view"||i==="pure",gas:u,outputs:l,payable:i==="payable",stateMutability:i})}get selector(){return Os(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t))),outputs:this.outputs.map(i=>JSON.parse(i.format(t)))});const r=[];return t!=="sighash"&&r.push("function"),r.push(this.name+Eu(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(Eu(t,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(t,r){return r=(r||[]).map(a=>Vt.from(a)),new Kr(ot,t,"view",r,[],null).selector}static from(t){if(Kr.isFragment(t))return t;if(typeof t=="string")try{return Kr.from(Bi(t))}catch{R(!1,"invalid function fragment","obj",t)}else if(t instanceof Ar){const i=Q0("function",t),a=Ps(t),l=o6(t);let u=[];Ls(t,rn(["returns"])).has("returns")&&(u=Ps(t));const f=a6(t);return zo(t),new Kr(ot,i,l,a,u,f)}let r=t.stateMutability;return r==null&&(r="payable",typeof t.constant=="boolean"?(r="view",t.constant||(r="payable",typeof t.payable=="boolean"&&!t.payable&&(r="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(r="nonpayable")),new Kr(ot,t.name,r,t.inputs?t.inputs.map(Vt.from):[],t.outputs?t.outputs.map(Vt.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[bn]===d2}}class Mo extends $0{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,bn,{value:f2})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Mo.from(Bi(e))}catch{R(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ar){const t=Q0("struct",e),r=Ps(e);return zo(e),new Mo(ot,t,r)}return new Mo(ot,e.name,e.inputs?e.inputs.map(Vt.from):[])}static isFragment(e){return e&&e[bn]===f2}}const Nr=new Map;Nr.set(0,"GENERIC_PANIC");Nr.set(1,"ASSERT_FALSE");Nr.set(17,"OVERFLOW");Nr.set(18,"DIVIDE_BY_ZERO");Nr.set(33,"ENUM_RANGE_ERROR");Nr.set(34,"BAD_STORAGE_DATA");Nr.set(49,"STACK_UNDERFLOW");Nr.set(50,"ARRAY_RANGE_ERROR");Nr.set(65,"OUT_OF_MEMORY");Nr.set(81,"UNINITIALIZED_FUNCTION_CALL");const Ok=new RegExp(/^bytes([0-9]*)$/),Lk=new RegExp(/^(u?int)([0-9]*)$/);let ux=null,h2=1024;function Bk(n,e,t,r){let i="missing revert data",a=null;const l=null;let u=null;if(t){i="execution reverted";const p=de(t);if(t=ie(t),p.length===0)i+=" (no data present; likely require(false) occurred",a="require(false)";else if(p.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(ie(p.slice(0,4))==="0x08c379a0")try{a=r.decode(["string"],p.slice(4))[0],u={signature:"Error(string)",name:"Error",args:[a]},i+=`: ${JSON.stringify(a)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(ie(p.slice(0,4))==="0x4e487b71")try{const m=Number(r.decode(["uint256"],p.slice(4))[0]);u={signature:"Panic(uint256)",name:"Panic",args:[m]},a=`Panic due to ${Nr.get(m)||"UNKNOWN"}(${m})`,i+=`: ${a}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const f={to:e.to?Ue(e.to):null,data:e.data||"0x"};return e.from&&(f.from=Ue(e.from)),it(i,"CALL_EXCEPTION",{action:n,data:t,reason:a,transaction:f,invocation:l,revert:u})}var xi,Ta;const R0=class R0{constructor(){z(this,xi)}getDefaultValue(e){const t=e.map(i=>le(this,xi,Ta).call(this,Vt.from(i)));return new Pf(t,"_").defaultValue()}encode(e,t){h3(t.length,e.length,"types/values length mismatch");const r=e.map(l=>le(this,xi,Ta).call(this,Vt.from(l))),i=new Pf(r,"_"),a=new Qx;return i.encode(a,t),a.data}decode(e,t,r){const i=e.map(l=>le(this,xi,Ta).call(this,Vt.from(l)));return new Pf(i,"_").decode(new $x(t,r,h2))}static _setDefaultMaxInflation(e){R(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),h2=e}static defaultAbiCoder(){return ux==null&&(ux=new R0),ux}static getBuiltinCallException(e,t,r){return Bk(e,t,r,R0.defaultAbiCoder())}};xi=new WeakSet,Ta=function(e){if(e.isArray())return new XE(le(this,xi,Ta).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Pf(e.components.map(r=>le(this,xi,Ta).call(this,r)),e.name);switch(e.baseType){case"address":return new JE(e.name);case"bool":return new ZE(e.name);case"string":return new aS(e.name);case"bytes":return new qE(e.name);case"":return new nS(e.name)}let t=e.type.match(Lk);if(t){let r=parseInt(t[2]||"256");return R(r!==0&&r<=256&&r%8===0,"invalid "+t[1]+" bit length","param",e),new oS(r/8,t[1]==="int",e.name)}if(t=e.type.match(Ok),t){let r=parseInt(t[1]);return R(r!==0&&r<=32,"invalid bytes length","param",e),new eS(r,e.name)}R(!1,"invalid type","type",e.type)};let Go=R0;class Dk{constructor(e,t,r){M(this,"fragment");M(this,"name");M(this,"signature");M(this,"topic");M(this,"args");const i=e.name,a=e.format();Ne(this,{fragment:e,name:i,signature:a,topic:t,args:r})}}class Mk{constructor(e,t,r,i){M(this,"fragment");M(this,"name");M(this,"args");M(this,"signature");M(this,"selector");M(this,"value");const a=e.name,l=e.format();Ne(this,{fragment:e,name:a,args:r,signature:l,selector:t,value:i})}}class Fk{constructor(e,t,r){M(this,"fragment");M(this,"name");M(this,"args");M(this,"signature");M(this,"selector");const i=e.name,a=e.format();Ne(this,{fragment:e,name:i,args:r,signature:a,selector:t})}}class p2{constructor(e){M(this,"hash");M(this,"_isIndexed");Ne(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const x2={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},m2={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let e="unknown panic code";return n>=0&&n<=255&&x2[n.toString()]&&(e=x2[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${e})`}}};var Fr,Ur,_r,Wt,Zr,$f,Jf;const ao=class ao{constructor(e){z(this,Zr);M(this,"fragments");M(this,"deploy");M(this,"fallback");M(this,"receive");z(this,Fr);z(this,Ur);z(this,_r);z(this,Wt);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,C(this,_r,new Map),C(this,Fr,new Map),C(this,Ur,new Map);const r=[];for(const l of t)try{r.push(Ho.from(l))}catch(u){console.log(`[Warning] Invalid Fragment ${JSON.stringify(l)}:`,u.message)}Ne(this,{fragments:Object.freeze(r)});let i=null,a=!1;C(this,Wt,this.getAbiCoder()),this.fragments.forEach((l,u)=>{let f;switch(l.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Ne(this,{deploy:l});return;case"fallback":l.inputs.length===0?a=!0:(R(!i||l.payable!==i.payable,"conflicting fallback fragments",`fragments[${u}]`,l),i=l,a=i.payable);return;case"function":f=v(this,_r);break;case"event":f=v(this,Ur);break;case"error":f=v(this,Fr);break;default:return}const p=l.format();f.has(p)||f.set(p,l)}),this.deploy||Ne(this,{deploy:Cs.from("constructor()")}),Ne(this,{fallback:i,receive:a})}format(e){const t=e?"minimal":"full";return this.fragments.map(i=>i.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return Go.defaultAbiCoder()}getFunctionName(e){const t=le(this,Zr,$f).call(this,e,null,!1);return R(t,"no matching function","key",e),t.name}hasFunction(e){return!!le(this,Zr,$f).call(this,e,null,!1)}getFunction(e,t){return le(this,Zr,$f).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(v(this,_r).keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){const i=t[r];e(v(this,_r).get(i),r)}}getEventName(e){const t=le(this,Zr,Jf).call(this,e,null,!1);return R(t,"no matching event","key",e),t.name}hasEvent(e){return!!le(this,Zr,Jf).call(this,e,null,!1)}getEvent(e,t){return le(this,Zr,Jf).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(v(this,Ur).keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){const i=t[r];e(v(this,Ur).get(i),r)}}getError(e,t){if(Je(e)){const i=e.toLowerCase();if(m2[i])return gn.from(m2[i].signature);for(const a of v(this,Fr).values())if(i===a.selector)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,l]of v(this,Fr))a.split("(")[0]===e&&i.push(l);if(i.length===0)return e==="Error"?gn.from("error Error(string)"):e==="Panic"?gn.from("error Panic(uint256)"):null;if(i.length>1){const a=i.map(l=>JSON.stringify(l.format())).join(", ");R(!1,`ambiguous error description (i.e. ${a})`,"name",e)}return i[0]}if(e=gn.from(e).format(),e==="Error(string)")return gn.from("error Error(string)");if(e==="Panic(uint256)")return gn.from("error Panic(uint256)");const r=v(this,Fr).get(e);return r||null}forEachError(e){const t=Array.from(v(this,Fr).keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){const i=t[r];e(v(this,Fr).get(i),r)}}_decodeParams(e,t){return v(this,Wt).decode(e,t)}_encodeParams(e,t){return v(this,Wt).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);R(r,"unknown error","fragment",e),e=r}return R(et(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,et(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);R(r,"unknown error","fragment",e),e=r}return Ke([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);R(r,"unknown function","fragment",e),e=r}return R(et(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,et(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);R(r,"unknown function","fragment",e),e=r}return Ke([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const a=this.getFunction(e);R(a,"unknown function","fragment",e),e=a}let r="invalid length for result data";const i=_t(t);if(i.length%32===0)try{return v(this,Wt).decode(e.outputs,i)}catch{r="could not decode result data"}q(!1,r,"BAD_DATA",{value:ie(i),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=de(e,"data"),i=Go.getBuiltinCallException("call",t,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const u=ie(r.slice(0,4)),f=this.getError(u);if(f)try{const p=v(this,Wt).decode(f.inputs,r.slice(4));i.revert={name:f.name,signature:f.format(),args:p},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const l=this.parseTransaction(t);return l&&(i.invocation={method:l.name,signature:l.signature,args:l.args}),i}encodeFunctionResult(e,t){if(typeof e=="string"){const r=this.getFunction(e);R(r,"unknown function","fragment",e),e=r}return ie(v(this,Wt).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const a=this.getEvent(e);R(a,"unknown event","eventFragment",e),e=a}q(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(a,l)=>a.type==="string"?Os(l):a.type==="bytes"?nt(ie(l)):(a.type==="bool"&&typeof l=="boolean"?l=l?"0x01":"0x00":a.type.match(/^u?int/)?l=Rs(l):a.type.match(/^bytes/)?l=V9(l,32):a.type==="address"&&v(this,Wt).encode(["address"],[l]),Is(ie(l),32));for(t.forEach((a,l)=>{const u=e.inputs[l];if(!u.indexed){R(a==null,"cannot filter non-indexed parameters; must be null","contract."+u.name,a);return}a==null?r.push(null):u.baseType==="array"||u.baseType==="tuple"?R(!1,"filtering with tuples or arrays not supported","contract."+u.name,a):Array.isArray(a)?r.push(a.map(f=>i(u,f))):r.push(i(u,a))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,t){if(typeof e=="string"){const l=this.getEvent(e);R(l,"unknown event","eventFragment",e),e=l}const r=[],i=[],a=[];return e.anonymous||r.push(e.topicHash),R(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((l,u)=>{const f=t[u];if(l.indexed)if(l.type==="string")r.push(Os(f));else if(l.type==="bytes")r.push(nt(f));else{if(l.baseType==="tuple"||l.baseType==="array")throw new Error("not implemented");r.push(v(this,Wt).encode([l.type],[f]))}else i.push(l),a.push(f)}),{data:v(this,Wt).encode(i,a),topics:r}}decodeEventLog(e,t,r){if(typeof e=="string"){const w=this.getEvent(e);R(w,"unknown event","eventFragment",e),e=w}if(r!=null&&!e.anonymous){const w=e.topicHash;R(Je(r[0],32)&&r[0].toLowerCase()===w,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],a=[],l=[];e.inputs.forEach((w,E)=>{w.indexed?w.type==="string"||w.type==="bytes"||w.baseType==="tuple"||w.baseType==="array"?(i.push(Vt.from({type:"bytes32",name:w.name})),l.push(!0)):(i.push(w),l.push(!1)):(a.push(w),l.push(!1))});const u=r!=null?v(this,Wt).decode(i,Ke(r)):null,f=v(this,Wt).decode(a,t,!0),p=[],m=[];let g=0,b=0;return e.inputs.forEach((w,E)=>{let N=null;if(w.indexed)if(u==null)N=new p2(null);else if(l[E])N=new p2(u[b++]);else try{N=u[b++]}catch(S){N=S}else try{N=f[g++]}catch(S){N=S}p.push(N),m.push(w.name||null)}),Bl.fromItems(p,m)}parseTransaction(e){const t=de(e.data,"tx.data"),r=he(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(ie(t.slice(0,4)));if(!i)return null;const a=v(this,Wt).decode(i.inputs,t.slice(4));return new Mk(i,i.selector,a,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Dk(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=ie(e),r=this.getError(et(t,0,4));if(!r)return null;const i=v(this,Wt).decode(r.inputs,et(t,4));return new Fk(r,r.selector,i)}static from(e){return e instanceof ao?e:typeof e=="string"?new ao(JSON.parse(e)):typeof e.formatJson=="function"?new ao(e.formatJson()):typeof e.format=="function"?new ao(e.format("json")):new ao(e)}};Fr=new WeakMap,Ur=new WeakMap,_r=new WeakMap,Wt=new WeakMap,Zr=new WeakSet,$f=function(e,t,r){if(Je(e)){const a=e.toLowerCase();for(const l of v(this,_r).values())if(a===l.selector)return l;return null}if(e.indexOf("(")===-1){const a=[];for(const[l,u]of v(this,_r))l.split("(")[0]===e&&a.push(u);if(t){const l=t.length>0?t[t.length-1]:null;let u=t.length,f=!0;Zt.isTyped(l)&&l.type==="overrides"&&(f=!1,u--);for(let p=a.length-1;p>=0;p--){const m=a[p].inputs.length;m!==u&&(!f||m!==u-1)&&a.splice(p,1)}for(let p=a.length-1;p>=0;p--){const m=a[p].inputs;for(let g=0;g<t.length;g++)if(Zt.isTyped(t[g])){if(g>=m.length){if(t[g].type==="overrides")continue;a.splice(p,1);break}if(t[g].type!==m[g].baseType){a.splice(p,1);break}}}}if(a.length===1&&t&&t.length!==a[0].inputs.length){const l=t[t.length-1];(l==null||Array.isArray(l)||typeof l!="object")&&a.splice(0,1)}if(a.length===0)return null;if(a.length>1&&r){const l=a.map(u=>JSON.stringify(u.format())).join(", ");R(!1,`ambiguous function description (i.e. matches ${l})`,"key",e)}return a[0]}const i=v(this,_r).get(Kr.from(e).format());return i||null},Jf=function(e,t,r){if(Je(e)){const a=e.toLowerCase();for(const l of v(this,Ur).values())if(a===l.topicHash)return l;return null}if(e.indexOf("(")===-1){const a=[];for(const[l,u]of v(this,Ur))l.split("(")[0]===e&&a.push(u);if(t){for(let l=a.length-1;l>=0;l--)a[l].inputs.length<t.length&&a.splice(l,1);for(let l=a.length-1;l>=0;l--){const u=a[l].inputs;for(let f=0;f<t.length;f++)if(Zt.isTyped(t[f])&&t[f].type!==u[f].baseType){a.splice(l,1);break}}}if(a.length===0)return null;if(a.length>1&&r){const l=a.map(u=>JSON.stringify(u.format())).join(", ");R(!1,`ambiguous event description (i.e. matches ${l})`,"key",e)}return a[0]}const i=v(this,Ur).get(Gr.from(e).format());return i||null};let Su=ao;const l6=BigInt(0);function Ga(n){return n??null}function gt(n){return n==null?null:n.toString()}class g2{constructor(e,t,r){M(this,"gasPrice");M(this,"maxFeePerGas");M(this,"maxPriorityFeePerGas");Ne(this,{gasPrice:Ga(e),maxFeePerGas:Ga(t),maxPriorityFeePerGas:Ga(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:gt(e),maxFeePerGas:gt(t),maxPriorityFeePerGas:gt(r)}}}function ku(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=ie(n.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of t)!(i in n)||n[i]==null||(e[i]=he(n[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in n)||n[i]==null||(e[i]=Ie(n[i],`request.${i}`));return n.accessList&&(e.accessList=Xo(n.accessList)),n.authorizationList&&(e.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobWrapperVersion"in n&&(e.blobWrapperVersion=n.blobWrapperVersion),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(i=>M0(i)?ie(i):Object.assign({},i))),e}var ws;class Uk{constructor(e,t){M(this,"provider");M(this,"number");M(this,"hash");M(this,"timestamp");M(this,"parentHash");M(this,"parentBeaconBlockRoot");M(this,"nonce");M(this,"difficulty");M(this,"gasLimit");M(this,"gasUsed");M(this,"stateRoot");M(this,"receiptsRoot");M(this,"blobGasUsed");M(this,"excessBlobGas");M(this,"miner");M(this,"prevRandao");M(this,"extraData");M(this,"baseFeePerGas");z(this,ws);C(this,ws,e.transactions.map(r=>typeof r!="string"?new Cu(r,t):r)),Ne(this,{provider:t,hash:Ga(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Ga(e.prevRandao),extraData:e.extraData,baseFeePerGas:Ga(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return v(this,ws).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=v(this,ws).slice();return e.length===0?[]:(q(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:i,gasUsed:a,hash:l,miner:u,prevRandao:f,nonce:p,number:m,parentHash:g,parentBeaconBlockRoot:b,stateRoot:w,receiptsRoot:E,timestamp:N,transactions:S}=this;return{_type:"Block",baseFeePerGas:gt(e),difficulty:gt(t),extraData:r,gasLimit:gt(i),gasUsed:gt(a),blobGasUsed:gt(this.blobGasUsed),excessBlobGas:gt(this.excessBlobGas),hash:l,miner:u,prevRandao:f,nonce:p,number:m,parentHash:g,timestamp:N,parentBeaconBlockRoot:b,stateRoot:w,receiptsRoot:E,transactions:S}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return v(this,ws).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=v(this,ws)[e];else{const r=e.toLowerCase();for(const i of v(this,ws))if(typeof i=="string"){if(i!==r)continue;t=i;break}else{if(i.hash!==r)continue;t=i;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;R(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return _k(this)}}ws=new WeakMap;class nd{constructor(e,t){M(this,"provider");M(this,"transactionHash");M(this,"blockHash");M(this,"blockNumber");M(this,"removed");M(this,"address");M(this,"data");M(this,"topics");M(this,"index");M(this,"transactionIndex");this.provider=t;const r=Object.freeze(e.topics.slice());Ne(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:i,index:a,removed:l,topics:u,transactionHash:f,transactionIndex:p}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:i,index:a,removed:l,topics:u,transactionHash:f,transactionIndex:p}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return q(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return q(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return q(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Vk(this)}}var _u;class c6{constructor(e,t){M(this,"provider");M(this,"to");M(this,"from");M(this,"contractAddress");M(this,"hash");M(this,"index");M(this,"blockHash");M(this,"blockNumber");M(this,"logsBloom");M(this,"gasUsed");M(this,"blobGasUsed");M(this,"cumulativeGasUsed");M(this,"gasPrice");M(this,"blobGasPrice");M(this,"type");M(this,"status");M(this,"root");z(this,_u);C(this,_u,Object.freeze(e.logs.map(i=>new nd(i,t))));let r=l6;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Ne(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return v(this,_u)}toJSON(){const{to:e,from:t,contractAddress:r,hash:i,index:a,blockHash:l,blockNumber:u,logsBloom:f,logs:p,status:m,root:g}=this;return{_type:"TransactionReceipt",blockHash:l,blockNumber:u,contractAddress:r,cumulativeGasUsed:gt(this.cumulativeGasUsed),from:t,gasPrice:gt(this.gasPrice),blobGasUsed:gt(this.blobGasUsed),blobGasPrice:gt(this.blobGasPrice),gasUsed:gt(this.gasUsed),hash:i,index:a,logs:p,logsBloom:f,root:g,status:m,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return d6(this)}reorderedEvent(e){return q(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),u6(this,e)}}_u=new WeakMap;var mi;const yy=class yy{constructor(e,t){M(this,"provider");M(this,"blockNumber");M(this,"blockHash");M(this,"index");M(this,"hash");M(this,"type");M(this,"to");M(this,"from");M(this,"nonce");M(this,"gasLimit");M(this,"gasPrice");M(this,"maxPriorityFeePerGas");M(this,"maxFeePerGas");M(this,"maxFeePerBlobGas");M(this,"data");M(this,"value");M(this,"chainId");M(this,"signature");M(this,"accessList");M(this,"blobVersionedHashes");M(this,"authorizationList");z(this,mi);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,C(this,mi,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:i,type:a,to:l,from:u,nonce:f,data:p,signature:m,accessList:g,blobVersionedHashes:b}=this;return{_type:"TransactionResponse",accessList:g,blockNumber:e,blockHash:t,blobVersionedHashes:b,chainId:gt(this.chainId),data:p,from:u,gasLimit:gt(this.gasLimit),gasPrice:gt(this.gasPrice),hash:i,maxFeePerGas:gt(this.maxFeePerGas),maxPriorityFeePerGas:gt(this.maxPriorityFeePerGas),maxFeePerBlobGas:gt(this.maxFeePerBlobGas),nonce:f,signature:m,to:l,index:r,type:a,value:gt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:r}=await Jt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:r-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const r=e??1,i=t??0;let a=v(this,mi),l=-1,u=a===-1;const f=async()=>{if(u)return null;const{blockNumber:b,nonce:w}=await Jt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(w<this.nonce){a=b;return}if(u)return null;const E=await this.getTransaction();if(!(E&&E.blockNumber!=null))for(l===-1&&(l=a-3,l<v(this,mi)&&(l=v(this,mi)));l<=b;){if(u)return null;const N=await this.provider.getBlock(l,!0);if(N==null)return;for(const S of N)if(S===this.hash)return;for(let S=0;S<N.length;S++){const k=await N.getTransaction(S);if(k.from===this.from&&k.nonce===this.nonce){if(u)return null;const I=await this.provider.getTransactionReceipt(k.hash);if(I==null||b-I.blockNumber+1<r)return;let P="replaced";k.data===this.data&&k.to===this.to&&k.value===this.value?P="repriced":k.data==="0x"&&k.from===k.to&&k.value===l6&&(P="cancelled"),q(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:P==="replaced"||P==="cancelled",reason:P,replacement:k.replaceableTransaction(a),hash:k.hash,receipt:I})}}l++}},p=b=>{if(b==null||b.status!==0)return b;q(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:b.to,from:b.from,data:""},receipt:b})},m=await this.provider.getTransactionReceipt(this.hash);if(r===0)return p(m);if(m){if(r===1||await m.confirmations()>=r)return p(m)}else if(await f(),r===0)return null;return await new Promise((b,w)=>{const E=[],N=()=>{E.forEach(k=>k())};if(E.push(()=>{u=!0}),i>0){const k=setTimeout(()=>{N(),w(it("wait for transaction timeout","TIMEOUT"))},i);E.push(()=>{clearTimeout(k)})}const S=async k=>{if(await k.confirmations()>=r){N();try{b(p(k))}catch(I){w(I)}}};if(E.push(()=>{this.provider.off(this.hash,S)}),this.provider.on(this.hash,S),a>=0){const k=async()=>{try{await f()}catch(I){if(Ut(I,"TRANSACTION_REPLACED")){N(),w(I);return}}u||this.provider.once("block",k)};E.push(()=>{this.provider.off("block",k)}),this.provider.once("block",k)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return q(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),d6(this)}reorderedEvent(e){return q(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),q(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),u6(this,e)}replaceableTransaction(e){R(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new yy(this,this.provider);return C(t,mi,e),t}};mi=new WeakMap;let Cu=yy;function _k(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function u6(n,e){return{orphan:"reorder-transaction",tx:n,other:e}}function d6(n){return{orphan:"drop-transaction",tx:n}}function Vk(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}class bg extends nd{constructor(t,r,i){super(t,t.provider);M(this,"interface");M(this,"fragment");M(this,"args");const a=r.decodeEventLog(i,t.data,t.topics);Ne(this,{args:a,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class f6 extends nd{constructor(t,r){super(t,t.provider);M(this,"error");Ne(this,{error:r})}}var yl;class zk extends c6{constructor(t,r,i){super(i,r);z(this,yl);C(this,yl,t)}get logs(){return super.logs.map(t=>{const r=t.topics.length?v(this,yl).getEvent(t.topics[0]):null;if(r)try{return new bg(t,v(this,yl),r)}catch(i){return new f6(t,i)}return t})}}yl=new WeakMap;var Vu;class wg extends Cu{constructor(t,r,i){super(i,r);z(this,Vu);C(this,Vu,t)}async wait(t,r){const i=await super.wait(t,r);return i==null?null:new zk(v(this,Vu),this.provider,i)}}Vu=new WeakMap;class h6 extends b3{constructor(t,r,i,a){super(t,r,i);M(this,"log");Ne(this,{log:a})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Hk extends h6{constructor(e,t,r,i,a){super(e,t,r,new bg(a,e.interface,i));const l=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Ne(this,{args:l,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const y2=BigInt(0);function p6(n){return n&&typeof n.call=="function"}function x6(n){return n&&typeof n.estimateGas=="function"}function J0(n){return n&&typeof n.resolveName=="function"}function m6(n){return n&&typeof n.sendTransaction=="function"}function g6(n){if(n!=null){if(J0(n))return n;if(n.provider)return n.provider}}var zu;class Gk{constructor(e,t,r){z(this,zu);M(this,"fragment");if(Ne(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");const i=Ko(e.runner,"resolveName"),a=J0(i)?i:null;C(this,zu,(async function(){const l=await Promise.all(t.inputs.map((u,f)=>r[f]==null?null:u.walkAsync(r[f],(m,g)=>m==="address"?Array.isArray(g)?Promise.all(g.map(b=>Rt(b,a))):Rt(g,a):g)));return e.interface.encodeFilterTopics(t,l)})())}getTopicFilter(){return v(this,zu)}}zu=new WeakMap;function Ko(n,e){return n==null?null:typeof n[e]=="function"?n:n.provider&&typeof n.provider[e]=="function"?n.provider:null}function fo(n){return n==null?null:n.provider||null}async function y6(n,e){const t=Zt.dereference(n,"overrides");R(typeof t=="object","invalid overrides parameter","overrides",n);const r=ku(t);return R(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),R(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function Kk(n,e,t){const r=Ko(n,"resolveName"),i=J0(r)?r:null;return await Promise.all(e.map((a,l)=>a.walkAsync(t[l],(u,f)=>(f=Zt.dereference(f,u),u==="address"?Rt(f,i):f))))}function Wk(n){const e=async function(l){const u=await y6(l,["data"]);u.to=await n.getAddress(),u.from&&(u.from=await Rt(u.from,g6(n.runner)));const f=n.interface,p=he(u.value||y2,"overrides.value")===y2,m=(u.data||"0x")==="0x";f.fallback&&!f.fallback.payable&&f.receive&&!m&&!p&&R(!1,"cannot send data to receive or send value to non-payable fallback","overrides",l),R(f.fallback||m,"cannot send data to receive-only contract","overrides.data",u.data);const g=f.receive||f.fallback&&f.fallback.payable;return R(g||p,"cannot send value to non-payable fallback","overrides.value",u.value),R(f.fallback||m,"cannot send data to receive-only contract","overrides.data",u.data),u},t=async function(l){const u=Ko(n.runner,"call");q(p6(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await e(l);try{return await u.call(f)}catch(p){throw ng(p)&&p.data?n.interface.makeError(p.data,f):p}},r=async function(l){const u=n.runner;q(m6(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await e(l)),p=fo(n.runner);return new wg(n.interface,p,f)},i=async function(l){const u=Ko(n.runner,"estimateGas");return q(x6(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await e(l))},a=async l=>await r(l);return Ne(a,{_contract:n,estimateGas:i,populateTransaction:e,send:r,staticCall:t}),a}function Qk(n,e){const t=function(...p){const m=n.interface.getFunction(e,p);return q(m,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:p}}),m},r=async function(...p){const m=t(...p);let g={};if(m.inputs.length+1===p.length&&(g=await y6(p.pop()),g.from&&(g.from=await Rt(g.from,g6(n.runner)))),m.inputs.length!==p.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const b=await Kk(n.runner,m.inputs,p);return Object.assign({},g,await Jt({to:n.getAddress(),data:n.interface.encodeFunctionData(m,b)}))},i=async function(...p){const m=await u(...p);return m.length===1?m[0]:m},a=async function(...p){const m=n.runner;q(m6(m),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const g=await m.sendTransaction(await r(...p)),b=fo(n.runner);return new wg(n.interface,b,g)},l=async function(...p){const m=Ko(n.runner,"estimateGas");return q(x6(m),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await m.estimateGas(await r(...p))},u=async function(...p){const m=Ko(n.runner,"call");q(p6(m),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const g=await r(...p);let b="0x";try{b=await m.call(g)}catch(E){throw ng(E)&&E.data?n.interface.makeError(E.data,g):E}const w=t(...p);return n.interface.decodeFunctionResult(w,b)},f=async(...p)=>t(...p).constant?await i(...p):await a(...p);return Ne(f,{name:n.interface.getFunctionName(e),_contract:n,_key:e,getFragment:t,estimateGas:l,populateTransaction:r,send:a,staticCall:i,staticCallResult:u}),Object.defineProperty(f,"fragment",{configurable:!1,enumerable:!0,get:()=>{const p=n.interface.getFunction(e);return q(p,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),p}}),f}function $k(n,e){const t=function(...i){const a=n.interface.getEvent(e,i);return q(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),a},r=function(...i){return new Gk(n,t(...i),i)};return Ne(r,{name:n.interface.getEventName(e),_contract:n,_key:e,getFragment:t}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=n.interface.getEvent(e);return q(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const x0=Symbol.for("_ethersInternal_contract"),b6=new WeakMap;function Jk(n,e){b6.set(n[x0],e)}function Sn(n){return b6.get(n[x0])}function Yk(n){return n&&typeof n=="object"&&"getTopicFilter"in n&&typeof n.getTopicFilter=="function"&&n.fragment}async function vg(n,e){let t,r=null;if(Array.isArray(e)){const a=function(l){if(Je(l,32))return l;const u=n.interface.getEvent(l);return R(u,"unknown fragment","name",l),u.topicHash};t=e.map(l=>l==null?null:Array.isArray(l)?l.map(a):a(l))}else e==="*"?t=[null]:typeof e=="string"?Je(e,32)?t=[e]:(r=n.interface.getEvent(e),R(r,"unknown fragment","event",e),t=[r.topicHash]):Yk(e)?t=await e.getTopicFilter():"fragment"in e?(r=e.fragment,t=[r.topicHash]):R(!1,"unknown event name","event",e);t=t.map(a=>{if(a==null)return null;if(Array.isArray(a)){const l=Array.from(new Set(a.map(u=>u.toLowerCase())).values());return l.length===1?l[0]:(l.sort(),l)}return a.toLowerCase()});const i=t.map(a=>a==null?"null":Array.isArray(a)?a.join("|"):a).join("&");return{fragment:r,tag:i,topics:t}}async function qc(n,e){const{subs:t}=Sn(n);return t.get((await vg(n,e)).tag)||null}async function b2(n,e,t){const r=fo(n.runner);q(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:a,topics:l}=await vg(n,t),{addr:u,subs:f}=Sn(n);let p=f.get(a);if(!p){const g={address:u||n,topics:l},b=S=>{let k=i;if(k==null)try{k=n.interface.getEvent(S.topics[0])}catch{}if(k){const I=k,P=i?n.interface.decodeEventLog(i,S.data,S.topics):[];um(n,t,P,V=>new Hk(n,V,t,I,S))}else um(n,t,[],I=>new h6(n,I,t,S))};let w=[];p={tag:a,listeners:[],start:()=>{w.length||w.push(r.on(g,b))},stop:async()=>{if(w.length==0)return;let S=w;w=[],await Promise.all(S),r.off(g,b)}},f.set(a,p)}return p}let cm=Promise.resolve();async function Xk(n,e,t,r){await cm;const i=await qc(n,e);if(!i)return!1;const a=i.listeners.length;return i.listeners=i.listeners.filter(({listener:l,once:u})=>{const f=Array.from(t);r&&f.push(r(u?null:l));try{l.call(n,...f)}catch{}return!u}),i.listeners.length===0&&(i.stop(),Sn(n).subs.delete(i.tag)),a>0}async function um(n,e,t,r){try{await cm}catch{}const i=Xk(n,e,t,r);return cm=i,await i}const Rf=["then"];var a3;a3=x0;const pu=class pu{constructor(e,t,r,i){M(this,"target");M(this,"interface");M(this,"runner");M(this,"filters");M(this,a3);M(this,"fallback");R(typeof e=="string"||E4(e),"invalid value for Contract target","target",e),r==null&&(r=null);const a=Su.from(t);Ne(this,{target:e,runner:r,interface:a}),Object.defineProperty(this,x0,{value:{}});let l,u=null,f=null;if(i){const g=fo(r);f=new wg(this.interface,g,i)}let p=new Map;if(typeof e=="string")if(Je(e))u=e,l=Promise.resolve(e);else{const g=Ko(r,"resolveName");if(!J0(g))throw it("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});l=g.resolveName(e).then(b=>{if(b==null)throw it("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Sn(this).addr=b,b})}else l=e.getAddress().then(g=>{if(g==null)throw new Error("TODO");return Sn(this).addr=g,g});Jk(this,{addrPromise:l,addr:u,deployTx:f,subs:p});const m=new Proxy({},{get:(g,b,w)=>{if(typeof b=="symbol"||Rf.indexOf(b)>=0)return Reflect.get(g,b,w);try{return this.getEvent(b)}catch(E){if(!Ut(E,"INVALID_ARGUMENT")||E.argument!=="key")throw E}},has:(g,b)=>Rf.indexOf(b)>=0?Reflect.has(g,b):Reflect.has(g,b)||this.interface.hasEvent(String(b))});return Ne(this,{filters:m}),Ne(this,{fallback:a.receive||a.fallback?Wk(this):null}),new Proxy(this,{get:(g,b,w)=>{if(typeof b=="symbol"||b in g||Rf.indexOf(b)>=0)return Reflect.get(g,b,w);try{return g.getFunction(b)}catch(E){if(!Ut(E,"INVALID_ARGUMENT")||E.argument!=="key")throw E}},has:(g,b)=>typeof b=="symbol"||b in g||Rf.indexOf(b)>=0?Reflect.has(g,b):g.interface.hasFunction(b)})}connect(e){return new pu(this.target,this.interface,e)}attach(e){return new pu(e,this.interface,this.runner)}async getAddress(){return await Sn(this).addrPromise}async getDeployedCode(){const e=fo(this.runner);q(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=fo(this.runner);return q(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,a)=>{const l=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",l)}catch(u){a(u)}};l()})}deploymentTransaction(){return Sn(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Qk(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),$k(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){t==null&&(t=0),r==null&&(r="latest");const{addr:i,addrPromise:a}=Sn(this),l=i||await a,{fragment:u,topics:f}=await vg(this,e),p={address:l,topics:f,fromBlock:t,toBlock:r},m=fo(this.runner);return q(m,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await m.getLogs(p)).map(g=>{let b=u;if(b==null)try{b=this.interface.getEvent(g.topics[0])}catch{}if(b)try{return new bg(g,this.interface,b)}catch(w){return new f6(g,w)}return new nd(g,m)})}async on(e,t){const r=await b2(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await b2(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await um(this,e,t,null)}async listenerCount(e){if(e){const i=await qc(this,e);return i?i.listeners.length:0}const{subs:t}=Sn(this);let r=0;for(const{listeners:i}of t.values())r+=i.length;return r}async listeners(e){if(e){const i=await qc(this,e);return i?i.listeners.map(({listener:a})=>a):[]}const{subs:t}=Sn(this);let r=[];for(const{listeners:i}of t.values())r=r.concat(i.map(({listener:a})=>a));return r}async off(e,t){const r=await qc(this,e);if(!r)return this;if(t){const i=r.listeners.map(({listener:a})=>a).indexOf(t);i>=0&&r.listeners.splice(i,1)}return(t==null||r.listeners.length===0)&&(r.stop(),Sn(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await qc(this,e);if(!t)return this;t.stop(),Sn(this).subs.delete(t.tag)}else{const{subs:t}=Sn(this);for(const{tag:r,stop:i}of t.values())i(),t.delete(r)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends pu{constructor(i,a=null){super(i,e,a)}}return t}static from(e,t,r){return r==null&&(r=null),new this(e,t,r)}};let dm=pu;function Zk(){return dm}class lu extends Zk(){}function dx(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):R(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}class qk{constructor(e){M(this,"name");Ne(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const w6=new RegExp("^(ipfs)://(.*)$","i"),w2=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),w6,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var gi,ko,yi,Pa,j0,v6;const Ua=class Ua{constructor(e,t,r){z(this,yi);M(this,"provider");M(this,"address");M(this,"name");z(this,gi);z(this,ko);Ne(this,{provider:e,address:t,name:r}),C(this,gi,null),C(this,ko,new lu(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return v(this,gi)==null&&C(this,gi,(async()=>{try{return await v(this,ko).supportsInterface("0x9061b923")}catch(e){if(Ut(e,"CALL_EXCEPTION"))return!1;throw C(this,gi,null),e}})()),await v(this,gi)}async getAddress(e){if(e==null&&(e=60),e===60)try{const a=await le(this,yi,Pa).call(this,"addr(bytes32)");return a==null||a===yu?null:a}catch(a){if(Ut(a,"CALL_EXCEPTION"))return null;throw a}if(e>=0&&e<2147483648){let a=e+2147483648;const l=await le(this,yi,Pa).call(this,"addr(bytes32,uint)",[a]);if(Je(l,20))return Ue(l)}let t=null;for(const a of this.provider.plugins)if(a instanceof qk&&a.supportsCoinType(e)){t=a;break}if(t==null)return null;const r=await le(this,yi,Pa).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await t.decodeAddress(e,r);if(i!=null)return i;q(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const t=await le(this,yi,Pa).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await le(this,yi,Pa).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const i=t[1]==="e3010170"?"ipfs":"ipns",a=parseInt(t[4],16);if(t[5].length===a*2)return`${i}://${y3("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;q(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<w2.length;r++){const i=t.match(w2[r]);if(i==null)continue;const a=i[1].toLowerCase();switch(a){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const l=dx(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:l}),{linkage:e,url:l}}case"erc721":case"erc1155":{const l=a==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:a,value:t});const u=await this.getAddress();if(u==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const f=(i[2]||"").split("/");if(f.length!==2)return e.push({type:`!${a}caip`,value:i[2]||""}),{url:null,linkage:e};const p=f[1],m=new lu(f[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(a==="erc721"){const N=await m.ownerOf(p);if(u!==N)return e.push({type:"!owner",value:N}),{url:null,linkage:e};e.push({type:"owner",value:N})}else if(a==="erc1155"){const N=await m.balanceOf(u,p);if(!N)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:N.toString()})}let g=await m[l](p);if(g==null||g==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:g}),a==="erc1155"&&(g=g.replace("{id}",Rs(p,32).substring(2)),e.push({type:"metadata-url-expanded",value:g})),g.match(/^ipfs:/i)&&(g=dx(g)),e.push({type:"metadata-url",value:g});let b={};const w=await new js(g).send();w.assertOk();try{b=w.bodyJson}catch{try{e.push({type:"!metadata",value:w.bodyText})}catch{const k=w.body;return k&&e.push({type:"!metadata",value:ie(k)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!b)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(b)});let E=b.image;if(typeof E!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!E.match(/^(https:\/\/|data:)/i)){if(E.match(w6)==null)return e.push({type:"!imageUrl-ipfs",value:E}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:E}),E=dx(E)}return e.push({type:"url",value:E}),{linkage:e,url:E}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return q(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async fromName(e,t){var i;let r=t;for(;;){if(r===""||r==="."||t!=="eth"&&r==="eth")return null;const a=await le(i=Ua,j0,v6).call(i,e,r);if(a!=null){const l=new Ua(e,a,t);return r!==t&&!await l.supportsWildcard()?null:l}r=r.split(".").slice(1).join(".")}}};gi=new WeakMap,ko=new WeakMap,yi=new WeakSet,Pa=async function(e,t){t=(t||[]).slice();const r=v(this,ko).interface;t.unshift(am(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),q(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[hk(this.name,255),r.encodeFunctionData(i,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const a=await v(this,ko)[e](...t);return i?r.decodeFunctionResult(i,a)[0]:a}catch(a){if(!Ut(a,"CALL_EXCEPTION"))throw a}return null},j0=new WeakSet,v6=async function(e,t){const r=await Ua.getEnsAddress(e);try{const a=await new lu(r,["function resolver(bytes32) view returns (address)"],e).resolver(am(t),{enableCcipRead:!0});return a===yu?null:a}catch(i){throw i}return null},z(Ua,j0);let m0=Ua;const v2=BigInt(0);function Me(n,e){return(function(t){return t==null?e:n(t)})}function Tu(n,e){return(t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(r=>n(r))})}function rd(n,e){return(t=>{const r={};for(const i in n){let a=i;if(e&&i in e&&!(a in t)){for(const l of e[i])if(l in t){a=l;break}}try{const l=n[i](t[a]);l!==void 0&&(r[i]=l)}catch(l){const u=l instanceof Error?l.message:"not-an-error";q(!1,`invalid value for value.${i} (${u})`,"BAD_DATA",{value:t})}}return r})}function eC(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}R(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function Hl(n){return R(Je(n,!0),"invalid data","value",n),n}function Mt(n){return R(Je(n,32),"invalid hash","value",n),n}const tC=rd({address:Ue,blockHash:Mt,blockNumber:Ie,data:Hl,index:Ie,removed:Me(eC,!1),topics:Tu(Mt),transactionHash:Mt,transactionIndex:Ie},{index:["logIndex"]});function nC(n){return tC(n)}const rC=rd({hash:Me(Mt),parentHash:Mt,parentBeaconBlockRoot:Me(Mt,null),number:Ie,timestamp:Ie,nonce:Me(Hl),difficulty:he,gasLimit:he,gasUsed:he,stateRoot:Me(Mt,null),receiptsRoot:Me(Mt,null),blobGasUsed:Me(he,null),excessBlobGas:Me(he,null),miner:Me(Ue),prevRandao:Me(Mt,null),extraData:Hl,baseFeePerGas:Me(he)},{prevRandao:["mixHash"]});function sC(n){const e=rC(n);return e.transactions=n.transactions.map(t=>typeof t=="string"?t:A6(t)),e}const iC=rd({transactionIndex:Ie,blockNumber:Ie,transactionHash:Mt,address:Ue,topics:Tu(Mt),data:Hl,index:Ie,blockHash:Mt},{index:["logIndex"]});function oC(n){return iC(n)}const aC=rd({to:Me(Ue,null),from:Me(Ue,null),contractAddress:Me(Ue,null),index:Ie,root:Me(ie),gasUsed:he,blobGasUsed:Me(he,null),logsBloom:Me(Hl),blockHash:Mt,hash:Mt,logs:Tu(oC),blockNumber:Ie,cumulativeGasUsed:he,effectiveGasPrice:Me(he),blobGasPrice:Me(he,null),status:Me(Ie),type:Me(Ie,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function lC(n){return aC(n)}function A6(n){n.to&&he(n.to)===v2&&(n.to="0x0000000000000000000000000000000000000000");const e=rd({hash:Mt,index:Me(Ie,void 0),type:t=>t==="0x"||t==null?0:Ie(t),accessList:Me(Xo,null),blobVersionedHashes:Me(Tu(Mt,!0),null),authorizationList:Me(Tu(t=>{let r;if(t.signature)r=t.signature;else{let i=t.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},t,{yParity:i})}return{address:Ue(t.address),chainId:he(t.chainId),nonce:he(t.nonce),signature:yn.from(r)}},!1),null),blockHash:Me(Mt,null),blockNumber:Me(Ie,null),transactionIndex:Me(Ie,null),from:Ue,gasPrice:Me(he),maxPriorityFeePerGas:Me(he),maxFeePerGas:Me(he),maxFeePerBlobGas:Me(he,null),gasLimit:he,to:Me(Ue,null),value:he,nonce:Ie,data:Hl,creates:Me(Ue,null),chainId:Me(he,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);if(e.to==null&&e.creates==null&&(e.creates=$E(e)),(n.type===1||n.type===2)&&n.accessList==null&&(e.accessList=[]),n.signature?e.signature=yn.from(n.signature):e.signature=yn.from(n),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&he(e.blockHash)===v2&&(e.blockHash=null),e}const cC="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class sd{constructor(e){M(this,"name");Ne(this,{name:e})}clone(){return new sd(this.name)}}class Y0 extends sd{constructor(t,r){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);M(this,"effectiveBlock");M(this,"txBase");M(this,"txCreate");M(this,"txDataZero");M(this,"txDataNonzero");M(this,"txAccessListStorageKey");M(this,"txAccessListAddress");const i={effectiveBlock:t};function a(l,u){let f=(r||{})[l];f==null&&(f=u),R(typeof f=="number",`invalud value for ${l}`,"costs",r),i[l]=f}a("txBase",21e3),a("txCreate",32e3),a("txDataZero",4),a("txDataNonzero",16),a("txAccessListStorageKey",1900),a("txAccessListAddress",2400),Ne(this,i)}clone(){return new Y0(this.effectiveBlock,this)}}class X0 extends sd{constructor(t,r){super("org.ethers.plugins.network.Ens");M(this,"address");M(this,"targetNetwork");Ne(this,{address:t||cC,targetNetwork:r??1})}clone(){return new X0(this.address,this.targetNetwork)}}var Hu,Gu;class uC extends sd{constructor(t,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");z(this,Hu);z(this,Gu);C(this,Hu,t),C(this,Gu,r)}get url(){return v(this,Hu)}get processFunc(){return v(this,Gu)}clone(){return this}}Hu=new WeakMap,Gu=new WeakMap;const fx=new Map;var bl,wl,bi;const _a=class _a{constructor(e,t){z(this,bl);z(this,wl);z(this,bi);C(this,bl,e),C(this,wl,he(t)),C(this,bi,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return v(this,bl)}set name(e){C(this,bl,e)}get chainId(){return v(this,wl)}set chainId(e){C(this,wl,he(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===he(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===he(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===he(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(v(this,bi).values())}attachPlugin(e){if(v(this,bi).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return v(this,bi).set(e.name,e.clone()),this}getPlugin(e){return v(this,bi).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new _a(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Y0;let r=t.txBase;if(e.to==null&&(r+=t.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){const i=Xo(e.accessList);for(const a in i)r+=t.txAccessListAddress+t.txAccessListStorageKey*i[a].storageKeys.length}return r}static from(e){if(dC(),e==null)return _a.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=fx.get(e);if(t)return t();if(typeof e=="bigint")return new _a("unknown",e);R(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){R(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new _a(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new X0(e.ensAddress,e.ensNetwork)),t}R(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const r=fx.get(e);r&&R(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),fx.set(e,t)}};bl=new WeakMap,wl=new WeakMap,bi=new WeakMap;let Wr=_a;function A2(n,e){const t=String(n);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);const r=t.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function N2(n){return new uC(n,async(e,t,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[a,l]=await Promise.all([r.send(),e()]);i=a;const u=i.bodyJson.standard;return{gasPrice:l.gasPrice,maxFeePerGas:A2(u.maxFee,9),maxPriorityFeePerGas:A2(u.maxPriorityFee,9)}}catch(a){q(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:a})}})}let E2=!1;function dC(){if(E2)return;E2=!0;function n(e,t,r){const i=function(){const a=new Wr(e,t);return r.ensNetwork!=null&&a.attachPlugin(new X0(null,r.ensNetwork)),a.attachPlugin(new Y0),(r.plugins||[]).forEach(l=>{a.attachPlugin(l)}),a};Wr.register(e,i),Wr.register(t,i),r.altNames&&r.altNames.forEach(a=>{Wr.register(a,i)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{ensNetwork:11155111}),n("holesky",17e3,{ensNetwork:17e3}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("arbitrum-sepolia",421614,{}),n("base",8453,{ensNetwork:1}),n("base-goerli",84531,{}),n("base-sepolia",84532,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("filecoin",314,{}),n("filecoin-calibration",314159,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("linea-sepolia",59141,{}),n("matic",137,{ensNetwork:1,plugins:[N2("https://gasstation.polygon.technology/v2")]}),n("matic-amoy",80002,{}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[N2("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[]}),n("optimism-goerli",420,{}),n("optimism-sepolia",11155420,{}),n("xdai",100,{ensNetwork:1})}function fm(n){return JSON.parse(JSON.stringify(n))}var vs,$n,wi,Vr,vl,Yf;class fC{constructor(e){z(this,vl);z(this,vs);z(this,$n);z(this,wi);z(this,Vr);C(this,vs,e),C(this,$n,null),C(this,wi,4e3),C(this,Vr,-2)}get pollingInterval(){return v(this,wi)}set pollingInterval(e){C(this,wi,e)}start(){v(this,$n)||(C(this,$n,v(this,vs)._setTimeout(le(this,vl,Yf).bind(this),v(this,wi))),le(this,vl,Yf).call(this))}stop(){v(this,$n)&&(v(this,vs)._clearTimeout(v(this,$n)),C(this,$n,null))}pause(e){this.stop(),e&&C(this,Vr,-2)}resume(){this.start()}}vs=new WeakMap,$n=new WeakMap,wi=new WeakMap,Vr=new WeakMap,vl=new WeakSet,Yf=async function(){try{const e=await v(this,vs).getBlockNumber();if(v(this,Vr)===-2){C(this,Vr,e);return}if(e!==v(this,Vr)){for(let t=v(this,Vr)+1;t<=e;t++){if(v(this,$n)==null)return;await v(this,vs).emit("block",t)}C(this,Vr,e)}}catch{}v(this,$n)!=null&&C(this,$n,v(this,vs)._setTimeout(le(this,vl,Yf).bind(this),v(this,wi)))};var Co,To,vi;class Ag{constructor(e){z(this,Co);z(this,To);z(this,vi);C(this,Co,e),C(this,vi,!1),C(this,To,t=>{this._poll(t,v(this,Co))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){v(this,vi)||(C(this,vi,!0),v(this,To).call(this,-2),v(this,Co).on("block",v(this,To)))}stop(){v(this,vi)&&(C(this,vi,!1),v(this,Co).off("block",v(this,To)))}pause(e){this.stop()}resume(){this.start()}}Co=new WeakMap,To=new WeakMap,vi=new WeakMap;var Al,As;class hC extends Ag{constructor(t,r){super(t);z(this,Al);z(this,As);C(this,Al,r),C(this,As,-2)}pause(t){t&&C(this,As,-2),super.pause(t)}async _poll(t,r){const i=await r.getBlock(v(this,Al));i!=null&&(v(this,As)===-2?C(this,As,i.number):i.number>v(this,As)&&(r.emit(v(this,Al),i.number),C(this,As,i.number)))}}Al=new WeakMap,As=new WeakMap;var O0;class pC extends Ag{constructor(t,r){super(t);z(this,O0);C(this,O0,fm(r))}async _poll(t,r){throw new Error("@TODO")}}O0=new WeakMap;var Nl;class xC extends Ag{constructor(t,r){super(t);z(this,Nl);C(this,Nl,r)}async _poll(t,r){const i=await r.getTransactionReceipt(v(this,Nl));i&&r.emit(v(this,Nl),i)}}Nl=new WeakMap;var Ns,El,Sl,Ai,Jn,L0,N6;class Ng{constructor(e,t){z(this,L0);z(this,Ns);z(this,El);z(this,Sl);z(this,Ai);z(this,Jn);C(this,Ns,e),C(this,El,fm(t)),C(this,Sl,le(this,L0,N6).bind(this)),C(this,Ai,!1),C(this,Jn,-2)}start(){v(this,Ai)||(C(this,Ai,!0),v(this,Jn)===-2&&v(this,Ns).getBlockNumber().then(e=>{C(this,Jn,e)}),v(this,Ns).on("block",v(this,Sl)))}stop(){v(this,Ai)&&(C(this,Ai,!1),v(this,Ns).off("block",v(this,Sl)))}pause(e){this.stop(),e&&C(this,Jn,-2)}resume(){this.start()}}Ns=new WeakMap,El=new WeakMap,Sl=new WeakMap,Ai=new WeakMap,Jn=new WeakMap,L0=new WeakSet,N6=async function(e){if(v(this,Jn)===-2)return;const t=fm(v(this,El));t.fromBlock=v(this,Jn)+1,t.toBlock=e;const r=await v(this,Ns).getLogs(t);if(r.length===0){v(this,Jn)<e-60&&C(this,Jn,e-60);return}for(const i of r)v(this,Ns).emit(v(this,El),i),C(this,Jn,i.blockNumber)};const mC=BigInt(2),gC=10;function jf(n){return n&&typeof n.then=="function"}function Xf(n,e){return n+":"+JSON.stringify(e,(t,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((a,l)=>(a[l]=r[l],a),{})}return r})}class E6{constructor(e){M(this,"name");Ne(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function yC(n){return JSON.parse(JSON.stringify(n))}function hm(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function hx(n,e){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string")switch(n){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:n,tag:n}}if(Je(n,32)){const t=n.toLowerCase();return{type:"transaction",tag:Xf("tx",{hash:t}),hash:t}}if(n.orphan){const t=n;return{type:"orphan",tag:Xf("orphan",t),filter:yC(t)}}if(n.address||n.topics){const t=n,r={topics:(t.topics||[]).map(i=>i==null?null:Array.isArray(i)?hm(i.map(a=>a.toLowerCase())):i.toLowerCase())};if(t.address){const i=[],a=[],l=u=>{Je(u)?i.push(u):a.push((async()=>{i.push(await Rt(u,e))})())};Array.isArray(t.address)?t.address.forEach(l):l(t.address),a.length&&await Promise.all(a),r.address=hm(i.map(u=>u.toLowerCase()))}return{filter:r,tag:Xf("event",r),type:"event"}}R(!1,"unknown ProviderEvent","event",n)}function px(){return new Date().getTime()}const bC={cacheTimeout:250,pollingInterval:4e3};var Qt,Ni,$t,kl,Pn,Po,Ei,Es,Ku,Yn,Cl,Tl,Le,En,pm,xm,eu,mm,tu,Zf;class wC{constructor(e,t){z(this,Le);z(this,Qt);z(this,Ni);z(this,$t);z(this,kl);z(this,Pn);z(this,Po);z(this,Ei);z(this,Es);z(this,Ku);z(this,Yn);z(this,Cl);z(this,Tl);if(C(this,Tl,Object.assign({},bC,t||{})),e==="any")C(this,Po,!0),C(this,Pn,null);else if(e){const r=Wr.from(e);C(this,Po,!1),C(this,Pn,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else C(this,Po,!1),C(this,Pn,null);C(this,Es,-1),C(this,Ei,new Map),C(this,Qt,new Map),C(this,Ni,new Map),C(this,$t,null),C(this,kl,!1),C(this,Ku,1),C(this,Yn,new Map),C(this,Cl,!1)}get pollingInterval(){return v(this,Tl).pollingInterval}get provider(){return this}get plugins(){return Array.from(v(this,Ni).values())}attachPlugin(e){if(v(this,Ni).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return v(this,Ni).set(e.name,e.connect(this)),this}getPlugin(e){return v(this,Ni).get(e)||null}get disableCcipRead(){return v(this,Cl)}set disableCcipRead(e){C(this,Cl,!!e)}async ccipReadFetch(e,t,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),a=t.toLowerCase(),l=[];for(let u=0;u<r.length;u++){const f=r[u],p=f.replace("{sender}",i).replace("{data}",a),m=new js(p);f.indexOf("{data}")===-1&&(m.body={data:a,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:m,index:u,urls:r});let g="unknown error",b;try{b=await m.send()}catch(w){l.push(w.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:m,result:{error:w}});continue}try{const w=b.bodyJson;if(w.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:m,result:w}),w.data;w.message&&(g=w.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:m,result:w})}catch{}q(b.statusCode<400||b.statusCode>=500,`response not found during CCIP fetch: ${g}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:f,errorMessage:g}}),l.push(g)}q(!1,`error encountered during CCIP fetch: ${l.map(u=>JSON.stringify(u)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:l}})}_wrapBlock(e,t){return new Uk(sC(e),this)}_wrapLog(e,t){return new nd(nC(e),this)}_wrapTransactionReceipt(e,t){return new c6(lC(e),this)}_wrapTransactionResponse(e,t){return new Cu(A6(e),this)}_detectNetwork(){q(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){q(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Ie(await le(this,Le,En).call(this,{method:"getBlockNumber"}),"%response");return v(this,Es)>=0&&C(this,Es,e),e}_getAddress(e){return Rt(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Je(e))return Je(e,32)?e:wr(e);if(typeof e=="bigint"&&(e=Ie(e,"blockTag")),typeof e=="number")return e>=0?wr(e):v(this,Es)>=0?wr(v(this,Es)+e):this.getBlockNumber().then(t=>wr(t+e));R(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(f=>f==null?null:Array.isArray(f)?hm(f.map(p=>p.toLowerCase())):f.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(f,p,m)=>{let g;switch(f.length){case 0:break;case 1:g=f[0];break;default:f.sort(),g=f}if(r&&(p!=null||m!=null))throw new Error("invalid filter");const b={};return g&&(b.address=g),t.length&&(b.topics=t),p&&(b.fromBlock=p),m&&(b.toBlock=m),r&&(b.blockHash=r),b};let a=[];if(e.address)if(Array.isArray(e.address))for(const f of e.address)a.push(this._getAddress(f));else a.push(this._getAddress(e.address));let l;"fromBlock"in e&&(l=this._getBlockTag(e.fromBlock));let u;return"toBlock"in e&&(u=this._getBlockTag(e.toBlock)),a.filter(f=>typeof f!="string").length||l!=null&&typeof l!="string"||u!=null&&typeof u!="string"?Promise.all([Promise.all(a),l,u]).then(f=>i(f[0],f[1],f[2])):i(a,l,u)}_getTransactionRequest(e){const t=ku(e),r=[];if(["to","from"].forEach(i=>{if(t[i]==null)return;const a=Rt(t[i],this);jf(a)?r.push((async function(){t[i]=await a})()):t[i]=a}),t.blockTag!=null){const i=this._getBlockTag(t.blockTag);jf(i)?r.push((async function(){t.blockTag=await i})()):t.blockTag=i}return r.length?(async function(){return await Promise.all(r),t})():t}async getNetwork(){if(v(this,Pn)==null){const i=(async()=>{try{const a=await this._detectNetwork();return this.emit("network",a,null),a}catch(a){throw v(this,Pn)===i&&C(this,Pn,null),a}})();return C(this,Pn,i),(await i).clone()}const e=v(this,Pn),[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(v(this,Po)?(this.emit("network",r,t),v(this,Pn)===e&&C(this,Pn,Promise.resolve(r))):q(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:i,gasPrice:a,priorityFee:l}=await Jt({_block:le(this,Le,mm).call(this,"latest",!1),gasPrice:(async()=>{try{const m=await le(this,Le,En).call(this,{method:"getGasPrice"});return he(m,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const m=await le(this,Le,En).call(this,{method:"getPriorityFee"});return he(m,"%response")}catch{}return null})()});let u=null,f=null;const p=this._wrapBlock(i,e);return p&&p.baseFeePerGas&&(f=l??BigInt("1000000000"),u=p.baseFeePerGas*mC+f),new g2(a,u,f)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new js(r.url),a=await r.processFunc(t,this,i);return new g2(a.gasPrice,a.maxFeePerGas,a.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return jf(t)&&(t=await t),he(await le(this,Le,En).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:r}=await Jt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await le(this,Le,xm).call(this,le(this,Le,pm).call(this,t,r,e.enableCcipRead?0:-1))}async getBalance(e,t){return he(await le(this,Le,eu).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return Ie(await le(this,Le,eu).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return ie(await le(this,Le,eu).call(this,{method:"getCode"},e,t))}async getStorage(e,t,r){const i=he(t,"position");return ie(await le(this,Le,eu).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:i}=await Jt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),a=bu.from(e);if(a.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(a,i).replaceableTransaction(t)}async getBlock(e,t){const{network:r,params:i}=await Jt({network:this.getNetwork(),params:le(this,Le,mm).call(this,e,!!t)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:t,params:r}=await Jt({network:this.getNetwork(),params:le(this,Le,En).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await Jt({network:this.getNetwork(),params:le(this,Le,En).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await le(this,Le,En).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await Jt({network:this.getNetwork(),result:le(this,Le,En).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:ie(t)}async getLogs(e){let t=this._getFilter(e);jf(t)&&(t=await t);const{network:r,params:i}=await Jt({network:this.getNetwork(),params:le(this,Le,En).call(this,{method:"getLogs",filter:t})});return i.map(a=>this._wrapLog(a,r))}_getProvider(e){q(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await m0.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=Ue(e);const t=am(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await m0.getEnsAddress(this),a=await new lu(r,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(a==null||a===yu)return null;const u=await new lu(a,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(u)!==e?null:u}catch(r){if(Ut(r,"BAD_DATA")&&r.value==="0x"||Ut(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,t,r){const i=t??1;return i===0?this.getTransactionReceipt(e):new Promise(async(a,l)=>{let u=null;const f=(async p=>{try{const m=await this.getTransactionReceipt(e);if(m!=null&&p-m.blockNumber+1>=i){a(m),u&&(clearTimeout(u),u=null);return}}catch(m){console.log("EEE",m)}this.once("block",f)});r!=null&&(u=setTimeout(()=>{u!=null&&(u=null,this.off("block",f),l(it("timeout","TIMEOUT",{reason:"timeout"})))},r)),f(await this.getBlockNumber())})}async waitForBlock(e){q(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=v(this,Yn).get(e);t&&(t.timer&&clearTimeout(t.timer),v(this,Yn).delete(e))}_setTimeout(e,t){t==null&&(t=0);const r=Gc(this,Ku)._++,i=()=>{v(this,Yn).delete(r),e()};if(this.paused)v(this,Yn).set(r,{timer:null,func:i,time:t});else{const a=setTimeout(i,t);v(this,Yn).set(r,{timer:a,func:i,time:px()})}return r}_forEachSubscriber(e){for(const t of v(this,Qt).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new E6(e.type);case"block":{const t=new fC(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new hC(this,e.type);case"event":return new Ng(this,e.filter);case"transaction":return new xC(this,e.hash);case"orphan":return new pC(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of v(this,Qt).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),v(this,$t)!=null&&t.pause(v(this,$t));break}}async on(e,t){const r=await le(this,Le,Zf).call(this,e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,v(this,$t)!=null&&r.subscriber.pause(v(this,$t))),this}async once(e,t){const r=await le(this,Le,Zf).call(this,e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,v(this,$t)!=null&&r.subscriber.pause(v(this,$t))),this}async emit(e,...t){const r=await le(this,Le,tu).call(this,e,t);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:a,once:l})=>{const u=new b3(this,l?null:a,e);try{a.call(this,...t,u)}catch{}return!l}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),v(this,Qt).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await le(this,Le,tu).call(this,e);return r?r.listeners.length:0}let t=0;for(const{listeners:r}of v(this,Qt).values())t+=r.length;return t}async listeners(e){if(e){const r=await le(this,Le,tu).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let t=[];for(const{listeners:r}of v(this,Qt).values())t=t.concat(r.map(({listener:i})=>i));return t}async off(e,t){const r=await le(this,Le,tu).call(this,e);if(!r)return this;if(t){const i=r.listeners.map(({listener:a})=>a).indexOf(t);i>=0&&r.listeners.splice(i,1)}return(!t||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),v(this,Qt).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:i}=await le(this,Le,Zf).call(this,e);r&&i.stop(),v(this,Qt).delete(t)}else for(const[t,{started:r,subscriber:i}]of v(this,Qt))r&&i.stop(),v(this,Qt).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return v(this,kl)}destroy(){this.removeAllListeners();for(const e of v(this,Yn).keys())this._clearTimeout(e);C(this,kl,!0)}get paused(){return v(this,$t)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(C(this,Es,-1),v(this,$t)!=null){if(v(this,$t)==!!e)return;q(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),C(this,$t,!!e);for(const t of v(this,Yn).values())t.timer&&clearTimeout(t.timer),t.time=px()-t.time}resume(){if(v(this,$t)!=null){this._forEachSubscriber(e=>e.resume()),C(this,$t,null);for(const e of v(this,Yn).values()){let t=e.time;t<0&&(t=0),e.time=px(),setTimeout(e.func,t)}}}}Qt=new WeakMap,Ni=new WeakMap,$t=new WeakMap,kl=new WeakMap,Pn=new WeakMap,Po=new WeakMap,Ei=new WeakMap,Es=new WeakMap,Ku=new WeakMap,Yn=new WeakMap,Cl=new WeakMap,Tl=new WeakMap,Le=new WeakSet,En=async function(e){const t=v(this,Tl).cacheTimeout;if(t<0)return await this._perform(e);const r=Xf(e.method,e);let i=v(this,Ei).get(r);return i||(i=this._perform(e),v(this,Ei).set(r,i),setTimeout(()=>{v(this,Ei).get(r)===i&&v(this,Ei).delete(r)},t)),await i},pm=async function(e,t,r){q(r<gC,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const i=ku(e);try{return ie(await this._perform({method:"call",transaction:i,blockTag:t}))}catch(a){if(!this.disableCcipRead&&ng(a)&&a.data&&r>=0&&t==="latest"&&i.to!=null&&et(a.data,0,4)==="0x556f1830"){const l=a.data,u=await Rt(i.to,this);let f;try{f=SC(et(a.data,4))}catch(g){q(!1,g.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:l}})}q(f.sender.toLowerCase()===u.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:l,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:f.errorArgs}});const p=await this.ccipReadFetch(i,f.calldata,f.urls);q(p!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:a.data,errorArgs:f.errorArgs}});const m={to:u,data:Ke([f.selector,EC([p,f.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:m});try{const g=await le(this,Le,pm).call(this,m,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},m),result:g}),g}catch(g){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},m),error:g}),g}}throw a}},xm=async function(e){const{value:t}=await Jt({network:this.getNetwork(),value:e});return t},eu=async function(e,t,r){let i=this._getAddress(t),a=this._getBlockTag(r);return(typeof i!="string"||typeof a!="string")&&([i,a]=await Promise.all([i,a])),await le(this,Le,xm).call(this,le(this,Le,En).call(this,Object.assign(e,{address:i,blockTag:a})))},mm=async function(e,t){if(Je(e,32))return await le(this,Le,En).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await le(this,Le,En).call(this,{method:"getBlock",blockTag:r,includeTransactions:t})},tu=async function(e,t){let r=await hx(e,this);return r.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(r=await hx({orphan:"drop-log",log:t[0]},this)),v(this,Qt).get(r.tag)||null},Zf=async function(e){const t=await hx(e,this),r=t.tag;let i=v(this,Qt).get(r);return i||(i={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},v(this,Qt).set(r,i)),i};function vC(n,e){try{const t=gm(n,e);if(t)return c0(t)}catch{}return null}function gm(n,e){if(n==="0x")return null;try{const t=Ie(et(n,e,e+32)),r=Ie(et(n,t,t+32));return et(n,t+32,t+32+r)}catch{}return null}function S2(n){const e=lt(n);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function AC(n){if(n.length%32===0)return n;const e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}const NC=new Uint8Array([]);function EC(n){const e=[];let t=0;for(let r=0;r<n.length;r++)e.push(NC),t+=32;for(let r=0;r<n.length;r++){const i=de(n[r]);e[r]=S2(t),e.push(S2(i.length)),e.push(AC(i)),t+=32+Math.ceil(i.length/32)*32}return Ke(e)}const k2="0x0000000000000000000000000000000000000000000000000000000000000000";function SC(n){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};q(Va(n)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=et(n,0,32);q(et(t,0,12)===et(k2,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=et(t,12);try{const r=[],i=Ie(et(n,32,64)),a=Ie(et(n,i,i+32)),l=et(n,i+32);for(let u=0;u<a;u++){const f=vC(l,u*32);if(f==null)throw new Error("abort");r.push(f)}e.urls=r}catch{q(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=gm(n,64);if(r==null)throw new Error("abort");e.calldata=r}catch{q(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}q(et(n,100,128)===et(k2,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=et(n,96,100);try{const r=gm(n,128);if(r==null)throw new Error("abort");e.extraData=r}catch{q(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function qi(n,e){if(n.provider)return n.provider;q(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function C2(n,e){let t=ku(e);if(t.to!=null&&(t.to=Rt(t.to,n)),t.from!=null){const r=t.from;t.from=Promise.all([n.getAddress(),Rt(r,n)]).then(([i,a])=>(R(i.toLowerCase()===a.toLowerCase(),"transaction from mismatch","tx.from",a),i))}else t.from=n.getAddress();return await Jt(t)}class Eg{constructor(e){M(this,"provider");Ne(this,{provider:e||null})}async getNonce(e){return qi(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await C2(this,e)}async populateTransaction(e){const t=qi(this,"populateTransaction"),r=await C2(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const l=he(r.chainId);R(l===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const a=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||a)?R(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&a&&R(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const l=await t.getFeeData();q(l.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=l.gasPrice)}else{const l=await t.getFeeData();if(r.type==null)if(l.maxFeePerGas!=null&&l.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const u=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=u,r.maxPriorityFeePerGas=u}else r.maxFeePerGas==null&&(r.maxFeePerGas=l.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=l.maxPriorityFeePerGas);else l.gasPrice!=null?(q(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=l.gasPrice),r.type=0):q(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=l.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=l.maxPriorityFeePerGas))}return await Jt(r)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await qi(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return qi(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return qi(this,"call").call(await this.populateCall(e))}async resolveName(e){return await qi(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=qi(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=bu.from(r);return await t.broadcastTransaction(await this.signTransaction(i))}authorize(e){q(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var Pl,qf;const by=class by extends Eg{constructor(t,r){super(r);z(this,Pl);M(this,"address");Ne(this,{address:t})}async getAddress(){return this.address}connect(t){return new by(this.address,t)}async signTransaction(t){le(this,Pl,qf).call(this,"transactions","signTransaction")}async signMessage(t){le(this,Pl,qf).call(this,"messages","signMessage")}async signTypedData(t,r,i){le(this,Pl,qf).call(this,"typed-data","signTypedData")}};Pl=new WeakSet,qf=function(t,r){q(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:r})};let ym=by;function kC(n){return JSON.parse(JSON.stringify(n))}var tn,zr,Io,Si,Ro,Il,Oi,bm,wm;class S6{constructor(e){z(this,Oi);z(this,tn);z(this,zr);z(this,Io);z(this,Si);z(this,Ro);z(this,Il);C(this,tn,e),C(this,zr,null),C(this,Io,le(this,Oi,bm).bind(this)),C(this,Si,!1),C(this,Ro,null),C(this,Il,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){v(this,Si)||(C(this,Si,!0),le(this,Oi,bm).call(this,-2))}stop(){v(this,Si)&&(C(this,Si,!1),C(this,Il,!0),le(this,Oi,wm).call(this),v(this,tn).off("block",v(this,Io)))}pause(e){e&&le(this,Oi,wm).call(this),v(this,tn).off("block",v(this,Io))}resume(){this.start()}}tn=new WeakMap,zr=new WeakMap,Io=new WeakMap,Si=new WeakMap,Ro=new WeakMap,Il=new WeakMap,Oi=new WeakSet,bm=async function(e){try{v(this,zr)==null&&C(this,zr,this._subscribe(v(this,tn)));let t=null;try{t=await v(this,zr)}catch(a){if(!Ut(a,"UNSUPPORTED_OPERATION")||a.operation!=="eth_newFilter")throw a}if(t==null){C(this,zr,null),v(this,tn)._recoverSubscriber(this,this._recover(v(this,tn)));return}const r=await v(this,tn).getNetwork();if(v(this,Ro)||C(this,Ro,r),v(this,Ro).chainId!==r.chainId)throw new Error("chaid changed");if(v(this,Il))return;const i=await v(this,tn).send("eth_getFilterChanges",[t]);await this._emitResults(v(this,tn),i)}catch(t){console.log("@TODO",t)}v(this,tn).once("block",v(this,Io))},wm=function(){const e=v(this,zr);e&&(C(this,zr,null),e.then(t=>{v(this,tn).destroyed||v(this,tn).send("eth_uninstallFilter",[t])}))};var jo;class CC extends S6{constructor(t,r){super(t);z(this,jo);C(this,jo,kC(r))}_recover(t){return new Ng(t,v(this,jo))}async _subscribe(t){return await t.send("eth_newFilter",[v(this,jo)])}async _emitResults(t,r){for(const i of r)t.emit(v(this,jo),t._wrapLog(i,t._network))}}jo=new WeakMap;class TC extends S6{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}}const PC="bigint,boolean,function,number,string,symbol".split(/,/g);function e0(n){if(n==null||PC.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(e0);if(typeof n=="object")return Object.keys(n).reduce((e,t)=>(e[t]=n[t],e),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function IC(n){return new Promise(e=>{setTimeout(e,n)})}function Ea(n){return n&&n.toLowerCase()}function T2(n){return n&&typeof n.pollingInterval=="number"}const k6={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class xx extends Eg{constructor(t,r){super(t);M(this,"address");r=Ue(r),Ne(this,{address:r})}connect(t){q(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const r=e0(t),i=[];if(r.from){const l=r.from;i.push((async()=>{const u=await Rt(l,this.provider);R(u!=null&&u.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),r.from=u})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const l=r.to;i.push((async()=>{r.to=await Rt(l,this.provider)})())}i.length&&await Promise.all(i);const a=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[a])}async sendTransaction(t){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(t);return await new Promise((a,l)=>{const u=[1e3,100];let f=0;const p=async()=>{try{const m=await this.provider.getTransaction(i);if(m!=null){a(m.replaceableTransaction(r));return}}catch(m){if(Ut(m,"CANCELLED")||Ut(m,"BAD_DATA")||Ut(m,"NETWORK_ERROR")||Ut(m,"UNSUPPORTED_OPERATION")){m.info==null&&(m.info={}),m.info.sendTransactionHash=i,l(m);return}if(Ut(m,"INVALID_ARGUMENT")&&(f++,m.info==null&&(m.info={}),m.info.sendTransactionHash=i,f>10)){l(m);return}this.provider.emit("error",it("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:m}))}this.provider._setTimeout(()=>{p()},u.pop()||4e3)};p()})}async signTransaction(t){const r=e0(t);if(r.from){const a=await Rt(r.from,this.provider);R(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),r.from=a}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(t){const r=typeof t=="string"?an(t):t;return await this.provider.send("personal_sign",[ie(r),this.address.toLowerCase()])}async signTypedData(t,r,i){const a=e0(i),l=await zl.resolveNames(t,r,a,async u=>{const f=await Rt(u);return R(f!=null,"TypedData does not support null address","value",u),f});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(zl.getPayload(l.domain,r,l.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const r=typeof t=="string"?an(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ie(r)])}}var Oo,Rl,Ss,Hr,br,Xn,xn,Wu,vm;class RC extends wC{constructor(t,r){super(t,r);z(this,Wu);z(this,Oo);z(this,Rl);z(this,Ss);z(this,Hr);z(this,br);z(this,Xn);z(this,xn);C(this,Rl,1),C(this,Oo,Object.assign({},k6,r||{})),C(this,Ss,[]),C(this,Hr,null),C(this,Xn,null),C(this,xn,null);{let a=null;const l=new Promise(u=>{a=u});C(this,br,{promise:l,resolve:a})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(R(!i||t!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&t!=null&&C(this,Xn,Wr.from(t))):i&&(R(t==null||i.matches(t),"staticNetwork MUST match network object","options",r),C(this,Xn,i))}_getOption(t){return v(this,Oo)[t]}get _network(){return q(v(this,Xn),"network is not available yet","NETWORK_ERROR"),v(this,Xn)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let i=t.transaction;if(i&&i.type!=null&&he(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const a=await this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(t);return r!=null?await this.send(r.method,r.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(v(this,Xn))return v(this,Xn)}else return t;return v(this,xn)?await v(this,xn):this.ready?(C(this,xn,(async()=>{try{const r=Wr.from(he(await this.send("eth_chainId",[])));return C(this,xn,null),r}catch(r){throw C(this,xn,null),r}})()),await v(this,xn)):(C(this,xn,(async()=>{const r={id:Gc(this,Rl)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],C(this,xn,null)}catch(a){throw C(this,xn,null),this.emit("debug",{action:"receiveRpcError",error:a}),a}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return Wr.from(he(i.result));throw this.getRpcError(r,i)})()),await v(this,xn))}_start(){v(this,br)==null||v(this,br).resolve==null||(v(this,br).resolve(),C(this,br,null),(async()=>{for(;v(this,Xn)==null&&!this.destroyed;)try{C(this,Xn,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",it("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await IC(1e3)}le(this,Wu,vm).call(this)})())}async _waitUntilReady(){if(v(this,br)!=null)return await v(this,br).promise}_getSubscriber(t){return t.type==="pending"?new TC(this):t.type==="event"?this._getOption("polling")?new Ng(this,t.filter):new CC(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new E6("orphan"):super._getSubscriber(t)}get ready(){return v(this,br)==null}getRpcTransaction(t){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(t[i]==null)return;let a=i;i==="gasLimit"&&(a="gas"),r[a]=wr(he(t[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{t[i]!=null&&(r[i]=ie(t[i]))}),t.accessList&&(r.accessList=Xo(t.accessList)),t.blobVersionedHashes&&(r.blobVersionedHashes=t.blobVersionedHashes.map(i=>i.toLowerCase())),t.authorizationList&&(r.authorizationList=t.authorizationList.map(i=>{const a=T4(i);return{address:a.address,nonce:wr(a.nonce),chainId:wr(a.chainId),yParity:wr(a.signature.yParity),r:wr(a.signature.r),s:wr(a.signature.s)}})),r}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ea(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ea(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ea(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ea(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(Ea):t.filter.address=Ea(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,r){const{method:i}=t,{error:a}=r;if(i==="eth_estimateGas"&&a.message){const f=a.message;if(!f.match(/revert/i)&&f.match(/insufficient funds/i))return it("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:a}});if(f.match(/nonce/i)&&f.match(/too low/i))return it("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:a}})}if(i==="eth_call"||i==="eth_estimateGas"){const f=Am(a),p=Go.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",t.params[0],f?f.data:null);return p.info={error:a,payload:t},p}const l=JSON.stringify(OC(a));if(typeof a.message=="string"&&a.message.match(/user denied|ethers-user-denied/i))return it("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:t,error:a}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const f=t.params[0];if(l.match(/insufficient funds|base fee exceeds gas limit/i))return it("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:f,info:{error:a}});if(l.match(/nonce/i)&&l.match(/too low/i))return it("nonce has already been used","NONCE_EXPIRED",{transaction:f,info:{error:a}});if(l.match(/replacement transaction/i)&&l.match(/underpriced/i))return it("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:f,info:{error:a}});if(l.match(/only replay-protected/i))return it("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:f,info:{error:a}}})}let u=!!l.match(/the method .* does not exist/i);return u||a&&a.details&&a.details.startsWith("Unauthorized method:")&&(u=!0),u?it("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:a,payload:t}}):it("could not coalesce error","UNKNOWN_ERROR",{error:a,payload:t})}send(t,r){if(this.destroyed)return Promise.reject(it("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const i=Gc(this,Rl)._++,a=new Promise((l,u)=>{v(this,Ss).push({resolve:l,reject:u,payload:{method:t,params:r,id:i,jsonrpc:"2.0"}})});return le(this,Wu,vm).call(this),a}async getSigner(t){t==null&&(t=0);const r=this.send("eth_accounts",[]);if(typeof t=="number"){const a=await r;if(t>=a.length)throw new Error("no such account");return new xx(this,a[t])}const{accounts:i}=await Jt({network:this.getNetwork(),accounts:r});t=Ue(t);for(const a of i)if(Ue(a)===t)return new xx(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new xx(this,r))}destroy(){v(this,Hr)&&(clearTimeout(v(this,Hr)),C(this,Hr,null));for(const{payload:t,reject:r}of v(this,Ss))r(it("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));C(this,Ss,[]),super.destroy()}}Oo=new WeakMap,Rl=new WeakMap,Ss=new WeakMap,Hr=new WeakMap,br=new WeakMap,Xn=new WeakMap,xn=new WeakMap,Wu=new WeakSet,vm=function(){if(v(this,Hr))return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");C(this,Hr,setTimeout(()=>{C(this,Hr,null);const r=v(this,Ss);for(C(this,Ss,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==v(this,Oo).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(l=>l.payload)).length>v(this,Oo).batchMaxSize){r.unshift(i.pop());break}(async()=>{const a=i.length===1?i[0].payload:i.map(l=>l.payload);this.emit("debug",{action:"sendRpcPayload",payload:a});try{const l=await this._send(a);this.emit("debug",{action:"receiveRpcResult",result:l});for(const{resolve:u,reject:f,payload:p}of i){if(this.destroyed){f(it("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:p.method}));continue}const m=l.filter(g=>g.id===p.id)[0];if(m==null){const g=it("missing response for request","BAD_DATA",{value:l,info:{payload:p}});this.emit("error",g),f(g);continue}if("error"in m){f(this.getRpcError(p,m));continue}u(m.result)}}catch(l){this.emit("debug",{action:"receiveRpcError",error:l});for(const{reject:u}of i)u(l)}})()}},t))};var ki;class jC extends RC{constructor(t,r){super(t,r);z(this,ki);let i=this._getOption("pollingInterval");i==null&&(i=k6.pollingInterval),C(this,ki,i)}_getSubscriber(t){const r=super._getSubscriber(t);return T2(r)&&(r.pollingInterval=v(this,ki)),r}get pollingInterval(){return v(this,ki)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");C(this,ki,t),this._forEachSubscriber(r=>{T2(r)&&(r.pollingInterval=v(this,ki))})}}ki=new WeakMap;var jl;class Sg extends jC{constructor(t,r,i){t==null&&(t="http://localhost:8545");super(r,i);z(this,jl);typeof t=="string"?C(this,jl,new js(t)):C(this,jl,t.clone())}_getConnection(){return v(this,jl).clone()}async send(t,r){return await this._start(),await super.send(t,r)}async _send(t){const r=this._getConnection();r.body=JSON.stringify(t),r.setHeader("content-type","application/json");const i=await r.send();i.assertOk();let a=i.bodyJson;return Array.isArray(a)||(a=[a]),a}}jl=new WeakMap;function Am(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match(/revert/i)&&Je(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const e in n){const t=Am(n[e]);if(t)return t}return null}if(typeof n=="string")try{return Am(JSON.parse(n))}catch{}return null}function Nm(n,e){if(n!=null){if(typeof n.message=="string"&&e.push(n.message),typeof n=="object")for(const t in n)Nm(n[t],e);if(typeof n=="string")try{return Nm(JSON.parse(n),e)}catch{}}}function OC(n){const e=[];return Nm(n,e),e}var Ol;const wy=class wy extends Eg{constructor(t,r){super(r);M(this,"address");z(this,Ol);R(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),C(this,Ol,t);const i=td(this.signingKey.publicKey);Ne(this,{address:i})}get signingKey(){return v(this,Ol)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new wy(v(this,Ol),t)}async signTransaction(t){t=ku(t);const{to:r,from:i}=await Jt({to:t.to?Rt(t.to,this):void 0,from:t.from?Rt(t.from,this):void 0});r!=null&&(t.to=r),i!=null&&(t.from=i),t.from!=null&&(R(Ue(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);const a=bu.from(t);return a.signature=this.signingKey.sign(a.unsignedHash),a.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign(pk(t)).serialized}authorizeSync(t){R(typeof t.address=="string","invalid address for authorizeSync","auth.address",t);const r=this.signingKey.sign(PS(t));return Object.assign({},{address:Ue(t.address),nonce:he(t.nonce||0),chainId:he(t.chainId||0)},{signature:r})}async authorize(t){return t=Object.assign({},t,{address:await Rt(t.address,this)}),this.authorizeSync(await this.populateAuthorization(t))}async signTypedData(t,r,i){const a=await zl.resolveNames(t,r,i,async l=>{q(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:l}});const u=await this.provider.resolveName(l);return q(u!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:l}),u});return this.signingKey.sign(zl.hash(a.domain,r,a.value)).serialized}};Ol=new WeakMap;let g0=wy;const y0=" !#$%&'()*+,-./<=>?@[]^_`{|}~",LC=/^[a-z]*$/i;function P2(n,e){let t=97;return n.reduce((r,i)=>(i===e?t++:i.match(LC)?r.push(String.fromCharCode(t)+i):(t=97,r.push(i)),r),[])}function BC(n,e){for(let i=y0.length-1;i>=0;i--)n=n.split(y0[i]).join(e.substring(2*i,2*i+2));const t=[],r=n.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(i,a,l,u)=>{if(l)for(let f=parseInt(l);f>=0;f--)t.push(";");else t.push(a.toLowerCase());return""});if(r)throw new Error(`leftovers: ${JSON.stringify(r)}`);return P2(P2(t,";"),":")}function DC(n){return R(n[0]==="0","unsupported auwl data","data",n),BC(n.substring(1+2*y0.length),n.substring(1,1+2*y0.length))}class MC{constructor(e){M(this,"locale");Ne(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var Ll,Qu,Lo,$u,Em;class FC extends MC{constructor(t,r,i){super(t);z(this,$u);z(this,Ll);z(this,Qu);z(this,Lo);C(this,Ll,r),C(this,Qu,i),C(this,Lo,null)}get _data(){return v(this,Ll)}_decodeWords(){return DC(v(this,Ll))}getWord(t){const r=le(this,$u,Em).call(this);return R(t>=0&&t<r.length,`invalid word index: ${t}`,"index",t),r[t]}getWordIndex(t){return le(this,$u,Em).call(this).indexOf(t)}}Ll=new WeakMap,Qu=new WeakMap,Lo=new WeakMap,$u=new WeakSet,Em=function(){if(v(this,Lo)==null){const t=this._decodeWords();if(Os(t.join(`
`)+`
`)!==v(this,Qu))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);C(this,Lo,t)}return v(this,Lo)};const UC="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",_C="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let mx=null;class Wo extends FC{constructor(){super("en",UC,_C)}static wordlist(){return mx==null&&(mx=new Wo),mx}}function C6(n){return(1<<n)-1<<8-n&255}function VC(n){return(1<<n)-1&255}function gx(n,e){p3("NFKD"),e==null&&(e=Wo.wordlist());const t=e.split(n);R(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const r=new Uint8Array(Math.ceil(11*t.length/8));let i=0;for(let p=0;p<t.length;p++){let m=e.getWordIndex(t[p].normalize("NFKD"));R(m>=0,`invalid mnemonic word at index ${p}`,"mnemonic","[ REDACTED ]");for(let g=0;g<11;g++)m&1<<10-g&&(r[i>>3]|=1<<7-i%8),i++}const a=32*t.length/3,l=t.length/3,u=C6(l),f=de(tr(r.slice(0,a/8)))[0]&u;return R(f===(r[r.length-1]&u),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),ie(r.slice(0,a/8))}function yx(n,e){R(n.length%4===0&&n.length>=16&&n.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Wo.wordlist());const t=[0];let r=11;for(let l=0;l<n.length;l++)r>8?(t[t.length-1]<<=8,t[t.length-1]|=n[l],r-=8):(t[t.length-1]<<=r,t[t.length-1]|=n[l]>>8-r,t.push(n[l]&VC(8-r)),r+=3);const i=n.length/4,a=parseInt(tr(n).substring(2,4),16)&C6(i);return t[t.length-1]<<=i,t[t.length-1]|=a>>8-i,e.join(t.map(l=>e.getWord(l)))}const bx={};class Gl{constructor(e,t,r,i,a){M(this,"phrase");M(this,"password");M(this,"wordlist");M(this,"entropy");i==null&&(i=""),a==null&&(a=Wo.wordlist()),Yo(e,bx,"Mnemonic"),Ne(this,{phrase:r,password:i,wordlist:a,entropy:t})}computeSeed(){const e=an("mnemonic"+this.password,"NFKD");return Li(an(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){const i=gx(e,r);return e=yx(de(i),r),new Gl(bx,i,e,t,r)}static fromEntropy(e,t,r){const i=de(e,"entropy"),a=yx(i,r);return new Gl(bx,ie(i),a,t,r)}static entropyToPhrase(e,t){const r=de(e,"entropy");return yx(r,t)}static phraseToEntropy(e,t){return gx(e,t)}static isValidMnemonic(e,t){try{return gx(e,t),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var Lt=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},wx=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},t0,Hn,Rr;const zC={16:10,24:12,32:14},HC=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Vn=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Of=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],GC=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],KC=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],WC=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],QC=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],$C=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],JC=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],YC=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],XC=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],ZC=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],qC=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],eT=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],tT=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function vx(n){const e=[];for(let t=0;t<n.length;t+=4)e.push(n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]);return e}class kg{get key(){return Lt(this,t0,"f").slice()}constructor(e){if(t0.set(this,void 0),Hn.set(this,void 0),Rr.set(this,void 0),!(this instanceof kg))throw Error("AES must be instanitated with `new`");wx(this,t0,new Uint8Array(e),"f");const t=zC[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");wx(this,Rr,[],"f"),wx(this,Hn,[],"f");for(let m=0;m<=t;m++)Lt(this,Rr,"f").push([0,0,0,0]),Lt(this,Hn,"f").push([0,0,0,0]);const r=(t+1)*4,i=this.key.length/4,a=vx(this.key);let l;for(let m=0;m<i;m++)l=m>>2,Lt(this,Rr,"f")[l][m%4]=a[m],Lt(this,Hn,"f")[t-l][m%4]=a[m];let u=0,f=i,p;for(;f<r;){if(p=a[i-1],a[0]^=Vn[p>>16&255]<<24^Vn[p>>8&255]<<16^Vn[p&255]<<8^Vn[p>>24&255]^HC[u]<<24,u+=1,i!=8)for(let w=1;w<i;w++)a[w]^=a[w-1];else{for(let w=1;w<i/2;w++)a[w]^=a[w-1];p=a[i/2-1],a[i/2]^=Vn[p&255]^Vn[p>>8&255]<<8^Vn[p>>16&255]<<16^Vn[p>>24&255]<<24;for(let w=i/2+1;w<i;w++)a[w]^=a[w-1]}let m=0,g,b;for(;m<i&&f<r;)g=f>>2,b=f%4,Lt(this,Rr,"f")[g][b]=a[m],Lt(this,Hn,"f")[t-g][b]=a[m++],f++}for(let m=1;m<t;m++)for(let g=0;g<4;g++)p=Lt(this,Hn,"f")[m][g],Lt(this,Hn,"f")[m][g]=ZC[p>>24&255]^qC[p>>16&255]^eT[p>>8&255]^tT[p&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=Lt(this,Rr,"f").length-1,r=[0,0,0,0];let i=vx(e);for(let u=0;u<4;u++)i[u]^=Lt(this,Rr,"f")[0][u];for(let u=1;u<t;u++){for(let f=0;f<4;f++)r[f]=GC[i[f]>>24&255]^KC[i[(f+1)%4]>>16&255]^WC[i[(f+2)%4]>>8&255]^QC[i[(f+3)%4]&255]^Lt(this,Rr,"f")[u][f];i=r.slice()}const a=new Uint8Array(16);let l=0;for(let u=0;u<4;u++)l=Lt(this,Rr,"f")[t][u],a[4*u]=(Vn[i[u]>>24&255]^l>>24)&255,a[4*u+1]=(Vn[i[(u+1)%4]>>16&255]^l>>16)&255,a[4*u+2]=(Vn[i[(u+2)%4]>>8&255]^l>>8)&255,a[4*u+3]=(Vn[i[(u+3)%4]&255]^l)&255;return a}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=Lt(this,Hn,"f").length-1,r=[0,0,0,0];let i=vx(e);for(let u=0;u<4;u++)i[u]^=Lt(this,Hn,"f")[0][u];for(let u=1;u<t;u++){for(let f=0;f<4;f++)r[f]=$C[i[f]>>24&255]^JC[i[(f+3)%4]>>16&255]^YC[i[(f+2)%4]>>8&255]^XC[i[(f+1)%4]&255]^Lt(this,Hn,"f")[u][f];i=r.slice()}const a=new Uint8Array(16);let l=0;for(let u=0;u<4;u++)l=Lt(this,Hn,"f")[t][u],a[4*u]=(Of[i[u]>>24&255]^l>>24)&255,a[4*u+1]=(Of[i[(u+3)%4]>>16&255]^l>>16)&255,a[4*u+2]=(Of[i[(u+2)%4]>>8&255]^l>>8)&255,a[4*u+3]=(Of[i[(u+1)%4]&255]^l)&255;return a}}t0=new WeakMap,Hn=new WeakMap,Rr=new WeakMap;class T6{constructor(e,t,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new kg(t)},name:{enumerable:!0,value:e}})}}var Lf=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},Sa=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},nu,ds;class Cg extends T6{constructor(e,t){if(super("ECC",e,Cg),nu.set(this,void 0),ds.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");Lf(this,nu,new Uint8Array(t),"f")}else Lf(this,nu,new Uint8Array(16),"f");Lf(this,ds,this.iv,"f")}get iv(){return new Uint8Array(Sa(this,nu,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let i=0;i<16;i++)Sa(this,ds,"f")[i]^=e[r+i];Lf(this,ds,this.aes.encrypt(Sa(this,ds,"f")),"f"),t.set(Sa(this,ds,"f"),r)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){const i=this.aes.decrypt(e.subarray(r,r+16));for(let a=0;a<16;a++)t[r+a]=i[a]^Sa(this,ds,"f")[a],Sa(this,ds,"f")[a]=e[r+a]}return t}}nu=new WeakMap,ds=new WeakMap;var ka=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},zn=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},ru,no,Gn;class Kl extends T6{constructor(e,t){super("CTR",e,Kl),ru.set(this,void 0),no.set(this,void 0),Gn.set(this,void 0),ka(this,Gn,new Uint8Array(16),"f"),zn(this,Gn,"f").fill(0),ka(this,ru,zn(this,Gn,"f"),"f"),ka(this,no,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(zn(this,Gn,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)zn(this,Gn,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");zn(this,Gn,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(zn(this,Gn,"f")[e]===255)zn(this,Gn,"f")[e]=0;else{zn(this,Gn,"f")[e]++;break}}encrypt(e){var t,r;const i=new Uint8Array(e);for(let a=0;a<i.length;a++)zn(this,no,"f")===16&&(ka(this,ru,this.aes.encrypt(zn(this,Gn,"f")),"f"),ka(this,no,0,"f"),this.increment()),i[a]^=zn(this,ru,"f")[ka(this,no,(r=zn(this,no,"f"),t=r++,r),"f"),t];return i}decrypt(e){return this.encrypt(e)}}ru=new WeakMap,no=new WeakMap,Gn=new WeakMap;function nT(n){if(n.length<16)throw new TypeError("PKCS#7 invalid length");const e=n[n.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");const t=n.length-e;for(let r=0;r<e;r++)if(n[t+r]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(n.subarray(0,t))}function P6(n){return typeof n=="string"&&!n.startsWith("0x")&&(n="0x"+n),_t(n)}function $c(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function id(n){return typeof n=="string"?an(n,"NFKC"):_t(n)}function mt(n,e){const t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);R(t!=null,"invalid path","path",e);const r=t[1],i=t[3],a=t[4]==="!";let l=n;for(const u of r.toLowerCase().split(".")){if(Array.isArray(l)){if(!u.match(/^[0-9]+$/))break;l=l[parseInt(u)]}else if(typeof l=="object"){let f=null;for(const p in l)if(p.toLowerCase()===u){f=l[p];break}l=f}else l=null;if(l==null)break}if(R(!a||l!=null,"missing required value","path",r),i&&l!=null){if(i==="int"){if(typeof l=="string"&&l.match(/^-?[0-9]+$/))return parseInt(l);if(Number.isSafeInteger(l))return l}if(i==="number"&&typeof l=="string"&&l.match(/^-?[0-9.]*$/))return parseFloat(l);if(i==="data"&&typeof l=="string")return P6(l);if(i==="array"&&Array.isArray(l)||i===typeof l)return l;R(!1,`wrong type found for ${i} `,"path",r)}return l}const I6="m/44'/60'/0'/0/0";function I2(n){try{const e=JSON.parse(n);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function rT(n,e,t){if(mt(n,"crypto.cipher:string")==="aes-128-ctr"){const i=mt(n,"crypto.cipherparams.iv:data!"),a=new Kl(e,i);return ie(a.decrypt(t))}q(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function b0(n,e){const t=de(e),r=mt(n,"crypto.ciphertext:data!"),i=ie(nt(Ke([t.slice(16,32),r]))).substring(2);R(i===mt(n,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const a=rT(n,t.slice(0,16),r),l=td(a);if(n.address){let p=n.address.toLowerCase();p.startsWith("0x")||(p="0x"+p),R(Ue(p)===l,"keystore address/privateKey mismatch","address",n.address)}const u={address:l,privateKey:a};if(mt(n,"x-ethers.version:string")==="0.1"){const p=t.slice(32,64),m=mt(n,"x-ethers.mnemonicCiphertext:data!"),g=mt(n,"x-ethers.mnemonicCounter:data!"),b=new Kl(p,g);u.mnemonic={path:mt(n,"x-ethers.path:string")||I6,locale:mt(n,"x-ethers.locale:string")||"en",entropy:ie(de(b.decrypt(m)))}}return u}function R6(n){const e=mt(n,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const t=mt(n,"crypto.kdfparams.salt:data!"),r=mt(n,"crypto.kdfparams.n:int!"),i=mt(n,"crypto.kdfparams.r:int!"),a=mt(n,"crypto.kdfparams.p:int!");R(r>0&&(r&r-1)===0,"invalid kdf.N","kdf.N",r),R(i>0&&a>0,"invalid kdf","kdf",e);const l=mt(n,"crypto.kdfparams.dklen:int!");return R(l===32,"invalid kdf.dklen","kdf.dflen",l),{name:"scrypt",salt:t,N:r,r:i,p:a,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const t=mt(n,"crypto.kdfparams.salt:data!"),r=mt(n,"crypto.kdfparams.prf:string!"),i=r.split("-").pop();R(i==="sha256"||i==="sha512","invalid kdf.pdf","kdf.pdf",r);const a=mt(n,"crypto.kdfparams.c:int!"),l=mt(n,"crypto.kdfparams.dklen:int!");return R(l===32,"invalid kdf.dklen","kdf.dklen",l),{name:"pbkdf2",salt:t,count:a,dkLen:l,algorithm:i}}}R(!1,"unsupported key-derivation function","kdf",e)}function sT(n,e){const t=JSON.parse(n),r=id(e),i=R6(t);if(i.name==="pbkdf2"){const{salt:g,count:b,dkLen:w,algorithm:E}=i,N=Li(r,g,b,w,E);return b0(t,N)}q(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:a,N:l,r:u,p:f,dkLen:p}=i,m=Xl(r,a,l,u,f,p);return b0(t,m)}function R2(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}async function iT(n,e,t){const r=JSON.parse(n),i=id(e),a=R6(r);if(a.name==="pbkdf2"){t&&(t(0),await R2(0));const{salt:b,count:w,dkLen:E,algorithm:N}=a,S=Li(i,b,w,E,N);return t&&(t(1),await R2(0)),b0(r,S)}q(a.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:a});const{salt:l,N:u,r:f,p,dkLen:m}=a,g=await Yl(i,l,u,f,p,m,t);return b0(r,g)}function j6(n){const e=n.salt!=null?de(n.salt,"options.salt"):Ts(32);let t=1<<17,r=8,i=1;return n.scrypt&&(n.scrypt.N&&(t=n.scrypt.N),n.scrypt.r&&(r=n.scrypt.r),n.scrypt.p&&(i=n.scrypt.p)),R(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),R(typeof r=="number"&&r>0&&Number.isSafeInteger(r),"invalid scrypt r parameter","options.r",r),R(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:e,N:t,r,p:i}}function O6(n,e,t,r){const i=de(t.privateKey,"privateKey"),a=r.iv!=null?de(r.iv,"options.iv"):Ts(16);R(a.length===16,"invalid options.iv length","options.iv",r.iv);const l=r.uuid!=null?de(r.uuid,"options.uuid"):Ts(16);R(l.length===16,"invalid options.uuid length","options.uuid",r.iv);const u=n.slice(0,16),f=n.slice(16,32),p=new Kl(u,a),m=de(p.encrypt(i)),g=nt(Ke([f,m])),b={address:t.address.substring(2).toLowerCase(),id:l7(l),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ie(a).substring(2)},ciphertext:ie(m).substring(2),kdf:"scrypt",kdfparams:{salt:ie(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:g.substring(2)}};if(t.mnemonic){const w=r.client!=null?r.client:`ethers/${f3}`,E=t.mnemonic.path||I6,N=t.mnemonic.locale||"en",S=n.slice(32,64),k=de(t.mnemonic.entropy,"account.mnemonic.entropy"),I=Ts(16),P=new Kl(S,I),V=de(P.encrypt(k)),L=new Date,Q="UTC--"+(L.getUTCFullYear()+"-"+$c(L.getUTCMonth()+1,2)+"-"+$c(L.getUTCDate(),2)+"T"+$c(L.getUTCHours(),2)+"-"+$c(L.getUTCMinutes(),2)+"-"+$c(L.getUTCSeconds(),2)+".0Z")+"--"+b.address;b["x-ethers"]={client:w,gethFilename:Q,path:E,locale:N,mnemonicCounter:ie(I).substring(2),mnemonicCiphertext:ie(V).substring(2),version:"0.1"}}return JSON.stringify(b)}function L6(n,e,t){t==null&&(t={});const r=id(e),i=j6(t),a=Xl(r,i.salt,i.N,i.r,i.p,64);return O6(de(a),i,n,t)}async function B6(n,e,t){t==null&&(t={});const r=id(e),i=j6(t),a=await Yl(r,i.salt,i.N,i.r,i.p,64,t.progressCallback);return O6(de(a),i,n,t)}const Ax="m/44'/60'/0'/0/0",oT=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Ii=2147483648,aT=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),lT="0123456789abcdef";function w0(n,e){let t="";for(;n;)t=lT[n%16]+t,n=Math.trunc(n/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function Sm(n){const e=de(n),t=et(tr(tr(e)),0,4),r=Ke([e,t]);return y3(r)}const Lr={};function D6(n,e,t,r){const i=new Uint8Array(37);n&Ii?(q(r!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(de(r),1)):i.set(de(t));for(let l=24;l>=0;l-=8)i[33+(l>>3)]=n>>24-l&255;const a=de($l("sha512",e,i));return{IL:a.slice(0,32),IR:a.slice(32)}}function M6(n,e){const t=e.split("/");R(t.length>0,"invalid path","path",e),t[0]==="m"&&(R(n.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${n.depth}`,"path",e),t.shift());let r=n;for(let i=0;i<t.length;i++){const a=t[i];if(a.match(/^[0-9]+'$/)){const l=parseInt(a.substring(0,a.length-1));R(l<Ii,"invalid path index",`path[${i}]`,a),r=r.deriveChild(Ii+l)}else if(a.match(/^[0-9]+$/)){const l=parseInt(a);R(l<Ii,"invalid path index",`path[${i}]`,a),r=r.deriveChild(l)}else R(!1,"invalid path component",`path[${i}]`,a)}return r}var Ju,km,Bo,su;const hr=class hr extends g0{constructor(t,r,i,a,l,u,f,p,m){super(r,m);z(this,Ju);M(this,"publicKey");M(this,"fingerprint");M(this,"parentFingerprint");M(this,"mnemonic");M(this,"chainCode");M(this,"path");M(this,"index");M(this,"depth");Yo(t,Lr,"HDNodeWallet"),Ne(this,{publicKey:r.compressedPublicKey});const g=et(Jl(tr(this.publicKey)),0,4);Ne(this,{parentFingerprint:i,fingerprint:g,chainCode:a,path:l,index:u,depth:f}),Ne(this,{mnemonic:p})}connect(t){return new hr(Lr,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,r){return await B6(le(this,Ju,km).call(this),t,{progressCallback:r})}encryptSync(t){return L6(le(this,Ju,km).call(this),t)}get extendedKey(){return q(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Sm(Ke(["0x0488ADE4",w0(this.depth,1),this.parentFingerprint,w0(this.index,4),this.chainCode,Ke(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new Pu(Lr,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){const r=Ie(t,"index");R(r<=4294967295,"invalid index","index",r);let i=this.path;i&&(i+="/"+(r&~Ii),r&Ii&&(i+="'"));const{IR:a,IL:l}=D6(r,this.chainCode,this.publicKey,this.privateKey),u=new Jr(Rs((U0(l)+BigInt(this.privateKey))%aT,32));return new hr(Lr,u,this.fingerprint,ie(a),i,r,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return M6(this,t)}static fromExtendedKey(t){const r=lt(W9(t));R(r.length===82||Sm(r.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");const i=r[4],a=ie(r.slice(5,9)),l=parseInt(ie(r.slice(9,13)).substring(2),16),u=ie(r.slice(13,45)),f=r.slice(45,78);switch(ie(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const p=ie(f);return new Pu(Lr,td(p),p,a,u,null,l,i,null)}case"0x0488ade4":case"0x04358394 ":if(f[0]!==0)break;return new hr(Lr,new Jr(f.slice(1)),a,u,null,l,i,null,null)}R(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,r,i){var l;t==null&&(t=""),r==null&&(r=Ax),i==null&&(i=Wo.wordlist());const a=Gl.fromEntropy(Ts(16),t,i);return le(l=hr,Bo,su).call(l,a.computeSeed(),a).derivePath(r)}static fromMnemonic(t,r){var i;return r||(r=Ax),le(i=hr,Bo,su).call(i,t.computeSeed(),t).derivePath(r)}static fromPhrase(t,r,i,a){var u;r==null&&(r=""),i==null&&(i=Ax),a==null&&(a=Wo.wordlist());const l=Gl.fromPhrase(t,r,a);return le(u=hr,Bo,su).call(u,l.computeSeed(),l).derivePath(i)}static fromSeed(t){var r;return le(r=hr,Bo,su).call(r,t,null)}};Ju=new WeakSet,km=function(){const t={address:this.address,privateKey:this.privateKey},r=this.mnemonic;return this.path&&r&&r.wordlist.locale==="en"&&r.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:r.entropy}),t},Bo=new WeakSet,su=function(t,r){R(M0(t),"invalid seed","seed","[REDACTED]");const i=de(t,"seed");R(i.length>=16&&i.length<=64,"invalid seed","seed","[REDACTED]");const a=de($l("sha512",oT,i)),l=new Jr(ie(a.slice(0,32)));return new hr(Lr,l,"0x00000000",ie(a.slice(32)),"m",0,0,r,null)},z(hr,Bo);let cu=hr;class Pu extends ym{constructor(t,r,i,a,l,u,f,p,m){super(r,m);M(this,"publicKey");M(this,"fingerprint");M(this,"parentFingerprint");M(this,"chainCode");M(this,"path");M(this,"index");M(this,"depth");Yo(t,Lr,"HDNodeVoidWallet"),Ne(this,{publicKey:i});const g=et(Jl(tr(i)),0,4);Ne(this,{publicKey:i,fingerprint:g,parentFingerprint:a,chainCode:l,path:u,index:f,depth:p})}connect(t){return new Pu(Lr,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return q(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Sm(Ke(["0x0488B21E",w0(this.depth,1),this.parentFingerprint,w0(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){const r=Ie(t,"index");R(r<=4294967295,"invalid index","index",r);let i=this.path;i&&(i+="/"+(r&~Ii),r&Ii&&(i+="'"));const{IR:a,IL:l}=D6(r,this.chainCode,this.publicKey,null),u=Jr.addPoints(l,this.publicKey,!0),f=td(u);return new Pu(Lr,f,u,this.fingerprint,ie(a),i,r,this.depth+1,this.provider)}derivePath(t){return M6(this,t)}}function j2(n){try{if(JSON.parse(n).encseed)return!0}catch{}return!1}function O2(n,e){const t=JSON.parse(n),r=id(e),i=Ue(mt(t,"ethaddr:string!")),a=P6(mt(t,"encseed:string!"));R(a&&a.length%16===0,"invalid encseed","json",n);const l=de(Li(r,r,2e3,32,"sha256")).slice(0,16),u=a.slice(0,16),f=a.slice(16),p=new Cg(l,u),m=nT(de(p.decrypt(f)));let g="";for(let b=0;b<m.length;b++)g+=String.fromCharCode(m[b]);return{address:i,privateKey:Os(g)}}function L2(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}var Yu,Cm;const lo=class lo extends g0{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let r=typeof e=="string"?new Jr(e):e;super(r,t)}connect(e){return new lo(this.signingKey,e)}async encrypt(e,t){const r={address:this.address,privateKey:this.privateKey};return await B6(r,e,{progressCallback:t})}encryptSync(e){const t={address:this.address,privateKey:this.privateKey};return L6(t,e)}static async fromEncryptedJson(e,t,r){var a;let i=null;return I2(e)?i=await iT(e,t,r):j2(e)&&(r&&(r(0),await L2(0)),i=O2(e,t),r&&(r(1),await L2(0))),le(a=lo,Yu,Cm).call(a,i)}static fromEncryptedJsonSync(e,t){var i;let r=null;return I2(e)?r=sT(e,t):j2(e)?r=O2(e,t):R(!1,"invalid JSON wallet","json","[ REDACTED ]"),le(i=lo,Yu,Cm).call(i,r)}static createRandom(e){const t=cu.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const r=cu.fromPhrase(e);return t?r.connect(t):r}};Yu=new WeakSet,Cm=function(e){if(R(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const r=Gl.fromEntropy(e.mnemonic.entropy),i=cu.fromMnemonic(r,e.mnemonic.path);if(i.address===e.address&&i.privateKey===e.privateKey)return i;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new lo(e.privateKey);return R(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t},z(lo,Yu);let Qo=lo;const B2=64;function cT(n){const e=n.trim();if(!e)return{valid:!1,error:"Enter a private key"};const t=e.startsWith("0x")?e.slice(2):e;if(t.length!==B2)return{valid:!1,error:`Private key must be ${B2} hex characters (32 bytes)`};if(!/^[0-9a-fA-F]+$/.test(t))return{valid:!1,error:"Private key must be hexadecimal"};try{return new Qo(e),{valid:!0}}catch{return{valid:!1,error:"Invalid private key"}}}function Tg(n){const e=n.trim();if(!e)return null;try{return new Qo(e).address}catch{return null}}function F6(n){const e=n.startsWith("0x")?n.slice(2):n;return e.length<9?n:"0x"+e.slice(0,4)+"..."+e.slice(-4)}const Pg={};let U6=!1;function Z0(){var e,t,r,i;if(typeof globalThis>"u")return!1;const n=globalThis;return!!((t=(e=n.chrome)==null?void 0:e.runtime)!=null&&t.id&&((i=(r=n.chrome)==null?void 0:r.storage)!=null&&i.local))}function uT(){if(!Z0())return Promise.resolve();const n=globalThis;return new Promise(e=>{n.chrome.storage.local.get(null,t=>{const r=t;if(r&&typeof r=="object")for(const i of Object.keys(r))typeof r[i]=="string"&&(Pg[i]=r[i]);U6=!0,e()})})}function dT(){if(!(typeof globalThis>"u"))return globalThis.chrome}function od(n){if(Z0())return U6?Pg[n]??null:null;try{return sessionStorage.getItem(n)}catch{return null}}function q0(n,e){var t;if(Z0()){Pg[n]=e;const r=dT();(t=r==null?void 0:r.storage)!=null&&t.local&&r.storage.local.set({[n]:e});return}try{sessionStorage.setItem(n,e)}catch{}}const _6="aegis_wallet_session",fT=25e4,iu=16,Tm=12,hT=256;function pT(){const n=crypto.getRandomValues(new Uint8Array(32));return"0x"+Array.from(n).map(e=>e.toString(16).padStart(2,"0")).join("")}function V6(n){const e=n instanceof Uint8Array?n:new Uint8Array(n);return btoa(String.fromCharCode(...e))}function xT(n){const e=atob(n),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t.buffer}async function z6(n,e){const t=e instanceof ArrayBuffer?e:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),r=new TextEncoder,i=await crypto.subtle.importKey("raw",r.encode(n),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:fT,hash:"SHA-256"},i,{name:"AES-GCM",length:hT},!1,["encrypt","decrypt"])}async function mT(n,e){const t=crypto.getRandomValues(new Uint8Array(iu)),r=crypto.getRandomValues(new Uint8Array(Tm)),i=await z6(e,t),a=new TextEncoder,l=await crypto.subtle.encrypt({name:"AES-GCM",iv:r,tagLength:128},i,a.encode(n)),u=new Uint8Array(t.length+r.length+l.byteLength);return u.set(t,0),u.set(r,t.length),u.set(new Uint8Array(l),t.length+r.length),V6(u)}async function Ig(n,e){const t=xT(n),r=t.slice(0,iu),i=t.slice(iu,iu+Tm),a=t.slice(iu+Tm),l=await z6(e,r),u=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(i),tagLength:128},l,new Uint8Array(a));return new TextDecoder().decode(u)}async function H6(n){const e=new TextEncoder,t=await crypto.subtle.digest("SHA-256",e.encode(n));return V6(t)}function gT(n){q0(_6,JSON.stringify(n))}function Rn(){const n=od(_6);if(!n)return null;try{const e=JSON.parse(n);if(e!=null&&e.encryptedPk)return e}catch{if(n&&!n.startsWith("{"))return{encryptedPk:n,passwordHash:""}}return null}async function yT(n){const e=Rn();return e!=null&&e.passwordHash?await H6(n)===e.passwordHash:!1}async function bT(n,e){const t=await mT(n,e),r=await H6(e),i=Tg(n)??void 0;gT({encryptedPk:t,passwordHash:r,address:i})}function wT({onOpenSettings:n,onOpenNotifications:e,hasUnreadNotifications:t}){const r=Rn(),i=r!=null&&r.address?F6(r.address):"Account 1";return h.jsx("div",{className:"border-b border-stone-200",children:h.jsxs("div",{className:"flex items-center justify-between px-6 py-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{className:"flex items-center justify-center w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full shadow-sm",children:h.jsx(M9,{className:"w-4 h-4 text-white"})}),h.jsx("div",{className:"font-semibold text-sm text-stone-800 font-mono",children:i})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:e,className:"relative flex items-center justify-center w-8 h-8 bg-stone-100 rounded-full hover:bg-stone-200 transition-colors",children:[h.jsx(n9,{className:"w-4 h-4 text-stone-600"}),t&&h.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full border border-white"})]}),h.jsx("button",{onClick:n,className:"flex items-center justify-center w-8 h-8 bg-stone-100 rounded-full hover:bg-stone-200 transition-colors",children:h.jsx(L9,{className:"w-4 h-4 text-stone-600"})})]})]})})}const vT="/webapp/assets/aegis_logo_gray-vY7bof6k.png",Rg="/webapp/assets/aegis_logo_orange-C8GqYnj2.png";function AT({activeTab:n,setActiveTab:e}){const t=[{id:"home",label:"Home",icon:A9},{id:"aegis",label:"Aegis"},{id:"activity",label:"Activity",icon:d9}];return h.jsx("div",{className:"border-t border-stone-200 bg-white",children:h.jsx("div",{className:"grid grid-cols-3",children:t.map(r=>{const i=n===r.id;return h.jsxs("button",{onClick:()=>e(r.id),className:`flex flex-col items-center justify-center py-4 border-r border-stone-200 last:border-r-0 transition-colors ${i?"bg-orange-50":"hover:bg-stone-50"}`,children:[r.id==="aegis"?h.jsx("img",{src:i?Rg:vT,alt:"Aegis",className:"h-5 mb-1"}):(()=>{const a=r.icon;return h.jsx(a,{className:`w-5 h-5 mb-1 ${i?"text-orange-500":"text-stone-500"}`})})(),h.jsx("span",{className:`text-xs font-semibold ${i?"text-orange-500":"text-stone-600"}`,children:r.label})]},r.id)})})})}const Ft=[{name:"Ethereum Sepolia",rpcUrl:"https://1rpc.io/sepolia",chainId:"11155111",symbol:"ETH",blockExplorer:"https://sepolia.etherscan.io"}],NT=[{symbol:"AGT",address:"0x4175046d14cf65BFFcF51ec6A470e4A8FbA1a402"}],G6={11155111:NT},K6="aegis_networks";async function ET(n){const e=n.trim();if(!e)return null;try{const r=await(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_chainId",params:[],id:1})})).json(),i=r==null?void 0:r.result;if(typeof i!="string")return null;const a=parseInt(i,16);return Number.isNaN(a)?null:String(a)}catch{return null}}function jg(){const n=od(K6);if(!n)return[];try{const e=JSON.parse(n);return Array.isArray(e)?e:[]}catch{return[]}}function ST(n){const e=jg();e.some(r=>r.chainId===n.chainId||r.name===n.name&&r.rpcUrl===n.rpcUrl)||(e.push(n),q0(K6,JSON.stringify(e)))}async function $o(n,e){if(!n.trim()||e.length===0)return[];const r=await(await fetch(n.trim(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();return Array.isArray(r)?r:[]}function Nx(n){if(!n||typeof n!="string"||!n.startsWith("0x"))return null;try{return BigInt(n)}catch{return null}}function D2(n){if(!n||typeof n!="string"||!n.startsWith("0x"))return null;const e=n.slice(2);if(e.length<128)return null;try{const t=parseInt(e.slice(0,64),16),r=parseInt(e.slice(t*2,t*2+64),16),i=e.slice(t*2+64,t*2+64+r*2);if(i.length!==r*2)return null;const a=new Uint8Array(r);for(let l=0;l<r;l++)a[l]=parseInt(i.slice(l*2,l*2+2),16);return new TextDecoder().decode(a)}catch{return null}}const W6="aegis_selected_network",Pm="aegis_saved_tokens",kT="0x95d89b41",CT="0x06fdde03",TT="0x313ce567",PT="0x70a08231",IT=18;function RT(n){return(n.startsWith("0x")?n.slice(2).toLowerCase():n.toLowerCase()).padStart(64,"0")}function M2(n,e){const t=10**e,r=n/BigInt(t),a=(n%BigInt(t)).toString().padStart(e,"0").slice(0,e).replace(/0+$/,""),l=a?`${r}.${a}`:`${r}`,u=Number(l);return u>=1e9?u.toExponential(2):u>=1?u.toLocaleString(void 0,{maximumFractionDigits:6}):l}function Yt(){const n=od(W6);if(!n)return null;try{const e=JSON.parse(n);if(e!=null&&e.chainId&&(e!=null&&e.rpcUrl))return e}catch{}return null}function Og(n){q0(W6,JSON.stringify(n))}function Q6(n){const e=od(Pm);if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t[n])?t[n]:[]}catch{return[]}}function jT(n,e){var a;const t=od(Pm),r=t?JSON.parse(t):{};Array.isArray(r[n])||(r[n]=[]),!r[n].some(l=>l.address.toLowerCase()===e.address.trim().toLowerCase())&&(r[n].push({name:((a=e.name)==null?void 0:a.trim())||void 0,symbol:e.symbol.trim(),address:e.address.trim()}),q0(Pm,JSON.stringify(r)))}async function $6(n,e,t){var u,f,p,m,g,b;const r=n.trim(),i=e.trim(),a=t.trim();if(!a)return{symbol:null,name:null,accountCode:null};if(!r&&!i)return{symbol:null,name:null,accountCode:null};const l=[];if(r&&l.push({jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:r,data:kT},"latest"]},{jsonrpc:"2.0",id:2,method:"eth_call",params:[{to:r,data:CT},"latest"]}),i&&l.push({jsonrpc:"2.0",id:3,method:"eth_getCode",params:[i,"latest"]}),l.length===0)return{symbol:null,name:null,accountCode:null};try{const w=await $o(a,l);let E=null,N=null,S=null,k=0;if(r){const I=((u=w[k])==null?void 0:u.error)==null&&typeof((f=w[k])==null?void 0:f.result)=="string"?w[k].result:null,P=((p=w[k+1])==null?void 0:p.error)==null&&typeof((m=w[k+1])==null?void 0:m.result)=="string"?w[k+1].result:null;E=I?D2(I):null,N=P?D2(P):null,k+=2}return i&&(S=((g=w[k])==null?void 0:g.error)==null&&typeof((b=w[k])==null?void 0:b.result)=="string"?w[k].result??null:null),{symbol:E,name:N,accountCode:S}}catch{return{symbol:null,name:null,accountCode:null}}}const OT="0xef0100";async function LT(n,e){const{accountCode:t}=await $6("",n,e);return t}function BT(n){return"0x"+(n.startsWith("0x")?n.slice(2).toLowerCase():n.toLowerCase()).padStart(40,"0").slice(-40)}function DT(n,e){if(!n||typeof n!="string"||!n.startsWith("0x"))return!1;const t=BT(e).slice(2),r=OT+t;return n.toLowerCase()===r.toLowerCase()}async function MT(n,e,t){const r=await LT(n,e);return DT(r,t)}async function FT(n,e,t){var l,u;const r=n.trim(),i=e.trim();if(!r||!i)return{ethBalance:"0",tokenBalances:[]};const a=[{jsonrpc:"2.0",id:0,method:"eth_getBalance",params:[i,"latest"]}];t.forEach((f,p)=>{const m=f.address.trim();a.push({jsonrpc:"2.0",id:1+p*2,method:"eth_call",params:[{to:m,data:TT},"latest"]},{jsonrpc:"2.0",id:2+p*2,method:"eth_call",params:[{to:m,data:PT+RT(i)},"latest"]})});try{const f=await $o(r,a),p=((l=f[0])==null?void 0:l.error)==null&&typeof((u=f[0])==null?void 0:u.result)=="string"?f[0].result:"0x0",m=Nx(p)??0n,g=M2(m,IT),b=[];for(let w=0;w<t.length;w++){const E=f[1+w*2],N=f[2+w*2],S=(E==null?void 0:E.error)==null&&typeof(E==null?void 0:E.result)=="string"?E.result:"0x0",k=(N==null?void 0:N.error)==null&&typeof(N==null?void 0:N.result)=="string"?N.result:"0x0",I=Number(Nx(S)??0n),P=Nx(k)??0n;b.push({address:t[w].address,symbol:t[w].symbol,decimals:Number.isNaN(I)?0:Math.min(I,255),balance:M2(P,Number.isNaN(I)?0:Math.min(I,255))})}return{ethBalance:g,tokenBalances:b}}catch{return{ethBalance:"0",tokenBalances:t.map(f=>({...f,decimals:0,balance:"0"}))}}}function UT({onBack:n}){const[e,t]=D.useState("");return h.jsxs("div",{className:"fixed inset-0 bg-stone-50 z-50 flex flex-col",children:[h.jsxs("div",{className:"border-b border-stone-200 px-6 py-4 flex items-center gap-3",children:[h.jsx("button",{onClick:n,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-stone-200 transition-colors",children:h.jsx(B0,{className:"w-5 h-5 text-stone-600 rotate-180"})}),h.jsx("h1",{className:"text-lg font-semibold text-stone-900",children:"API Key Management"})]}),h.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"OpenAI API Key"}),h.jsx("input",{type:"password",value:e,onChange:r=>t(r.target.value),placeholder:"sk-...",className:"w-full bg-white rounded-lg px-4 py-3 text-sm text-stone-800 outline-none border border-stone-200"}),h.jsx("p",{className:"text-xs text-stone-500 mt-2",children:"Your API key is stored securely and only used for AI agent features."})]}),h.jsx("button",{className:"w-full bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 transition-colors",children:"Save API Key"})]})})]})}function _T({onBack:n}){const[e,t]=D.useState(""),[r,i]=D.useState(""),[a,l]=D.useState(""),[u,f]=D.useState(""),[p,m]=D.useState(""),[g,b]=D.useState(""),[w,E]=D.useState(null),[N,S]=D.useState(!1),k=async()=>{const L=r.trim();if(L){S(!0),E(null);try{const F=await ET(L);E(F),F&&l(F)}finally{S(!1)}}},I=w!=null&&a.trim()!==""&&String(a.trim())===String(w),P=w!=null&&a.trim()!==""&&String(a.trim())!==String(w),V=()=>{b("");const L=e.trim(),F=r.trim(),Q=a.trim();if(!L||!F||!Q){b("Network name, RPC URL and Chain ID are required");return}if(w!=null&&String(Q)!==String(w)){b("Chain ID must match the value from RPC. Fetch again or fix the Chain ID.");return}ST({name:L,rpcUrl:F,chainId:w??Q,symbol:u.trim()||"ETH",blockExplorer:p.trim()||void 0}),n()};return h.jsxs("div",{className:"fixed inset-0 bg-stone-50 z-50 flex flex-col",children:[h.jsxs("div",{className:"border-b border-stone-200 px-6 py-4 flex items-center gap-3",children:[h.jsx("button",{type:"button",onClick:n,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-stone-200 transition-colors",children:h.jsx(B0,{className:"w-5 h-5 text-stone-600 rotate-180"})}),h.jsx("h1",{className:"text-lg font-semibold text-stone-900",children:"Add Network"})]}),h.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[g&&h.jsx("p",{className:"text-sm text-red-600",children:g}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Network Name"}),h.jsx("input",{type:"text",value:e,onChange:L=>t(L.target.value),className:"w-full bg-white rounded-lg px-4 py-3 text-sm text-stone-800 outline-none border border-stone-200"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"RPC URL"}),h.jsx("input",{type:"text",value:r,onChange:L=>i(L.target.value),placeholder:"https://...",className:"w-full bg-white rounded-lg px-4 py-3 text-sm text-stone-800 outline-none border border-stone-200"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Chain ID"}),h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("input",{type:"text",value:a,onChange:L=>l(L.target.value),placeholder:"Fetched from RPC or enter manually",className:"flex-1 bg-white rounded-lg px-4 py-3 text-sm text-stone-800 outline-none border border-stone-200"}),h.jsx("button",{type:"button",onClick:k,disabled:!r.trim()||N,className:"shrink-0 px-4 py-3 rounded-lg bg-stone-200 text-stone-700 text-sm font-medium hover:bg-stone-300 disabled:opacity-50",children:N?"...":"Fetch"}),I&&h.jsx("span",{className:"shrink-0 text-green-600",title:"Chain ID matches RPC",children:h.jsx(Xu,{className:"w-5 h-5"})}),P&&h.jsx("span",{className:"shrink-0 text-amber-600",title:"Chain ID differs from RPC",children:h.jsx(_f,{className:"w-5 h-5"})})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:["Symbol ",h.jsx("span",{className:"text-stone-400 font-normal",children:"(optional)"})]}),h.jsx("input",{type:"text",value:u,onChange:L=>f(L.target.value),placeholder:"ETH",className:"w-full bg-white rounded-lg px-4 py-3 text-sm text-stone-800 outline-none border border-stone-200"}),h.jsx("p",{className:"text-xs text-stone-500 mt-1",children:"Leave empty to use ETH"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:["Block Explorer ",h.jsx("span",{className:"text-stone-400 font-normal",children:"(optional)"})]}),h.jsx("input",{type:"text",value:p,onChange:L=>m(L.target.value),placeholder:"https://sepolia.etherscan.io",className:"w-full bg-white rounded-lg px-4 py-3 text-sm text-stone-800 outline-none border border-stone-200"})]}),h.jsx("button",{type:"button",onClick:V,disabled:!!(w!=null&&P),className:"w-full bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Network"})]})})]})}function VT({onClose:n}){const e=Rn(),t=e!=null&&e.address?F6(e.address):"",[r,i]=D.useState(!0),[a,l]=D.useState(!1),[u,f]=D.useState(!1),[p,m]=D.useState(!1),[g,b]=D.useState(!1),w=jg(),E=async()=>{if(e!=null&&e.address)try{await navigator.clipboard.writeText(e.address),b(!0),setTimeout(()=>b(!1),2e3)}catch{}},N=[...Ft,...w],[S,k]=D.useState(()=>{var I,P;return((I=Yt())==null?void 0:I.name)??((P=Ft[0])==null?void 0:P.name)??""});return u?h.jsx(UT,{onBack:()=>f(!1)}):p?h.jsx(_T,{onBack:()=>m(!1)}):h.jsxs("div",{className:"fixed inset-0 bg-stone-50 z-50 flex flex-col",children:[h.jsxs("div",{className:"border-b border-stone-200 px-6 py-4 flex items-center justify-between",children:[h.jsx("h1",{className:"text-lg font-semibold text-stone-900",children:"Settings"}),h.jsx("button",{onClick:n,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-stone-200 transition-colors",children:h.jsx(Vo,{className:"w-5 h-5 text-stone-600"})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"mt-6",children:[h.jsx("h2",{className:"px-6 text-xs font-semibold text-stone-500 uppercase mb-2",children:"Account"}),h.jsx("div",{className:"bg-white border-y border-stone-200",children:h.jsxs("div",{className:"px-6 py-4 flex items-start justify-between gap-3",children:[h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-stone-900 mb-1",children:"My Wallet"}),h.jsx("p",{className:"text-xs text-stone-500 font-mono break-all",children:t})]}),(e==null?void 0:e.address)&&h.jsx("button",{type:"button",onClick:E,className:"shrink-0 p-2 rounded-lg hover:bg-stone-100 transition-colors text-stone-500 hover:text-stone-700",title:"Copy address","aria-label":"Copy address",children:g?h.jsx(Xu,{className:"w-4 h-4 text-green-600"}):h.jsx(D0,{className:"w-4 h-4"})})]})})]}),h.jsxs("div",{className:"mt-8",children:[h.jsx("h2",{className:"px-6 text-xs font-semibold text-stone-500 uppercase mb-2",children:"Agent"}),h.jsxs("div",{className:"bg-white border-y border-stone-200 divide-y divide-stone-200",children:[h.jsxs("div",{className:"px-6 py-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Freeze Usage"}),h.jsx("button",{onClick:()=>i(!r),className:`w-12 h-7 rounded-full transition-colors relative ${r?"bg-orange-500":"bg-stone-300"}`,children:h.jsx("div",{className:`absolute top-0.5 w-6 h-6 bg-white rounded-full shadow-sm transition-transform ${r?"right-0.5":"left-0.5"}`})})]}),h.jsx("p",{className:"text-xs text-stone-500",children:"Temporarily lock the account to stop all activity when a risk is detected."})]}),h.jsxs("div",{className:"px-6 py-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Advanced Mode"}),h.jsx("button",{onClick:()=>l(!a),className:`w-12 h-7 rounded-full transition-colors relative ${a?"bg-orange-500":"bg-stone-300"}`,children:h.jsx("div",{className:`absolute top-0.5 w-6 h-6 bg-white rounded-full shadow-sm transition-transform ${a?"right-0.5":"left-0.5"}`})})]}),h.jsx("p",{className:"text-xs text-stone-500",children:"Enable advanced security analysis and deeper AI reasoning."})]})]})]}),h.jsxs("div",{className:"mt-8",children:[h.jsx("h2",{className:"px-6 text-xs font-semibold text-stone-500 uppercase mb-2",children:"Network"}),h.jsxs("div",{className:"bg-white border-y border-stone-200 divide-y divide-stone-200",children:[N.map(I=>h.jsxs("button",{type:"button",onClick:()=>{Og(I),k(I.name)},className:"w-full px-6 py-4 flex items-center justify-between hover:bg-stone-50 transition-colors",children:[h.jsx("p",{className:"text-sm font-medium text-stone-900",children:I.name}),S===I.name&&h.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})]},`${I.chainId}-${I.name}`)),h.jsxs("button",{onClick:()=>m(!0),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-stone-50 transition-colors",children:[h.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Add Network"}),h.jsx(B0,{className:"w-5 h-5 text-orange-400"})]})]})]})]})})]})}function zT({notifications:n,onClose:e,onMarkAsRead:t}){const[r,i]=D.useState(null),a=u=>{i(u),u.isRead||t(u.id)},l=()=>{i(null)};return r?h.jsxs("div",{className:"fixed inset-0 bg-stone-50 z-50 flex flex-col",children:[h.jsxs("div",{className:"border-b border-stone-200 px-6 py-4 flex items-center gap-3",children:[h.jsx("button",{onClick:l,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-stone-200 transition-colors",children:h.jsx(u3,{className:"w-5 h-5 text-stone-600"})}),h.jsx("h1",{className:"text-lg font-semibold text-stone-900 flex-1",children:"Notification"}),h.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-stone-200 transition-colors",children:h.jsx(Vo,{className:"w-5 h-5 text-stone-600"})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-6",children:[h.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg mb-4 ${r.severity==="critical"?"bg-red-50 border border-red-200":"bg-amber-50 border border-amber-200"}`,children:[r.severity==="critical"?h.jsx(_f,{className:"w-4 h-4 text-red-600"}):h.jsx(_o,{className:"w-4 h-4 text-amber-600"}),h.jsx("span",{className:`text-xs font-semibold ${r.severity==="critical"?"text-red-900":"text-amber-900"}`,children:r.severity==="critical"?"Critical Alert":"Warning"})]}),h.jsx("h2",{className:"text-xl font-semibold text-stone-900 mb-2",children:r.title}),h.jsx("p",{className:"text-xs text-stone-500 mb-6",children:F2(r.timestamp)}),h.jsx("div",{className:"bg-white rounded-xl border border-stone-200 p-5",children:h.jsx("div",{className:"prose prose-sm max-w-none",children:r.fullMessage.split(`
`).map((u,f)=>h.jsx("p",{className:"text-sm text-stone-700 leading-relaxed mb-3 last:mb-0",children:u},f))})})]})})]}):h.jsxs("div",{className:"fixed inset-0 bg-stone-50 z-50 flex flex-col",children:[h.jsxs("div",{className:"border-b border-stone-200 px-6 py-4 flex items-center justify-between",children:[h.jsx("h1",{className:"text-lg font-semibold text-stone-900",children:"Notifications"}),h.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-stone-200 transition-colors",children:h.jsx(Vo,{className:"w-5 h-5 text-stone-600"})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsx("div",{className:"max-w-2xl mx-auto",children:n.length===0?h.jsxs("div",{className:"px-6 py-12 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-stone-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(_f,{className:"w-8 h-8 text-stone-400"})}),h.jsx("p",{className:"text-sm font-medium text-stone-900 mb-1",children:"No notifications"}),h.jsx("p",{className:"text-xs text-stone-500",children:"You're all caught up!"})]}):h.jsx("div",{className:"mt-4",children:h.jsx("div",{className:"bg-white border-y border-stone-200 divide-y divide-stone-200",children:n.map(u=>h.jsxs("button",{onClick:()=>a(u),className:"w-full px-6 py-4 flex items-start gap-3 hover:bg-stone-50 transition-colors text-left",children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${u.severity==="critical"?"bg-red-50 border border-red-200":"bg-amber-50 border border-amber-200"}`,children:u.severity==="critical"?h.jsx(_f,{className:"w-4 h-4 text-red-600"}):h.jsx(_o,{className:"w-4 h-4 text-amber-600"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-semibold text-stone-900 mb-1 line-clamp-1",children:u.title}),h.jsx("p",{className:"text-xs text-stone-600 line-clamp-2 mb-1",children:u.preview}),h.jsx("p",{className:"text-xs text-stone-500",children:F2(u.timestamp)})]}),!u.isRead&&h.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full flex-shrink-0 mt-2"})]},u.id))})})})})]})}function F2(n){const t=Math.floor((new Date().getTime()-n.getTime())/1e3);if(t<60)return"Just now";if(t<3600){const r=Math.floor(t/60);return`${r} minute${r>1?"s":""} ago`}else if(t<86400){const r=Math.floor(t/3600);return`${r} hour${r>1?"s":""} ago`}else if(t<604800){const r=Math.floor(t/86400);return`${r} day${r>1?"s":""} ago`}else return n.toLocaleDateString()}function HT({onContinue:n}){return h.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gradient-to-br from-orange-500 to-orange-600 px-8",children:[h.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mb-6 shadow-lg",children:h.jsx("img",{src:Rg,alt:"logo",className:"h-12"})}),h.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Aegis Safeguard"}),h.jsx("p",{className:"text-white/90 mb-12 text-center",children:"EIP-7702 Security for Web3"}),h.jsx("button",{onClick:n,className:"bg-white text-orange-600 px-8 py-4 rounded-2xl font-semibold hover:bg-stone-50 transition-colors shadow-lg",children:"Get Started"})]})}const ql="/webapp/assets/aegis_logo_white-dK1OYxZa.png";function GT({onCreate:n,onImport:e}){return h.jsx("div",{className:"flex flex-col h-screen bg-stone-50 px-8 py-12",children:h.jsxs("div",{className:"flex-1 flex flex-col justify-center max-w-md mx-auto w-full",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center mb-6 mx-auto shadow-md",children:h.jsx("img",{src:ql,alt:"logo",className:"h-8"})}),h.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-2 text-center",children:"Wallet Setup"}),h.jsx("p",{className:"text-sm text-stone-600 mb-8 text-center",children:"Choose how to set up your wallet"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("button",{onClick:n,className:"w-full bg-orange-500 text-white py-4 rounded-2xl font-semibold hover:bg-orange-600 transition-colors shadow-sm",children:"Create New Wallet"}),h.jsx("button",{onClick:e,className:"w-full bg-white border border-stone-300 text-stone-800 py-4 rounded-2xl font-semibold hover:bg-stone-50 transition-colors shadow-sm",children:"Import Existing Wallet"})]}),h.jsx("p",{className:"text-xs text-stone-500 mt-6 text-center",children:"Your wallet will be secured with EIP-7702 protection"})]})})}function KT(n){const e=n.startsWith("0x")?n.slice(2):n;return e.length<=8?"0x****":"0x"+e.slice(0,4)+"****...****"+e.slice(-4)}function WT({onComplete:n,onBack:e}){const t=D.useMemo(()=>pT(),[]),[r,i]=D.useState(!1),[a,l]=D.useState(!1),u=Tg(t),f=async()=>{try{await navigator.clipboard.writeText(t),l(!0),setTimeout(()=>l(!1),2e3)}catch{l(!1)}};return h.jsxs("div",{className:"flex flex-col h-screen bg-stone-50 px-8 py-12",children:[h.jsxs("button",{type:"button",onClick:e,className:"flex items-center gap-2 text-stone-600 hover:text-stone-900 mb-4 -mt-2 self-start",children:[h.jsx(eg,{className:"w-5 h-5"}),h.jsx("span",{className:"text-sm font-medium",children:"Back"})]}),h.jsxs("div",{className:"flex-1 flex flex-col justify-center max-w-md mx-auto w-full",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center mb-6 mx-auto shadow-md",children:h.jsx("img",{src:ql,alt:"logo",className:"h-8"})}),h.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-2 text-center",children:"Create New Wallet"}),h.jsx("p",{className:"text-sm text-stone-600 mb-8 text-center",children:"A new wallet will be generated for you"}),h.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6 border border-stone-200",children:[h.jsx("p",{className:"text-sm text-stone-700 mb-4",children:"Your wallet is being created with secure encryption. Set a password in the next step to protect it."}),u&&h.jsxs("div",{className:"bg-stone-50 rounded-lg p-4 mb-4",children:[h.jsx("p",{className:"text-xs font-medium text-stone-500 mb-1",children:"Wallet Address"}),h.jsx("p",{className:"text-xs text-stone-700 font-mono break-all",children:u})]}),h.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[h.jsx("p",{className:"text-xs font-medium text-stone-500",children:"Private Key"}),r&&h.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-1.5 text-xs font-medium text-orange-600 hover:text-orange-700",children:[h.jsx(D0,{className:"w-3.5 h-3.5"}),a?"Copied":"Copy"]})]}),h.jsxs("button",{type:"button",onClick:()=>i(p=>!p),className:"w-full flex items-start justify-between gap-2 text-left font-mono text-xs text-stone-700 hover:bg-stone-100 rounded p-2 -m-2 transition-colors",children:[h.jsx("span",{className:`min-w-0 ${r?"break-all whitespace-pre-wrap":"truncate"}`,children:r?t:KT(t)}),h.jsx("span",{className:"flex-shrink-0 text-stone-500 mt-0.5","aria-hidden":!0,children:r?h.jsx(p9,{className:"w-4 h-4"}):h.jsx(m9,{className:"w-4 h-4"})})]}),h.jsx("p",{className:"text-xs text-stone-500 mt-2",children:r?"Click to hide":"Click to reveal"})]})]}),h.jsx("button",{onClick:()=>n(t),className:"w-full bg-orange-500 text-white py-4 rounded-2xl font-semibold hover:bg-orange-600 transition-colors shadow-sm",children:"Continue"})]})]})}function QT({onComplete:n,onBack:e}){const[t,r]=D.useState(""),i=D.useMemo(()=>cT(t),[t]),a=D.useMemo(()=>i.valid?Tg(t.trim()):null,[t,i.valid]),l=()=>{const u=t.trim();u&&i.valid&&n(u)};return h.jsxs("div",{className:"flex flex-col h-screen bg-stone-50 px-8 py-12",children:[h.jsxs("button",{type:"button",onClick:e,className:"flex items-center gap-2 text-stone-600 hover:text-stone-900 mb-4 -mt-2 self-start",children:[h.jsx(eg,{className:"w-5 h-5"}),h.jsx("span",{className:"text-sm font-medium",children:"Back"})]}),h.jsxs("div",{className:"flex-1 flex flex-col justify-center max-w-md mx-auto w-full",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center mb-6 mx-auto shadow-md",children:h.jsx("img",{src:ql,alt:"logo",className:"h-8"})}),h.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-2 text-center",children:"Import Existing Wallet"}),h.jsx("p",{className:"text-sm text-stone-600 mb-8 text-center",children:"Enter your private key to import your wallet"}),h.jsx("div",{className:"mb-6 pb-6 border-b border-stone-200",children:h.jsxs("p",{className:"text-sm text-stone-700 text-center leading-relaxed",children:["Never share your private key.",h.jsx("br",{}),"Anyone with access to it can fully control your assets."]})}),a&&h.jsxs("div",{className:"mb-4 p-3 bg-stone-100 rounded-lg",children:[h.jsx("p",{className:"text-xs font-medium text-stone-500 mb-1",children:"Wallet Address"}),h.jsx("p",{className:"text-sm font-mono text-stone-800 break-all",children:a})]}),t.trim()&&!i.valid&&i.error&&h.jsx("p",{className:"text-sm text-red-600 mb-4",children:i.error}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Private Key"}),h.jsx("textarea",{value:t,onChange:u=>r(u.target.value),rows:4,className:`w-full bg-white rounded-lg px-4 py-3 text-sm text-stone-800 outline-none border resize-none font-mono ${t.trim()&&!i.valid?"border-red-400 focus:border-red-500":"border-stone-200"}`})]}),h.jsx("button",{onClick:l,disabled:!t.trim()||!i.valid,className:"w-full bg-orange-500 text-white py-4 rounded-2xl font-semibold hover:bg-orange-600 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Import Wallet"}),h.jsx("p",{className:"text-xs text-stone-500 mt-6 text-center",children:"Your private key is stored securely and never shared"})]})]})}function $T({onComplete:n,onBack:e,isImportFlow:t}){const[r,i]=D.useState(""),[a,l]=D.useState(""),[u,f]=D.useState(""),p=()=>{if(f(""),r.length<6){f("Password must be at least 6 characters");return}if(r!==a){f("Passwords do not match");return}n(r)};return h.jsxs("div",{className:"flex flex-col h-screen bg-stone-50 px-8 py-12",children:[h.jsxs("button",{type:"button",onClick:e,className:"flex items-center gap-2 text-stone-600 hover:text-stone-900 mb-4 -mt-2 self-start",children:[h.jsx(eg,{className:"w-5 h-5"}),h.jsx("span",{className:"text-sm font-medium",children:"Back"})]}),h.jsxs("div",{className:"flex-1 flex flex-col justify-center max-w-md mx-auto w-full",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center mb-6 mx-auto shadow-md",children:h.jsx("img",{src:ql,alt:"logo",className:"h-8"})}),h.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-2 text-center",children:"Set Your Password"}),h.jsx("div",{className:"mb-8",children:h.jsx("p",{className:"text-sm text-stone-600 text-center leading-relaxed",children:t?"Set a password to protect your imported wallet on this device. You will use this to log in to Aegis.":"This password protects access to your wallet on this device. It is required every time you log in to Aegis."})}),u&&h.jsx("p",{className:"text-sm text-red-600 mb-4 text-center",children:u}),h.jsxs("div",{className:"space-y-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Password"}),h.jsx("input",{type:"password",value:r,onChange:m=>i(m.target.value),className:"w-full bg-white rounded-lg px-4 py-3 text-sm text-stone-800 outline-none border border-stone-200"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Confirm Password"}),h.jsx("input",{type:"password",value:a,onChange:m=>l(m.target.value),className:"w-full bg-white rounded-lg px-4 py-3 text-sm text-stone-800 outline-none border border-stone-200"})]})]}),h.jsx("button",{onClick:p,className:"w-full bg-orange-500 text-white py-4 rounded-2xl font-semibold hover:bg-orange-600 transition-colors shadow-sm",children:"Confirm Password"})]})]})}function JT({onContinue:n}){return h.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gradient-to-br from-orange-500 to-orange-600 px-8",children:[h.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mb-6 shadow-lg",children:h.jsx("img",{src:Rg,alt:"logo",className:"h-12"})}),h.jsx("h1",{className:"text-3xl font-bold text-white mb-4 text-center",children:"Your wallet is now protected"}),h.jsx("p",{className:"text-white/90 mb-12 text-center max-w-md",children:"Aegis is now actively safeguarding your account."}),h.jsx("button",{onClick:n,className:"bg-white text-orange-600 px-8 py-4 rounded-2xl font-semibold hover:bg-stone-50 transition-colors shadow-lg",children:"Proceed to Login"})]})}let J6=null;function YT(n){J6=n}function Lg(){return J6}function XT({onLogin:n}){const[e,t]=D.useState(""),[r,i]=D.useState(""),a=async()=>{i(""),await yT(e)?(YT(e),n()):i("Incorrect password. Please try again.")};return h.jsx("div",{className:"flex flex-col h-screen bg-stone-50 px-8 py-12",children:h.jsxs("div",{className:"flex-1 flex flex-col justify-center max-w-md mx-auto w-full",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center mb-6 mx-auto shadow-md",children:h.jsx("img",{src:ql,alt:"logo",className:"h-8"})}),h.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-2 text-center",children:"Welcome Back"}),h.jsx("p",{className:"text-sm text-stone-600 mb-8 text-center",children:"Enter your password to continue"}),r&&h.jsx("p",{className:"text-sm text-red-600 mb-4 text-center",children:r}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Password"}),h.jsx("input",{type:"password",value:e,onChange:l=>{t(l.target.value),i("")},className:"w-full bg-white rounded-lg px-4 py-3 text-sm text-stone-800 outline-none border border-stone-200"})]}),h.jsx("button",{onClick:a,disabled:!e,className:"w-full bg-orange-500 text-white py-4 rounded-2xl font-semibold hover:bg-orange-600 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Login"})]})})}function Qr({isOpen:n,onClose:e,title:t,children:r,footer:i,showCloseButton:a=!0,fullScreen:l=!1}){return n?h.jsx("div",{className:`fixed inset-0 bg-stone-900/50 flex items-center justify-center z-50 overflow-y-auto ${l?"p-0":"px-4 py-8"}`,children:h.jsxs("div",{className:`bg-white flex flex-col ${l?"w-full h-full max-w-none max-h-none rounded-none":"rounded-2xl w-full max-w-2xl max-h-[90vh] my-auto"}`,children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-stone-200 flex-shrink-0",children:[h.jsx("h3",{className:"font-semibold text-xl text-stone-900",children:t}),a&&e&&h.jsx("button",{onClick:e,className:"p-1 hover:bg-stone-100 rounded transition-colors","aria-label":"Close",children:h.jsx(Vo,{className:"w-5 h-5 text-stone-600"})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r}),i&&h.jsx("div",{className:"border-t border-stone-200 p-6 flex-shrink-0",children:i})]})}):null}const ZT=["function aegis_setSentinel(address sentinel) external"];async function qT(n,e){const{privateKey:t,rpcUrl:r,chainId:i,contractAddress:a}=n;try{const l=new Sg(r),u=new Qo(t,l),f=BigInt(i),p=await l.getTransactionCount(u.address,"pending"),m=BigInt(p)+1n,g=await u.authorize({address:a,nonce:m,chainId:f}),w=new Su(ZT).encodeFunctionData("aegis_setSentinel",[e]),N=await(await u.sendTransaction({type:4,to:u.address,data:w,value:0n,authorizationList:[g]})).wait();return N==null?{success:!1,error:"Transaction did not produce a receipt"}:N.status===0?{success:!1,error:"Transaction reverted on-chain"}:{success:!0,txHash:N.hash}}catch(l){return{success:!1,error:l instanceof Error?l.message:String(l)}}}const eP="0x67195d63765d62615DF25355688c3faD2A5Aa0e2",tP="0x9E44450A67EA588bB5b2072557a6A943e1f9b145",nP="0x75c027b280F063BAf49A71c548Aa46Ed84434600",Fo={ImplSafetyRegistry:eP,AegisGuardDelegator:tP,SentinelAddress:nP},rP="0x4ddfd4e4",sP="0x3ebd0a47",Y6="0x887443eb";function X6(n){return n===1n?"Safe":n===2n?"Unsafe":"Unknown"}async function iP(n,e,t,r){var p,m,g,b,w,E;const i=n.trim(),a=e==null?void 0:e.trim(),l=t==null?void 0:t.trim(),u=(r==null?void 0:r.trim())||l;if(!i||!a||!l)return{getRecentRecords:null,implementationAddress:null,getRecordCurrent:null};const f=[{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:a,data:rP},"latest"]},{jsonrpc:"2.0",id:2,method:"eth_call",params:[{to:u,data:sP},"latest"]}];try{const N=await $o(i,f),S=((p=N[0])==null?void 0:p.error)==null&&typeof((m=N[0])==null?void 0:m.result)=="string"?N[0].result:null,k=((g=N[1])==null?void 0:g.error)==null&&typeof((b=N[1])==null?void 0:b.result)=="string"?N[1].result:null,I=k?aP(k):null,P=S?oP(S):null;let V=null;if(I){const L=Y6+eA(I),F=await $o(i,[{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:a,data:L},"latest"]}]),Q=((w=F[0])==null?void 0:w.error)==null&&typeof((E=F[0])==null?void 0:E.result)=="string"?F[0].result:null;Q&&(V=q6(Q))}return{getRecentRecords:P,implementationAddress:I,getRecordCurrent:V}}catch{return{getRecentRecords:null,implementationAddress:null,getRecordCurrent:null}}}const Z6=Go.defaultAbiCoder();function oP(n){if(!n||typeof n!="string"||!n.startsWith("0x"))return null;try{const e=Z6.decode(["address[]","bytes32[]","uint8[]","uint64[]","string[]","string[]","string[]","string[]"],n),t=e[2].map(X6);return{impls:e[0],codehashes:e[1].map(r=>typeof r=="string"?r:String(r)),verdicts:t,updatedAts:e[3],names:e[4],summaries:e[5],descriptions:e[6],reasonsList:e[7]}}catch{return null}}function q6(n){if(!n||typeof n!="string"||!n.startsWith("0x"))return null;try{const e=Z6.decode(["uint8","string","string","string","string","uint64","bytes32"],n),t=e[6];return{verdict:X6(e[0]),name:e[1],summary:e[2],description:e[3],reasons:e[4],updatedAt:e[5],codehash:typeof t=="string"?t:String(t)}}catch{return null}}function eA(n){return(n.startsWith("0x")?n.slice(2).toLowerCase():n.toLowerCase()).padStart(64,"0")}function aP(n){if(!n||typeof n!="string"||!n.startsWith("0x"))return null;const e=n.slice(2).toLowerCase();return e.length<40?null:"0x"+e.slice(-40)}async function lP(n,e,t){var u,f;const r=n.trim(),i=t==null?void 0:t.trim(),a=e==null?void 0:e.trim();if(!r||!i||!a)return null;const l=Y6+eA(a);try{const p=await $o(r,[{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:i,data:l},"latest"]}]),m=((u=p[0])==null?void 0:u.error)==null&&typeof((f=p[0])==null?void 0:f.result)=="string"?p[0].result:null;return m?q6(m):null}catch{return null}}const cP=["function aegis_setImplementation(address impl) external"];async function uP(n){const{privateKey:e,rpcUrl:t,implementationAddress:r}=n;try{const a=new Su(cP).encodeFunctionData("aegis_setImplementation",[r]),l=new Sg(t),u=new Qo(e,l),p=await(await u.sendTransaction({to:u.address,data:a,value:0n})).wait();return p==null?{success:!1,error:"No receipt"}:p.status===0?{success:!1,error:"Transaction reverted"}:{success:!0,txHash:p.hash}}catch(i){return{success:!1,error:i instanceof Error?i.message:String(i)}}}const dP="0x136c4b96",fP="0xb748d134",hP="0xdb86a401",pP="0xf98a0189",Bg=Go.defaultAbiCoder();function xP(n){return(n.startsWith("0x")?n.slice(2):n).toLowerCase().padStart(64,"0").slice(-64)}function mP(n){if(!n||typeof n!="string"||!n.startsWith("0x"))return null;try{return Bg.decode(["bytes32[]"],n)[0].map(r=>{const i=typeof r=="string"?r:String(r);return i.startsWith("0x")?i:"0x"+i})}catch{return null}}function gP(n){if(!n||typeof n!="string"||!n.startsWith("0x"))return!1;const e=n.slice(2).replace(/^0+/,"")||"0";return BigInt("0x"+e)!==0n}function yP(n){if(!n||typeof n!="string"||!n.startsWith("0x"))return null;try{return Bg.decode(["string"],n)[0]||null}catch{return null}}function bP(n){if(!n||typeof n!="string"||!n.startsWith("0x"))return null;try{const e=Bg.decode(["string","string","string","string","uint64"],n);return{name:e[0],summary:e[1],description:e[2],reasons:e[3],updatedAt:e[4]}}catch{return null}}async function wP(n,e){var i,a,l,u,f,p,m;const t=n.trim(),r=(i=(e==null?void 0:e.trim())||Fo.AegisGuardDelegator)==null?void 0:i.trim();if(!t||!r)return{txs:[],isFrozen:!1,freezeReason:null};try{const g=await $o(t,[{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:r,data:dP},"latest"]},{jsonrpc:"2.0",id:2,method:"eth_call",params:[{to:r,data:hP},"latest"]},{jsonrpc:"2.0",id:3,method:"eth_call",params:[{to:r,data:pP},"latest"]}]),b=((a=g[0])==null?void 0:a.error)==null&&typeof((l=g[0])==null?void 0:l.result)=="string"?g[0].result:null,w=gP(((u=g[1])==null?void 0:u.error)==null&&typeof((f=g[1])==null?void 0:f.result)=="string"?g[1].result:null),E=yP(((p=g[2])==null?void 0:p.error)==null&&typeof((m=g[2])==null?void 0:m.result)=="string"?g[2].result:null),N=b?mP(b):null;if(!N||N.length===0)return{txs:[],isFrozen:w,freezeReason:E};const S=N.map((P,V)=>({jsonrpc:"2.0",id:V+1,method:"eth_call",params:[{to:r,data:fP+xP(P)},"latest"]})),k=await $o(t,S);return{txs:N.map((P,V)=>{const L=k[V],F=(L==null?void 0:L.error)==null&&typeof(L==null?void 0:L.result)=="string"?L.result:null,Q=F?bP(F):null;return{txHash:P,note:Q}}),isFrozen:w,freezeReason:E}}catch{return{txs:[],isFrozen:!1,freezeReason:null}}}const vP="0x0000000000000000000000000000000000000000",AP=60*1e3;function NP(n){if(!n)return!0;const e=n.toLowerCase().replace(/^0x/,"").padStart(40,"0");return e==="0".repeat(40)||e===vP.replace(/^0x/,"")}function EP(n,e,t,r,i,a){const l=a!=="Safe",u=n.slice(0,10)+"..."+n.slice(-6);return{id:n,address:n,state:"registered",verdict:l?"unsafe":"safe",title:(e==null?void 0:e.trim())||u,provider:"Registry",description:(r==null?void 0:r.trim())||(t==null?void 0:t.trim())||(i==null?void 0:i.trim())||"No description.",riskLevel:a==="Safe"?"safe":"high"}}function SP(n,e){var r,i,a,l;const t=e.verdict!=="Safe";return{id:n,address:n,state:"active",verdict:t?"unsafe":"safe",title:((r=e.name)==null?void 0:r.trim())||n.slice(0,10)+"..."+n.slice(-6),provider:"Registry",description:((i=e.description)==null?void 0:i.trim())||((a=e.summary)==null?void 0:a.trim())||((l=e.reasons)==null?void 0:l.trim())||"No description.",riskLevel:e.verdict==="Safe"?"safe":"high"}}const tA=D.createContext(null);function ec(){const n=D.useContext(tA);if(!n)throw new Error("useAppData must be used within AppDataProvider");return n}function kP({children:n}){const[e,t]=D.useState(null),[r,i]=D.useState([]),[a,l]=D.useState(!0),u=D.useRef(!1),[f,p]=D.useState([]),[m,g]=D.useState(!1),[b,w]=D.useState(null),[E,N]=D.useState(!0),S=D.useRef(!1),[k,I]=D.useState("0"),[P,V]=D.useState([]),[L,F]=D.useState("not-applied"),[Q,H]=D.useState(!1),te=D.useCallback(()=>{var j;const ue=Yt()??Ft[0],$=(j=Rn())==null?void 0:j.address;if(!(ue!=null&&ue.rpcUrl)||!$)return I("0"),V([]),Promise.resolve();const J=ue.chainId??"",ee=G6[J]??[],W=Q6(J),Z=[...ee.map(K=>({symbol:K.symbol,name:K.name,address:K.address})),...W.map(K=>({symbol:K.symbol,name:K.name,address:K.address}))].map(K=>({address:K.address,symbol:K.symbol}));return FT(ue.rpcUrl,$,Z).then(({ethBalance:K,tokenBalances:ye})=>{I(K),V(ye.map(ge=>({address:ge.address,symbol:ge.symbol,balance:ge.balance})))})},[]),Y=D.useCallback(()=>{const ue=Rn(),$=Yt()??Ft[0];if(!(ue!=null&&ue.address)||!($!=null&&$.rpcUrl))return Promise.resolve();const J=Fo.AegisGuardDelegator;return MT(ue.address,$.rpcUrl,J).then(ee=>{F(ee?"applied":"not-applied")})},[]),re=D.useCallback(()=>{var ee;const ue=Yt()??Ft[0],$=ue==null?void 0:ue.rpcUrl,J=(ee=Rn())==null?void 0:ee.address;return $?(u.current||l(!0),iP($,Fo.ImplSafetyRegistry,Fo.AegisGuardDelegator,J).then(W=>{if(NP(W.implementationAddress)?t(null):W.implementationAddress&&W.getRecordCurrent?t(SP(W.implementationAddress,W.getRecordCurrent)):t(null),W.getRecentRecords){const X=W.getRecentRecords,Z=X.impls.map((j,K)=>EP(j,X.names[K]??"",X.summaries[K]??"",X.descriptions[K]??"",X.reasonsList[K]??"",X.verdicts[K]??"Unknown"));i(Z)}}).catch(()=>{i([]),t(null)}).finally(()=>{l(!1),u.current=!0})):(l(!1),t(null),Promise.resolve())},[]),ce=D.useCallback(()=>{var ee;const ue=Yt()??Ft[0],$=ue==null?void 0:ue.rpcUrl,J=(ee=Rn())==null?void 0:ee.address;return $?(S.current||N(!0),wP($,J).then(({txs:W,isFrozen:X,freezeReason:Z})=>{p(W),g(X),w(Z)}).catch(()=>{p([]),g(!1),w(null)}).finally(()=>{N(!1),S.current=!0})):(N(!1),p([]),Promise.resolve())},[]);D.useEffect(()=>{let ue=!1;Promise.all([re(),ce(),te(),Y()]).finally(()=>{ue||H(!0)});const $=setInterval(()=>{re(),ce(),te(),Y()},AP);return()=>{ue=!0,clearInterval($)}},[re,ce,te,Y]);const pe={aegis:{activeImpl:e,setActiveImpl:t,registeredImpls:r,setRegisteredImpls:i,registeredLoading:a,refetchAegisData:re},activity:{txs:f,isFrozen:m,freezeReason:b,loading:E,refetchActivity:ce},home:{ethBalance:k,tokenBalances:P,refetchBalances:te,fetchTokenSymbolNameAndAccountCode:$6,aegisSetupStatus:L,refetchAegisSetupStatus:Y},initialLoadDone:Q};return h.jsx(tA.Provider,{value:pe,children:n})}const Ex=Fo.AegisGuardDelegator;function CP(){const{home:n}=ec(),{aegisSetupStatus:e,refetchAegisSetupStatus:t}=n,[r,i]=D.useState(null),[a,l]=D.useState(!1),[u,f]=D.useState(null),[p,m]=D.useState(null),g=()=>{navigator.clipboard.writeText(Ex),l(!0),setTimeout(()=>l(!1),2e3)},b=()=>{i("confirmation"),f(null)},w=async()=>{f(null);const I=Rn(),P=Yt()??Ft[0];if(!(I!=null&&I.encryptedPk)){f("Wallet session not found. Please log in again.");return}if(!P.rpcUrl){f("No network selected. Choose a network in Settings.");return}const V=Lg();if(!V){f("Session expired. Please log out and log in again to sign transactions.");return}i("executing");let L;try{L=await Ig(I.encryptedPk,V)}catch{i("confirmation"),f("Decryption failed. Please log out and log in again.");return}const F=await qT({privateKey:L,rpcUrl:P.rpcUrl,chainId:P.chainId,contractAddress:Ex},Fo.SentinelAddress);F.success?(m(F.txHash),i("success")):(f(F.error),i("failure"))},E=()=>{i(null),f(null)},N=()=>{t(),i(null),m(null)},S=()=>{i("confirmation"),f(null)},k=({showLabel:I=!0})=>h.jsxs("div",{className:"bg-stone-50 border border-stone-200 rounded-lg p-3",children:[I&&h.jsx("p",{className:"text-xs font-medium text-stone-600 mb-1",children:"Contract Address:"}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("code",{className:"text-sm font-mono text-stone-900 break-all",children:Ex}),h.jsx("button",{onClick:g,className:"flex-shrink-0 p-1.5 hover:bg-stone-200 rounded transition-colors",title:"Copy address",children:a?h.jsx(Xu,{className:"w-4 h-4 text-green-600"}):h.jsx(D0,{className:"w-4 h-4 text-stone-600"})})]})]});return e==="not-applied"?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200 mb-6",children:h.jsx("div",{className:"flex items-start gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-base text-stone-900 mb-3",children:"Aegis Security Implementation"}),h.jsx(k,{}),h.jsx("p",{className:"text-sm text-stone-600 mt-3 mb-3 leading-relaxed",children:"Official Aegis implementation used to secure delegated executions and enable security analysis."}),h.jsx("div",{className:"flex items-center gap-2 mb-4",children:h.jsxs("p",{className:"text-sm text-stone-700",children:[h.jsx("span",{className:"font-medium",children:"Status:"})," Not Applied"]})}),h.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4",children:h.jsxs("p",{className:"text-xs text-amber-900 leading-relaxed",children:[h.jsx("span",{className:"font-semibold",children:"Required:"})," This implementation must be applied before other implementations can be analyzed or monitored."]})}),h.jsx("button",{onClick:b,className:"w-full bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 transition-colors flex items-center justify-center gap-2",children:"Apply Implementation"})]})})}),h.jsx(Qr,{isOpen:r==="confirmation",onClose:E,fullScreen:!0,title:"Apply Aegis Implementation",footer:h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:E,className:"flex-1 bg-stone-100 text-stone-800 py-3 rounded-xl font-semibold hover:bg-stone-200 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:()=>void w(),className:"flex-1 bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 transition-colors",children:"Yes, Apply"})]}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-stone-900 mb-2",children:"What is delegation?"}),h.jsxs("p",{className:"text-sm text-stone-700 leading-relaxed",children:["This action will execute an ",h.jsx("span",{className:"font-semibold",children:"on-chain delegated transaction (EIP-7702)"})," that grants the following contract authority to manage security analysis for your address."]})]}),h.jsx(k,{}),h.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:h.jsxs("p",{className:"text-xs text-orange-900 leading-relaxed",children:[h.jsx("span",{className:"font-semibold",children:"Important:"})," This is the official Aegis implementation contract. Verify the address before proceeding."]})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-stone-900 mb-2",children:"What happens after applying?"}),h.jsx("p",{className:"text-sm text-stone-700 leading-relaxed",children:"Your address will be secured by the Aegis implementation, enabling security analysis and monitoring for all delegated executions."})]}),u&&r==="confirmation"&&h.jsx("p",{className:"text-sm text-red-600",children:u})]})}),h.jsx(Qr,{isOpen:r==="executing",fullScreen:!0,title:"Applying Aegis Implementation",showCloseButton:!1,children:h.jsx("div",{className:"py-12",children:h.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center",children:h.jsx(Ti,{className:"w-10 h-10 text-white animate-pulse"})}),h.jsx("div",{className:"absolute inset-0 w-20 h-20 bg-orange-400 rounded-full animate-ping opacity-20"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Executing delegated transaction"}),h.jsx("p",{className:"text-xs text-stone-600",children:"This may take a few seconds"})]})]})})}),h.jsx(Qr,{isOpen:r==="success",onClose:N,fullScreen:!0,title:"Aegis Implementation Applied",footer:h.jsx("button",{onClick:N,className:"w-full bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 transition-colors",children:"Confirm"}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center justify-center py-4",children:h.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:h.jsx(xu,{className:"w-8 h-8 text-green-600"})})}),h.jsx("p",{className:"text-sm text-stone-700 leading-relaxed",children:"The Aegis implementation has been successfully applied to your address."}),h.jsx(k,{showLabel:!1}),h.jsx("p",{className:"text-sm text-stone-700 leading-relaxed",children:"Your address is now secured by the Aegis implementation. Delegated executions will be monitored and analyzed."}),p&&h.jsxs("p",{className:"text-xs text-stone-500 font-mono break-all",children:["Tx: ",p]})]})}),h.jsx(Qr,{isOpen:r==="failure",onClose:S,fullScreen:!0,title:"Transaction failed",footer:h.jsx("button",{onClick:S,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-semibold hover:bg-stone-700 transition-colors",children:"Try again"}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-3",children:h.jsx(tg,{className:"w-8 h-8 text-red-600"})}),h.jsx("p",{className:"text-sm text-stone-700 text-center",children:"The EIP-7702 transaction could not be completed."})]}),u&&h.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:h.jsx("p",{className:"text-xs text-red-900 break-words",children:u})})]})})]}):h.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl p-6 shadow-sm border border-orange-200 mb-6",children:h.jsx("div",{className:"flex items-start gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("h3",{className:"font-semibold text-base text-stone-900",children:"Aegis Security Implementation"}),h.jsxs("div",{className:"flex items-center gap-1 bg-orange-600 text-white px-2 py-0.5 rounded-full text-xs font-semibold",children:[h.jsx(xu,{className:"w-3 h-3"}),"Active"]})]}),h.jsx(k,{}),h.jsx("p",{className:"text-sm text-stone-700 mt-3 mb-1 font-medium",children:"Your address is now secured by the Aegis implementation."}),h.jsx("p",{className:"text-xs text-stone-600",children:"Delegated executions are monitored and analyzed."})]})})})}const Dg="http://54.206.43.201:8000";async function TP(n){const e=`${Dg.replace(/\/$/,"")}/v1/impl/scan`,t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chainId:n.chainId,implAddress:n.implAddress})});if(!t.ok){const r=await t.text();throw new Error(r||`impl/scan failed: ${t.status}`)}return await t.json()}async function PP(n){const e=`${Dg.replace(/\/$/,"")}/v1/impl/audit-apply`,t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chainId:n.chainId,wallet:n.wallet,newImplAddress:n.newImplAddress,mode:n.mode})});if(!t.ok){const r=await t.text();throw new Error(r||`audit-apply failed: ${t.status}`)}return await t.json()}async function IP(n){const e=`${Dg.replace(/\/$/,"")}/v1/tx/precheck`,t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chainId:n.chainId,from:n.from,to:n.to,value:n.value??"0",data:n.data??"0x",...n.types!=null&&{types:n.types},txType:n.txType??0,authorizationList:n.authorizationList??[]})});if(!t.ok){const r=await t.text();throw new Error(r||`tx/precheck failed: ${t.status}`)}return await t.json()}async function RP(n){const{privateKey:e,rpcUrl:t,chainId:r,to:i,value:a,data:l}=n;try{const u=new Sg(t),f=new Qo(e,u),p=BigInt(a),g=await(await f.sendTransaction({to:i,value:p,data:l&&l!=="0x"?l:void 0,...r!=null&&{chainId:r}})).wait();return g==null?{success:!1,error:"Transaction did not produce a receipt"}:g.status===0?{success:!1,error:"Transaction reverted on-chain"}:{success:!0,txHash:g.hash}}catch(u){return{success:!1,error:u instanceof Error?u.message:String(u)}}}const jP=BigInt(1e18);function U2(n){const e=n.trim();if(!e)return"0";const[t="0",r=""]=e.split("."),i=r.slice(0,18).padEnd(18,"0");return(BigInt(t)*jP+BigInt(i||"0")).toString()}function Sx({title:n,onClose:e,children:t}){return h.jsxs("div",{className:"fixed inset-0 z-50 bg-stone-50 flex flex-col",children:[h.jsxs("div",{className:"border-b border-stone-200 px-6 py-4 flex items-center justify-between shrink-0",children:[h.jsx("h1",{className:"text-lg font-semibold text-stone-900",children:n}),h.jsx("button",{type:"button",onClick:e,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-stone-200 transition-colors","aria-label":"Close",children:h.jsx(Vo,{className:"w-5 h-5 text-stone-600"})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:t})]})}function _2({title:n,text:e,subtext:t}){return h.jsx(Qr,{isOpen:!0,fullScreen:!0,title:n,showCloseButton:!1,children:h.jsx("div",{className:"py-12",children:h.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center",children:h.jsx(Ti,{className:"w-10 h-10 text-white animate-pulse"})}),h.jsx("div",{className:"absolute inset-0 w-20 h-20 bg-orange-400 rounded-full animate-ping opacity-20"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-sm font-medium text-stone-900",children:e}),h.jsx("p",{className:"text-xs text-stone-600",children:t})]})]})})})}function nA({onClose:n,requestId:e,onResolve:t,onReject:r,initialTo:i="",initialValueEth:a="",initialData:l="",initialTypes:u,initialTxType:f,initialAuthorizationList:p}){var K;const{activity:m}=ec(),[g,b]=D.useState("precheck"),[w,E]=D.useState(null),[N,S]=D.useState(null),[k,I]=D.useState(null),[P,V]=D.useState(null),[L,F]=D.useState(null),[Q,H]=D.useState(null),te=i.trim(),Y=a.trim()||"0",re=(l.trim()||"0x").toLowerCase(),ce=Yt()??Ft[0],pe=Rn(),ue=(pe==null?void 0:pe.address)??"",$=ce?Number(ce.chainId):0,J=async()=>{if(S(null),E(null),!te){S('Missing "To" address');return}if(!ue){S("Wallet not connected");return}if(!(ce!=null&&ce.rpcUrl)){S("No network selected");return}b("prechecking");const ye=U2(Y);try{const ge=await IP({chainId:$,from:ue,to:te,value:ye,data:re||"0x",...u!=null&&{types:u},txType:f??0,authorizationList:p??[]});E(ge)}catch(ge){S(ge instanceof Error?ge.message:String(ge))}finally{b("send")}},ee=async()=>{if(!(w!=null&&w.allow))return;I(null);const ye=Lg();if(!ye||!(pe!=null&&pe.encryptedPk)){F(!1),H("Session expired. Please log out and log in again to sign."),b("complete");return}if(!(ce!=null&&ce.rpcUrl)){F(!1),H("No network selected"),b("complete");return}b("sending");const ge=U2(Y);try{const Ce=await Ig(pe.encryptedPk,ye),Pe=await RP({privateKey:Ce,rpcUrl:ce.rpcUrl,chainId:$,to:te,value:ge,data:re&&re!=="0x"?re:void 0});Pe.success?(V(Pe.txHash),m.refetchActivity(),F(!0)):(F(!1),H(Pe.error))}catch(Ce){F(!1),H(Ce instanceof Error?Ce.message:String(Ce))}finally{b("complete")}},W=()=>{e&&r&&r(e,"User rejected"),b("precheck"),E(null),S(null),V(null),F(null),H(null),n()},X=()=>{e&&t&&P&&t(e,P),n()},Z=()=>{e&&r&&r(e,Q??"Transaction failed"),n()},j=h.jsxs(h.Fragment,{children:[ce&&h.jsx("div",{className:"flex items-center gap-2 mb-4",children:h.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg bg-white border border-stone-200 text-xs font-medium text-stone-600",children:[h.jsx(d3,{className:"w-3.5 h-3.5 flex-shrink-0"}),ce.name,ce.chainId&&h.jsxs("span",{className:"text-stone-400",children:["  Chain ",ce.chainId]})]})}),h.jsxs("div",{className:"rounded-xl border border-stone-200 bg-gradient-to-br from-stone-50 to-stone-100/80 p-4 shadow-sm",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-white border border-stone-200 shadow-sm flex-shrink-0",children:h.jsx(w9,{className:"w-4 h-4 text-orange-500"})}),h.jsx("span",{className:"text-sm font-semibold text-stone-800",children:"Request from dApp"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-medium text-stone-500 uppercase tracking-wider mb-1",children:"To"}),h.jsx("p",{className:"font-mono text-sm text-stone-800 break-all select-all bg-white/80 rounded-lg border border-stone-200 px-3 py-2.5",children:te||""})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-medium text-stone-500 uppercase tracking-wider mb-1",children:"Value (ETH)"}),h.jsx("p",{className:"font-mono text-sm text-stone-800 bg-white/80 rounded-lg border border-stone-200 px-3 py-2.5",children:Y})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-medium text-stone-500 uppercase tracking-wider mb-1",children:"Data"}),h.jsx("p",{className:"font-mono text-xs text-stone-800 break-all select-all bg-white/80 rounded-lg border border-stone-200 px-3 py-2.5 max-h-24 overflow-y-auto",children:re&&re!=="0x"?re:"0x (none)"})]})]})]})]});if(g==="prechecking")return h.jsx(_2,{title:"Prechecking",text:"Prechecking transaction",subtext:"This may take a few seconds"});if(g==="sending")return h.jsx(_2,{title:"Sending transaction",text:"Executing delegated transaction",subtext:"This may take a few seconds"});if(g==="precheck")return h.jsx(Sx,{title:"Precheck",onClose:W,children:h.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-6 space-y-6",children:[h.jsx("h2",{className:"text-xs font-semibold text-stone-500 uppercase tracking-wider",children:"Transaction details"}),j,h.jsx("button",{type:"button",onClick:J,disabled:!te,className:"w-full min-h-[44px] bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 active:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors touch-manipulation",children:"Precheck transaction"}),N&&h.jsx("div",{className:"rounded-xl p-4 bg-red-50 border border-red-200",children:h.jsx("p",{className:"text-sm font-medium text-red-800",children:N})})]})});if(g==="send")return h.jsx(Sx,{title:"Send Transaction",onClose:W,children:h.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-10 sm:py-12 space-y-8 min-h-[320px]",children:[N&&h.jsxs("div",{className:"rounded-xl p-5 sm:p-6 bg-red-50 border border-red-200",children:[h.jsx("p",{className:"font-semibold text-red-800",children:"Precheck failed"}),h.jsx("p",{className:"text-sm text-stone-700 mt-2",children:N})]}),w&&h.jsxs("div",{className:`rounded-xl p-5 sm:p-6 border ${w.allow?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[h.jsx("p",{className:`font-semibold ${w.allow?"text-green-800":"text-red-800"}`,children:w.allow?"Precheck passed":"Precheck failed"}),h.jsx("p",{className:"text-sm text-stone-700 mt-2",children:((K=w.audit)==null?void 0:K.summary)??w.reasonsText??""}),w.reasonsText&&h.jsx("pre",{className:"text-xs text-stone-600 mt-3 whitespace-pre-wrap font-sans leading-relaxed",children:w.reasonsText})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>b("precheck"),className:"flex-1 min-h-[44px] bg-stone-100 text-stone-800 py-3 rounded-xl font-semibold hover:bg-stone-200 transition-colors touch-manipulation",children:"Back"}),(w==null?void 0:w.allow)&&h.jsx("button",{type:"button",onClick:ee,className:"flex-1 min-h-[44px] bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 active:bg-orange-700 transition-colors touch-manipulation",children:"Next Sign"})]}),k&&h.jsx("div",{className:"rounded-xl p-5 sm:p-6 bg-red-50 border border-red-200",children:h.jsx("p",{className:"text-sm font-medium text-red-800",children:k})})]})});if(g==="complete"){const ye=L===!0;return h.jsx(Sx,{title:ye?"Transaction sent":"Transaction failed",onClose:ye?X:Z,children:h.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-6 space-y-6",children:[ye?h.jsx(h.Fragment,{children:h.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-8",children:[h.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:h.jsx(xu,{className:"w-8 h-8 text-green-600"})}),h.jsx("p",{className:"font-semibold text-green-800 text-lg",children:"Transaction sent successfully"}),h.jsx("p",{className:"text-xs text-stone-600 mt-2",children:"Tx hash (copy to explore)"}),h.jsx("p",{className:"font-mono text-sm text-stone-800 break-all select-all bg-white rounded-lg border border-stone-200 px-3 py-2.5 mt-2 w-full",children:P}),(ce==null?void 0:ce.blockExplorer)&&P&&h.jsx("a",{href:`${ce.blockExplorer.replace(/\/$/,"")}/tx/${P}`,target:"_blank",rel:"noopener noreferrer",className:"mt-4 text-orange-600 hover:underline text-sm font-medium",children:"View on explorer"})]})}):h.jsx(h.Fragment,{children:h.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-8",children:[h.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:h.jsx(tg,{className:"w-8 h-8 text-red-600"})}),h.jsx("p",{className:"font-semibold text-red-800 text-lg",children:"Transaction failed"}),h.jsx("p",{className:"text-sm text-stone-700 mt-2",children:Q??"Unknown error"})]})}),h.jsx("button",{type:"button",onClick:ye?X:Z,className:"w-full min-h-[44px] bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 active:bg-orange-700 transition-colors touch-manipulation",children:ye?"Done":"Close"})]})})}return null}const V2=640;function z2(n,e){if(!e)return n;const t=n.trim();if(!t)return"0";const r=t.indexOf(".");if(r===-1)return t;const i=t.slice(0,r)||"0",a=t.slice(r+1).slice(0,4).replace(/0+$/,"");return a?`${i}.${a}`:i}function OP(){const{home:n}=ec(),{ethBalance:e,tokenBalances:t,refetchBalances:r,fetchTokenSymbolNameAndAccountCode:i}=n,[a,l]=D.useState(()=>typeof window<"u"&&window.innerWidth<V2),[u,f]=D.useState(!1),[p,m]=D.useState(!1),[g,b]=D.useState(!1),[w,E]=D.useState(""),[N,S]=D.useState(""),[k,I]=D.useState(!1),[P,V]=D.useState(!1),[L,F]=D.useState("");D.useEffect(()=>{const J=()=>l(window.innerWidth<V2);return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]);const Q=Yt()??Ft[0],H=(Q==null?void 0:Q.chainId)??"",te=G6[H]??[],Y=Q6(H),re=[...te.map(J=>({symbol:J.symbol,name:J.name,address:J.address})),...Y.map(J=>({symbol:J.symbol,name:J.name,address:J.address}))],ce=async()=>{if(!(!w.trim()||!(Q!=null&&Q.rpcUrl))){V(!0),F(""),I(!1);try{const{symbol:J}=await i(w.trim(),"",Q.rpcUrl);J?(S(J),I(!0)):F("Could not fetch symbol")}finally{V(!1)}}},pe=()=>{if(!k||!N.trim())return;F("");const J=w.trim();if(re.some(W=>W.address.toLowerCase()===J.toLowerCase())){F("Already registered");return}jT(H,{symbol:N.trim(),address:J}),E(""),S(""),I(!1),m(!1),r()},ue=J=>{var ee;return((ee=t.find(W=>W.address.toLowerCase()===J.toLowerCase()))==null?void 0:ee.balance)??"0"},$=z2(e,a);return h.jsxs("div",{className:"flex-1 overflow-y-auto bg-stone-50 flex flex-col relative",children:[h.jsxs("div",{className:"flex-1 px-6 md:px-12 py-8 md:py-12 max-w-4xl mx-auto w-full",children:[h.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-3xl p-6 md:p-8 text-white mb-6 shadow-md min-w-0 overflow-hidden",children:[h.jsx("p",{className:"text-sm opacity-90 mb-1 truncate",children:(Q==null?void 0:Q.name)??"Network"}),h.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold break-all min-w-0",children:[$," ",h.jsx("span",{className:"font-semibold opacity-95",children:"ETH"})]})]}),h.jsx(CP,{}),h.jsxs("div",{className:"bg-white rounded-2xl p-4 md:p-6 shadow-sm border border-stone-200 mb-6",children:[h.jsx("h3",{className:"font-semibold text-sm md:text-base text-stone-900 mb-3",children:"Tokens"}),h.jsx("div",{className:"space-y-2",children:re.length===0?h.jsx("p",{className:"text-sm text-stone-500 py-4",children:"No tokens. Add a token below."}):re.map(J=>h.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-stone-100 last:border-b-0",children:[h.jsx("span",{className:"text-sm md:text-base font-medium text-stone-900",children:J.symbol}),h.jsx("span",{className:"text-sm md:text-base text-stone-600",children:z2(ue(J.address),a)})]},J.address))}),h.jsxs("button",{type:"button",onClick:()=>m(!0),className:"w-full mt-3 bg-stone-100 text-stone-800 py-3 rounded-xl font-semibold hover:bg-stone-200 transition-colors flex items-center justify-center gap-2",children:[h.jsx(T9,{className:"w-4 h-4"}),"Add Token"]})]})]}),g&&h.jsx(nA,{onClose:()=>b(!1)}),p&&h.jsxs("div",{className:"fixed inset-0 z-50 bg-stone-50 flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-stone-200 shrink-0",children:[h.jsx("h3",{className:"font-semibold text-xl text-stone-900",children:"Add Token"}),h.jsx("button",{type:"button",onClick:()=>{m(!1),F("")},className:"px-3 py-2 rounded-lg text-stone-600 hover:bg-stone-200 transition-colors text-sm font-medium",children:"Cancel"})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:[L&&h.jsx("p",{className:"text-sm text-red-600 mb-4",children:L}),h.jsxs("div",{className:"space-y-4 mb-6",children:[h.jsxs("div",{className:"min-w-0",children:[h.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Token Address"}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 min-w-0",children:[h.jsx("input",{type:"text",value:w,onChange:J=>{E(J.target.value),S(""),I(!1),F("")},placeholder:"0x...",className:"min-w-0 flex-1 bg-stone-100 rounded-lg px-4 py-3 text-sm text-stone-800 outline-none border border-stone-200"}),h.jsx("button",{type:"button",onClick:ce,disabled:!w.trim()||!(Q!=null&&Q.rpcUrl)||P,className:"shrink-0 px-4 py-3 rounded-lg bg-stone-200 text-stone-700 text-sm font-medium hover:bg-stone-300 disabled:opacity-50 w-full sm:w-auto",children:P?"...":"Get Symbol"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Token Symbol"}),h.jsx("input",{type:"text",value:N,readOnly:!0,placeholder:"Click Get Symbol to fetch",className:"w-full bg-stone-100 rounded-lg px-4 py-3 text-sm text-stone-800 outline-none border border-stone-200"})]})]}),h.jsx("button",{type:"button",onClick:pe,disabled:!k||!N.trim(),className:"w-full bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"})]})]})]})}function kx({implementation:n,isExpanded:e,onToggle:t,cardType:r="default",isNewDetection:i=!1,onRunDiagnosis:a,onDeactivate:l,onChange:u,onActivate:f,isSelectable:p=!1,isSelected:m=!1,onSelect:g}){const w=(()=>{switch(n.riskLevel){case"safe":return{label:"Safe",color:"text-green-600"};case"low":return{label:"Low Risk",color:"text-amber-600"};case"high":return{label:"Unsafe",color:"text-red-600"};default:return{label:"Unknown",color:"text-stone-500"}}})(),[E,N]=D.useState(!1),S=I=>{I.stopPropagation();const P=n.address;navigator.clipboard.writeText(P),N(!0),setTimeout(()=>N(!1),2e3)},k=!i;return h.jsxs("div",{onClick:k?t:void 0,className:`w-full bg-white border border-stone-100 rounded-xl p-4 shadow-sm ${k?"hover:shadow-md cursor-pointer":""} transition-shadow text-left relative`,children:[p&&h.jsx("div",{className:"absolute left-4 top-4",children:h.jsx("input",{type:"radio",checked:m,onChange:I=>{I.stopPropagation(),g==null||g()},onClick:I=>I.stopPropagation(),className:"w-5 h-5 accent-orange-500 cursor-pointer"})}),h.jsxs("div",{className:`${p?"ml-8":""}`,children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsx("div",{className:"flex-1",children:h.jsx("p",{className:"font-medium text-sm text-stone-900",children:i?"New Implementation Detected":n.title})}),k&&h.jsx(B0,{className:`w-4 h-4 text-stone-400 transition-transform flex-shrink-0 ml-4 ${e?"rotate-90":""}`})]}),h.jsx("div",{className:"mb-2",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xs text-stone-600",children:"Contract Address:"}),h.jsx("span",{className:"text-xs font-mono text-stone-700",children:n.address}),h.jsx("button",{onClick:S,className:"p-1 hover:bg-stone-100 rounded transition-colors",title:"Copy address",children:E?h.jsx(Xu,{className:"w-3 h-3 text-green-600"}):h.jsx(D0,{className:"w-3 h-3 text-stone-500"})})]})}),!i&&h.jsx("div",{className:"mb-3",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-xs text-stone-600 flex-shrink-0",children:"Summary:"}),h.jsx("span",{className:"text-xs text-stone-700 line-clamp-1",children:n.description})]})}),i&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"mb-3"}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold bg-stone-50 border border-stone-200 text-stone-700",children:"Unknown"}),a&&h.jsx("div",{onClick:I=>I.stopPropagation(),children:h.jsx("button",{onClick:I=>{I.stopPropagation(),a()},className:"bg-orange-500 text-white px-4 py-2 rounded-lg text-xs font-semibold hover:bg-orange-600 transition-colors",children:"Run AI Audit"})})]})]}),!i&&h.jsxs(h.Fragment,{children:[e&&h.jsxs("div",{className:"mb-4",onClick:I=>I.stopPropagation(),children:[h.jsx("h4",{className:"font-semibold text-sm text-stone-900 mb-3",children:"Description"}),h.jsxs("div",{className:"bg-stone-50 rounded-lg p-3 border border-stone-200",children:[h.jsx("p",{className:"text-xs text-stone-700 leading-relaxed",children:n.description}),n.verdict&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-stone-300",children:[h.jsxs("p",{className:`text-xs font-semibold mb-1 ${n.verdict==="safe"?"text-green-900":"text-red-900"}`,children:["Agent AI Audit: ",n.verdict==="safe"?"Safe":"Unsafe"]}),h.jsx("p",{className:`text-xs ${n.verdict==="safe"?"text-green-700":"text-red-700"}`,children:"This implementation has been analyzed by Aegis Agent and verified for security."})]})]})]}),h.jsxs("div",{onClick:I=>I.stopPropagation(),children:[h.jsx("div",{className:"border-t border-stone-200 mb-4"}),h.jsxs("div",{className:"flex items-center justify-between gap-3",children:[h.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold flex-shrink-0 ${n.riskLevel==="safe"?"bg-green-50 border border-green-200 text-green-900":n.riskLevel==="low"?"bg-amber-50 border border-amber-200 text-amber-900":n.riskLevel==="high"?"bg-red-50 border border-red-200 text-red-900":"bg-stone-50 border border-stone-200 text-stone-700"}`,children:w.label}),h.jsxs("div",{className:"flex gap-2",children:[r==="search-result"&&a&&h.jsx("button",{onClick:I=>{I.stopPropagation(),a()},className:"bg-orange-500 text-white px-3 py-1.5 rounded-lg text-xs font-semibold hover:bg-orange-600 transition-colors",children:"Run AI Audit"}),r==="registered"&&!p&&f&&n.verdict!=="unsafe"&&h.jsx("button",{onClick:I=>{I.stopPropagation(),f()},className:"bg-orange-500 text-white px-3 py-1.5 rounded-lg text-xs font-semibold hover:bg-orange-600 transition-colors",children:"Activate"}),r==="active"&&h.jsx(h.Fragment,{children:l&&h.jsx("button",{onClick:I=>{I.stopPropagation(),l()},className:"bg-stone-100 text-stone-800 px-3 py-1.5 rounded-lg text-xs font-semibold hover:bg-stone-200 transition-colors",children:"Deactivate"})})]})]})]})]})]})]})}function LP({value:n,onChange:e,networks:t}){const[r,i]=D.useState(!1),a=D.useRef(null);D.useEffect(()=>{const u=f=>{a.current&&!a.current.contains(f.target)&&i(!1)};return r&&document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[r]);const l=u=>{e(u),i(!1)};return h.jsxs("div",{ref:a,className:"relative w-full md:w-auto md:min-w-[160px]",children:[h.jsxs("button",{type:"button",onClick:()=>i(!r),className:"w-full bg-white border border-stone-200 rounded-xl px-4 py-2.5 text-sm text-stone-800 font-medium outline-none hover:border-stone-300 focus:border-orange-400 focus:ring-2 focus:ring-orange-100 transition-all flex items-center justify-between gap-2",children:[h.jsx("span",{children:n}),h.jsx(c3,{className:`w-4 h-4 text-stone-500 transition-transform ${r?"rotate-180":""}`})]}),r&&h.jsx("div",{className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-stone-200 rounded-xl shadow-lg overflow-hidden",children:t.map(u=>h.jsxs("button",{type:"button",onClick:()=>l(u),className:`w-full px-4 py-3 text-left text-sm transition-colors flex items-center justify-between ${n===u?"bg-orange-50 text-orange-900 font-medium":"text-stone-700 hover:bg-stone-50"}`,children:[h.jsx("span",{children:u}),n===u&&h.jsx(Xu,{className:"w-4 h-4 text-orange-600"})]},u))})]})}function BP({onSearch:n}){const e=[...Ft,...jg()],t=e.map(w=>w.name),r=Yt(),[i,a]=D.useState(()=>(r==null?void 0:r.name)??t[0]??""),[l,u]=D.useState(""),[f,p]=D.useState(!1),m=w=>{a(w);const E=e.find(N=>N.name===w);E&&Og(E)},g=async()=>{p(!0);try{await n(i,l)}finally{p(!1)}},b=w=>{w.key==="Enter"&&g()};return h.jsxs("div",{children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mb-3",children:[h.jsx(LP,{value:i,onChange:m,networks:t}),h.jsx("input",{type:"text",value:l,onChange:w=>u(w.target.value),onKeyPress:b,placeholder:"Contract address (0x...)",className:"flex-1 bg-white border border-stone-200 rounded-xl px-4 py-2.5 text-sm text-stone-800 placeholder-stone-400 outline-none hover:border-stone-300 focus:border-orange-400 focus:ring-2 focus:ring-orange-100 transition-all"}),h.jsxs("button",{onClick:g,disabled:f,className:"w-full md:w-auto bg-gradient-to-r from-orange-500 to-orange-600 text-white px-6 py-2.5 rounded-xl font-semibold hover:from-orange-600 hover:to-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm hover:shadow-md flex items-center justify-center gap-2",children:[h.jsx(I9,{className:"w-4 h-4"}),f?"Searching...":"Search"]})]}),l&&h.jsxs("p",{className:"text-xs text-stone-500 mb-2",children:["Searching for implementation on ",h.jsx("span",{className:"font-semibold text-stone-700",children:i})]})]})}function DP({isOpen:n,onClose:e,onRegister:t,diagnosis:r,advancedMode:i=!0}){const[a,l]=D.useState(i),f=(()=>{switch(r.label){case"SAFE":return{label:"Safe",className:"bg-green-50 border border-green-200 text-green-900"};case"UNSAFE":return{label:"Unsafe",className:"bg-red-50 border border-red-200 text-red-900"};case"LOW_RISK":return{label:"Low Risk",className:"bg-amber-50 border border-amber-200 text-amber-900"};default:return{label:"Unknown",className:"bg-stone-50 border border-stone-200 text-stone-700"}}})();return h.jsx(Qr,{isOpen:n,onClose:e,title:"AI Audit Report",fullScreen:!0,footer:h.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3 w-full",children:[h.jsx("button",{onClick:e,className:"flex-1 min-h-[44px] sm:min-h-0 bg-stone-100 text-stone-800 py-3 rounded-xl font-semibold hover:bg-stone-200 active:bg-stone-300 transition-colors touch-manipulation",children:"Close"}),h.jsx("button",{onClick:t,className:"flex-1 min-h-[44px] sm:min-h-0 bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 active:bg-orange-700 transition-colors touch-manipulation",children:"Confirm"})]}),children:h.jsxs("div",{className:"space-y-4 sm:space-y-5 pb-6",children:[h.jsx("div",{children:h.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-2 sm:py-1.5 rounded-lg text-sm font-semibold ${f.className}`,children:f.label})}),(r.implAddress!=null||r.chainId!=null)&&h.jsxs("div",{className:"rounded-xl border border-stone-200 bg-gradient-to-br from-stone-50 to-stone-100/80 p-3 sm:p-4 shadow-sm",children:[h.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[h.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-white border border-stone-200 shadow-sm flex-shrink-0",children:h.jsx(y9,{className:"w-4 h-4 text-orange-500"})}),h.jsx("span",{className:"text-sm font-semibold text-stone-800",children:"Contract info"}),r.chainId!=null&&h.jsxs("span",{className:"w-full sm:w-auto sm:ml-auto inline-flex items-center gap-1.5 px-2.5 py-1.5 rounded-md bg-white border border-stone-200 text-xs font-medium text-stone-600",children:[h.jsx(d3,{className:"w-3.5 h-3.5 flex-shrink-0"}),"Chain ",r.chainId]})]}),r.implAddress!=null&&h.jsxs("div",{className:"rounded-lg bg-white border border-stone-200 px-3 py-2.5 min-w-0 overflow-hidden",children:[h.jsx("p",{className:"text-xs font-medium text-stone-500 uppercase tracking-wider mb-1",children:"Implementation address"}),h.jsx("p",{className:"font-mono text-xs sm:text-sm text-stone-800 break-all leading-relaxed select-all",children:r.implAddress})]})]}),h.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 sm:p-4 border border-stone-200 min-w-0",children:[h.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[h.jsx("span",{className:"text-xs sm:text-sm font-semibold text-stone-900",children:"Confidence"}),h.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-stone-900 flex-shrink-0",children:[(r.confidence*100).toFixed(0),"%"]})]}),h.jsx("div",{className:"w-full bg-stone-200 rounded-full h-2 sm:h-2.5 overflow-hidden",children:h.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-full rounded-full transition-all",style:{width:`${r.confidence*100}%`}})})]}),r.summary!=null&&r.summary!==""&&h.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 sm:p-4 border border-stone-200 min-w-0",children:[h.jsx("h4",{className:"font-semibold text-xs sm:text-sm text-stone-900 mb-2",children:"Summary"}),h.jsx("p",{className:"text-xs sm:text-sm text-stone-700 leading-relaxed break-words",children:r.summary})]}),r.description!=null&&r.description!==""&&h.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 sm:p-4 border border-stone-200 min-w-0",children:[h.jsx("h4",{className:"font-semibold text-xs sm:text-sm text-stone-900 mb-2",children:"Description"}),h.jsx("p",{className:"text-xs sm:text-sm text-stone-700 leading-relaxed whitespace-pre-wrap break-words",children:r.description})]}),(r.reasons.length>0||r.reasonsText!=null&&r.reasonsText!=="")&&h.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 sm:p-4 border border-stone-200 min-w-0",children:[h.jsx("h4",{className:"font-semibold text-xs sm:text-sm text-stone-900 mb-3",children:"Key Reasons"}),r.reasons.length>0?h.jsx("ol",{className:"space-y-2 list-decimal list-outside pl-4 sm:list-inside sm:pl-0",children:r.reasons.map((p,m)=>h.jsx("li",{className:"text-xs sm:text-sm text-stone-700 leading-relaxed break-words",children:p},m))}):h.jsx("p",{className:"text-xs sm:text-sm text-stone-700 leading-relaxed whitespace-pre-wrap break-words",children:r.reasonsText})]}),h.jsxs("div",{className:"bg-stone-50 rounded-xl border border-stone-200 overflow-hidden min-w-0",children:[h.jsxs("button",{type:"button",onClick:()=>l(!a),className:"w-full flex items-center justify-between p-4 min-h-[48px] hover:bg-stone-100 active:bg-stone-200 transition-colors touch-manipulation text-left",children:[h.jsx("h4",{className:"font-semibold text-xs sm:text-sm text-stone-900",children:"Matched Patterns"}),h.jsx(c3,{className:`w-5 h-5 sm:w-4 sm:h-4 text-stone-600 flex-shrink-0 transition-transform ${a?"rotate-180":""}`})]}),a&&h.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4",children:h.jsx("ul",{className:"space-y-2",children:r.matched_patterns.map((p,m)=>h.jsxs("li",{className:"text-xs sm:text-sm text-stone-700 flex items-start gap-2 break-words",children:[h.jsx("span",{className:"text-stone-400 flex-shrink-0",children:""}),h.jsx("span",{children:p})]},m))})})]}),r.analysis_source&&h.jsxs("div",{className:"text-xs text-stone-500 text-center break-all px-1",children:["Analysis Source: ",r.analysis_source]})]})})}function MP(n,e){var r,i,a,l;const t=e.verdict!=="Safe";return{id:n,address:n,state:"active",verdict:t?"unsafe":"safe",title:((r=e.name)==null?void 0:r.trim())||n.slice(0,10)+"..."+n.slice(-6),provider:"Registry",description:((i=e.description)==null?void 0:i.trim())||((a=e.summary)==null?void 0:a.trim())||((l=e.reasons)==null?void 0:l.trim())||"No description.",riskLevel:e.verdict==="Safe"?"safe":"high"}}function FP(){var ts;const{aegis:n}=ec(),{activeImpl:e,setActiveImpl:t,registeredImpls:r,setRegisteredImpls:i,registeredLoading:a,refetchAegisData:l}=n,[u,f]=D.useState(null),[p,m]=D.useState([]),[g,b]=D.useState(!1),[w,E]=D.useState("idle"),[N,S]=D.useState(null),[k,I]=D.useState(null),[P,V]=D.useState(null),[L,F]=D.useState(!1),[Q,H]=D.useState(!1),[te,Y]=D.useState(!1),[re,ce]=D.useState(!1),[pe,ue]=D.useState(!1),[$,J]=D.useState("normal"),[ee,W]=D.useState(null),[X,Z]=D.useState(null),[j,K]=D.useState(null),[ye,ge]=D.useState(null),Ce={label:"UNKNOWN",confidence:0,reasons:[],matched_patterns:[]},Pe=ke=>{f(u===ke?null:ke)},Be=async(ke,ut)=>{b(!0);const ht=ut.trim();if(!ht){m([]);return}const On=(Yt()??Ft[0]).rpcUrl,ns=await lP(On,ht,Fo.ImplSafetyRegistry);if(!ns){m([]);return}if(ns.updatedAt===0n){m([{id:ht,address:ht,state:"registered",verdict:"safe",title:"New Implementation Detected",provider:"Unknown",description:"This implementation is not yet in the registry. Run diagnosis to register.",riskLevel:"unknown"}]);return}const qo=MP(ht,ns);m([qo])},De=async ke=>{Z(ke),Y(!0),ge(null);const ht=(Yt()??Ft[0]).chainId;if(!ht){Y(!1),ge({label:"UNKNOWN",confidence:0,reasons:["No network selected. Select a network and try again."],matched_patterns:[]}),ce(!0);return}try{const je=await TP({chainId:Number(ht),implAddress:ke.address});ge({label:je.audit.label,confidence:je.audit.confidence,reasons:je.audit.reasons??[],matched_patterns:je.audit.matched_patterns??[],...je.registryTxHash!=null&&{analysis_source:je.registryTxHash},...je.implAddress!=null&&{implAddress:je.implAddress},...je.audit.summary!=null&&je.audit.summary!==""&&{summary:je.audit.summary},...je.reasonsText!=null&&je.reasonsText!==""&&{reasonsText:je.reasonsText},...je.chainId!=null&&{chainId:je.chainId},...je.audit.description!=null&&je.audit.description!==""&&{description:je.audit.description}}),ce(!0)}catch(je){const On=je instanceof Error?je.message:String(je);ge({label:"UNKNOWN",confidence:0,reasons:[On],matched_patterns:[]}),ce(!0)}finally{Y(!1)}},_e=()=>{const ke=ye??Ce;if(X){const ut={...X,riskLevel:ke.label==="SAFE"?"safe":ke.label==="LOW_RISK"?"low":ke.label==="UNSAFE"?"high":"unknown",verdict:ke.label==="SAFE"||ke.label==="LOW_RISK"?"safe":"unsafe",title:X.title==="New Implementation Detected"?`Implementation ${X.id.substring(0,8)}`:X.title,description:X.description==="This is a previously unknown implementation."?"Verified EIP-7702 implementation with standard delegation patterns.":X.description};i([...r,ut]),m(p.filter(ht=>ht.id!==X.id))}ce(!1),Z(null),ge(null),l()},ct=()=>{F(!0)},es=()=>{e&&(i([...r,e]),t(null)),F(!1)},nr=()=>{J("selecting-replacement")},Et=ke=>{W(ke)},jn=()=>{J("normal"),W(null)},Mi=()=>{H(!0)},Fi=()=>{if(H(!1),ee){const ke=r.find(ut=>ut.id===ee);ke&&e&&(i([...r.filter(ut=>ut.id!==ee),e]),t(ke))}J("normal"),W(null)},sc=ke=>{K(ke),E("confirm"),S(null),I(null),V(null),ue(!0)},dd=async()=>{var ht;if(!j)return;const ke=Yt()??Ft[0],ut=(ht=Rn())==null?void 0:ht.address;if(!ke.rpcUrl||!ut){I("Network or wallet missing. Please log in and select a network."),E("error");return}E("auditing");try{const je=await PP({chainId:Number(ke.chainId),wallet:ut,newImplAddress:j.address,mode:"swap"});V(je),E("audit-result")}catch(je){I(je instanceof Error?je.message:String(je)),E("error")}},ic=async()=>{if(!j)return;const ke=Rn(),ut=Yt()??Ft[0],ht=Lg();if(!(ke!=null&&ke.encryptedPk)||!ut.rpcUrl||!ht){I("Session or network missing. Please log in and select a network."),E("error");return}E("executing");let je;try{je=await Ig(ke.encryptedPk,ht)}catch{I("Decryption failed. Please log out and log in again."),E("error");return}const On=await uP({privateKey:je,rpcUrl:ut.rpcUrl,chainId:ut.chainId,implementationAddress:j.address});On.success?(S(On.txHash),E("success")):(I(On.error),E("error"))},rr=()=>{const ke=w==="success";ue(!1),K(null),E("idle"),S(null),I(null),V(null),ke&&l()};return h.jsxs("div",{className:"flex-1 overflow-y-auto bg-stone-50 relative",children:[h.jsxs("div",{className:"max-w-4xl mx-auto w-full pb-20",children:[h.jsxs("div",{className:"px-4 sm:px-6 py-6",children:[h.jsx("h2",{className:"text-sm font-semibold text-stone-900 mb-3",children:"Search Implementation"}),h.jsxs("div",{className:"bg-white border border-stone-200 rounded-2xl p-4",children:[h.jsx(BP,{onSearch:Be}),g&&h.jsxs("div",{className:"mt-4 pt-4 border-t border-stone-200",children:[h.jsx("h3",{className:"text-xs font-semibold text-stone-700 mb-3",children:"Results"}),p.length>0?h.jsx("div",{className:"space-y-4",children:p.map(ke=>{const ut=ke.riskLevel==="unknown",ht=r.some(ns=>ns.id===ke.id),je=(e==null?void 0:e.id)===ke.id,On=ht||je;return h.jsx(kx,{implementation:ke,isExpanded:u===ke.id,onToggle:()=>Pe(ke.id),cardType:"search-result",isNewDetection:ut,onRunDiagnosis:On?void 0:()=>De(ke)},ke.id)})}):h.jsx("div",{className:"bg-stone-50 rounded-xl p-6 border border-stone-200 text-center",children:h.jsx("p",{className:"text-sm text-stone-500",children:"No implementation found."})})]})]})]}),h.jsxs("div",{className:"px-4 sm:px-6 py-6",children:[h.jsx("h2",{className:"text-sm font-semibold text-stone-900 mb-3",children:"Active Implementation"}),e?h.jsx(kx,{implementation:e,isExpanded:u===e.id,onToggle:()=>Pe(e.id),cardType:"active",onDeactivate:ct,onChange:nr}):h.jsx("div",{className:"bg-white rounded-2xl p-6 border border-stone-200 text-center",children:h.jsx("p",{className:"text-sm text-stone-500",children:"No active implementation"})})]}),h.jsxs("div",{className:"px-4 sm:px-6 py-6",children:[h.jsx("h2",{className:"text-sm font-semibold text-stone-900 mb-3",children:"Registered Implementations"}),a?h.jsx("div",{className:"bg-white rounded-2xl p-6 border border-stone-200 text-center",children:h.jsx("p",{className:"text-sm text-stone-500",children:"Loading registered implementations"})}):r.length>0?h.jsx("div",{className:"space-y-4",children:r.map((ke,ut)=>h.jsx(kx,{implementation:ke,isExpanded:u===ke.id,onToggle:()=>Pe(ke.id),cardType:"registered",onActivate:()=>sc(ke),isSelectable:$==="selecting-replacement",isSelected:ee===ke.id,onSelect:()=>Et(ke.id)},`${ke.id}-${ut}`))}):h.jsx("div",{className:"bg-white rounded-2xl p-6 border border-stone-200 text-center",children:h.jsx("p",{className:"text-sm text-stone-500",children:"No registered implementations"})})]})]}),$==="selecting-replacement"&&h.jsxs("div",{className:"fixed bottom-24 sm:bottom-28 left-0 right-0 bg-white border-t border-stone-200 p-4 flex gap-3 max-w-4xl mx-auto z-40 shadow-lg",children:[h.jsx("button",{onClick:jn,className:"flex-1 bg-stone-100 text-stone-800 py-3 rounded-xl font-semibold hover:bg-stone-200 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:Mi,disabled:!ee,className:`flex-1 py-3 rounded-xl font-semibold transition-colors ${ee?"bg-orange-500 text-white hover:bg-orange-600":"bg-stone-200 text-stone-400 cursor-not-allowed"}`,children:"Select"})]}),h.jsx(Qr,{isOpen:L,onClose:()=>F(!1),title:"Deactivate Implementation",fullScreen:!0,footer:h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsx("button",{onClick:()=>F(!1),className:"flex-1 bg-stone-100 text-stone-800 py-3 rounded-xl font-semibold hover:bg-stone-200 transition-colors",children:"No"}),h.jsx("button",{onClick:es,className:"flex-1 bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 transition-colors",children:"Yes"})]}),children:h.jsx("p",{className:"text-sm text-stone-700",children:"Do you want to deactivate the current implementation?"})}),h.jsx(Qr,{isOpen:Q,onClose:()=>H(!1),title:"Change Implementation",footer:h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsx("button",{onClick:()=>H(!1),className:"flex-1 bg-stone-100 text-stone-800 py-3 rounded-xl font-semibold hover:bg-stone-200 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:Fi,className:"flex-1 bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 transition-colors",children:"Confirm"})]}),children:h.jsx("p",{className:"text-sm text-stone-700",children:"Do you want to change the active implementation to the selected one?"})}),h.jsxs(Qr,{isOpen:pe,onClose:w==="executing"||w==="auditing"?void 0:rr,title:w==="confirm"?"Activate Implementation":w==="auditing"?"Running audit":w==="audit-result"?"Audit result":w==="executing"?"Activating":w==="success"?"Activation complete":"Activation failed",showCloseButton:w!=="executing"&&w!=="auditing",fullScreen:!0,footer:w==="confirm"?h.jsxs("div",{className:"flex flex-row sm:flex-row gap-3",children:[h.jsx("button",{onClick:rr,className:"flex-1 bg-stone-100 text-stone-800 py-3 rounded-xl font-semibold hover:bg-stone-200 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:dd,className:"flex-1 bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 transition-colors",children:"Confirm"})]}):w==="audit-result"&&P?h.jsxs("div",{className:"flex flex-row sm:flex-row gap-3",children:[h.jsx("button",{onClick:rr,className:"flex-1 bg-stone-100 text-stone-800 py-3 rounded-xl font-semibold hover:bg-stone-200 transition-colors",children:P.allow?"Cancel":"Close"}),P.allow&&h.jsx("button",{onClick:ic,className:"flex-1 bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 transition-colors",children:"Set implementation"})]}):w==="success"?h.jsx("button",{onClick:rr,className:"w-full bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 transition-colors",children:"Confirm"}):w==="error"?h.jsx("button",{onClick:rr,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-semibold hover:bg-stone-700 transition-colors",children:"Try again"}):void 0,children:[w==="confirm"&&j&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-stone-700",children:"Set this implementation as the active one for your Aegis Guard. All new transactions will use this implementation."}),h.jsxs("div",{className:"rounded-xl border border-stone-200 p-4 bg-stone-50",children:[h.jsx("p",{className:"font-medium text-stone-900",children:j.title||"Unnamed"}),h.jsx("p",{className:"text-xs text-stone-500 font-mono mt-1 break-all",children:j.address}),(j.description||j.details)&&h.jsx("p",{className:"text-sm text-stone-600 mt-2",children:j.description||j.details})]}),h.jsx("p",{className:"text-sm text-stone-600",children:"An audit will run first. Then you can confirm to send the transaction. Gas fees apply."})]}),w==="auditing"&&h.jsx("div",{className:"py-12",children:h.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center",children:h.jsx(Ti,{className:"w-10 h-10 text-white animate-pulse"})}),h.jsx("div",{className:"absolute inset-0 w-20 h-20 bg-orange-400 rounded-full animate-ping opacity-20"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Running apply audit"}),h.jsx("p",{className:"text-xs text-stone-600",children:"Please wait. Do not close this window."})]})]})}),w==="audit-result"&&P&&h.jsxs("div",{className:"space-y-5",children:[P.allow?h.jsxs("div",{className:"flex items-center gap-2 p-4 rounded-xl bg-green-50 border border-green-200",children:[h.jsx(xu,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),h.jsx("p",{className:"text-sm font-medium text-green-900",children:"Audit passed. You can proceed to set the implementation."})]}):h.jsxs("div",{className:"flex items-start gap-2 p-4 rounded-xl bg-red-50 border border-red-200",children:[h.jsx(_o,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-semibold text-red-900",children:"Audit did not allow this change"}),h.jsx("p",{className:"text-xs text-red-800 mt-1",children:"Review the results below and close to exit."})]})]}),h.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[h.jsxs("div",{className:"rounded-xl border border-stone-200 p-4 bg-stone-50",children:[h.jsx("h4",{className:"text-xs font-semibold text-stone-500 uppercase tracking-wider mb-2",children:"New implementation audit"}),h.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-semibold ${P.newImplAudit.label==="SAFE"?"bg-green-100 text-green-800":P.newImplAudit.label==="LOW_RISK"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:P.newImplAudit.label}),h.jsxs("p",{className:"text-xs text-stone-600 mt-2",children:["Confidence: ",(P.newImplAudit.confidence*100).toFixed(0),"%"]}),P.newImplAudit.summary&&h.jsx("p",{className:"text-sm text-stone-700 mt-2",children:P.newImplAudit.summary}),P.newImplReasonsText&&h.jsx("p",{className:"text-xs text-stone-600 mt-2 whitespace-pre-wrap",children:P.newImplReasonsText})]}),h.jsxs("div",{className:"rounded-xl border border-stone-200 p-4 bg-stone-50",children:[h.jsx("h4",{className:"text-xs font-semibold text-stone-500 uppercase tracking-wider mb-2",children:"Swap audit"}),h.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-semibold ${P.swapAudit.label==="SAFE"?"bg-green-100 text-green-800":P.swapAudit.label==="LOW_RISK"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:P.swapAudit.label}),h.jsxs("p",{className:"text-xs text-stone-600 mt-2",children:["Confidence: ",(P.swapAudit.confidence*100).toFixed(0),"%"]}),P.swapAudit.summary&&h.jsx("p",{className:"text-sm text-stone-700 mt-2",children:P.swapAudit.summary}),P.swapReasonsText&&h.jsx("p",{className:"text-xs text-stone-600 mt-2 whitespace-pre-wrap",children:P.swapReasonsText})]})]})]}),w==="executing"&&h.jsx("div",{className:"py-12",children:h.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center",children:h.jsx(Ti,{className:"w-10 h-10 text-white animate-pulse"})}),h.jsx("div",{className:"absolute inset-0 w-20 h-20 bg-orange-400 rounded-full animate-ping opacity-20"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Setting active implementation"}),h.jsx("p",{className:"text-xs text-stone-600",children:"Please wait. Do not close this window."})]})]})}),w==="success"&&N&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center justify-center py-4",children:h.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:h.jsx(xu,{className:"w-8 h-8 text-green-600"})})}),h.jsx("p",{className:"text-sm text-stone-700 leading-relaxed",children:"The implementation is now active. Delegated executions will use this implementation."}),h.jsxs("p",{className:"text-xs text-stone-500 font-mono break-all",children:["Tx: ",(ts=Yt()??Ft[0])!=null&&ts.blockExplorer?h.jsx("a",{href:`${(Yt()??Ft[0]).blockExplorer.replace(/\/$/,"")}/tx/${N}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:underline",children:N}):N]})]}),w==="error"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center justify-center py-4",children:h.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:h.jsx(tg,{className:"w-8 h-8 text-red-600"})})}),h.jsx("p",{className:"text-sm text-stone-700 leading-relaxed font-medium",children:"Something went wrong."}),h.jsx("p",{className:"text-sm text-stone-600 leading-relaxed whitespace-pre-wrap",children:k??"Unknown error"})]})]}),h.jsx(Qr,{isOpen:te,title:"Running AI Audit",showCloseButton:!1,fullScreen:!0,children:h.jsx("div",{className:"py-12",children:h.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center",children:h.jsx(Ti,{className:"w-10 h-10 text-white animate-pulse"})}),h.jsx("div",{className:"absolute inset-0 w-20 h-20 bg-orange-400 rounded-full animate-ping opacity-20"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Analyzing implementation behavior and risks"}),h.jsx("p",{className:"text-xs text-stone-600",children:"This may take a few seconds"})]})]})})}),h.jsx(DP,{isOpen:re,onClose:()=>{ce(!1),Z(null),ge(null)},onRegister:_e,diagnosis:ye??Ce,advancedMode:!1})]})}const Mg=D.createContext({});function Fg(n){const e=D.useRef(null);return e.current===null&&(e.current=n()),e.current}const rA=typeof window<"u",sA=rA?D.useLayoutEffect:D.useEffect,eh=D.createContext(null);function Ug(n,e){n.indexOf(e)===-1&&n.push(e)}function _g(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const qr=(n,e,t)=>t>e?e:t<n?n:t;let Vg=()=>{};const Bs={},iA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function oA(n){return typeof n=="object"&&n!==null}const aA=n=>/^0[^.\s]+$/u.test(n);function zg(n){let e;return()=>(e===void 0&&(e=n()),e)}const er=n=>n,UP=(n,e)=>t=>e(n(t)),ad=(...n)=>n.reduce(UP),Iu=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Hg{constructor(){this.subscriptions=[]}add(e){return Ug(this.subscriptions,e),()=>_g(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yr=n=>n*1e3,qn=n=>n/1e3;function lA(n,e){return e?n*(1e3/e):0}const cA=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,_P=1e-7,VP=12;function zP(n,e,t,r,i){let a,l,u=0;do l=e+(t-e)/2,a=cA(l,r,i)-n,a>0?t=l:e=l;while(Math.abs(a)>_P&&++u<VP);return l}function ld(n,e,t,r){if(n===e&&t===r)return er;const i=a=>zP(a,0,1,n,t);return a=>a===0||a===1?a:cA(i(a),e,r)}const uA=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,dA=n=>e=>1-n(1-e),fA=ld(.33,1.53,.69,.99),Gg=dA(fA),hA=uA(Gg),pA=n=>(n*=2)<1?.5*Gg(n):.5*(2-Math.pow(2,-10*(n-1))),Kg=n=>1-Math.sin(Math.acos(n)),xA=dA(Kg),mA=uA(Kg),HP=ld(.42,0,1,1),GP=ld(0,0,.58,1),gA=ld(.42,0,.58,1),KP=n=>Array.isArray(n)&&typeof n[0]!="number",yA=n=>Array.isArray(n)&&typeof n[0]=="number",WP={linear:er,easeIn:HP,easeInOut:gA,easeOut:GP,circIn:Kg,circInOut:mA,circOut:xA,backIn:Gg,backInOut:hA,backOut:fA,anticipate:pA},QP=n=>typeof n=="string",H2=n=>{if(yA(n)){Vg(n.length===4);const[e,t,r,i]=n;return ld(e,t,r,i)}else if(QP(n))return WP[n];return n},Bf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $P(n,e){let t=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(m){l.has(m)&&(p.schedule(m),n()),m(u)}const p={schedule:(m,g=!1,b=!1)=>{const E=b&&i?t:r;return g&&l.add(m),E.has(m)||E.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(u=m,i){a=!0;return}i=!0,[t,r]=[r,t],t.forEach(f),t.clear(),i=!1,a&&(a=!1,p.process(m))}};return p}const JP=40;function bA(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=Bf.reduce((P,V)=>(P[V]=$P(a),P),{}),{setup:u,read:f,resolveKeyframes:p,preUpdate:m,update:g,preRender:b,render:w,postRender:E}=l,N=()=>{const P=Bs.useManualTiming?i.timestamp:performance.now();t=!1,Bs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(P-i.timestamp,JP),1)),i.timestamp=P,i.isProcessing=!0,u.process(i),f.process(i),p.process(i),m.process(i),g.process(i),b.process(i),w.process(i),E.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(N))},S=()=>{t=!0,r=!0,i.isProcessing||n(N)};return{schedule:Bf.reduce((P,V)=>{const L=l[V];return P[V]=(F,Q=!1,H=!1)=>(t||S(),L.schedule(F,Q,H)),P},{}),cancel:P=>{for(let V=0;V<Bf.length;V++)l[Bf[V]].cancel(P)},state:i,steps:l}}const{schedule:Ye,cancel:Ri,state:Dt,steps:Cx}=bA(typeof requestAnimationFrame<"u"?requestAnimationFrame:er,!0);let n0;function YP(){n0=void 0}const sn={now:()=>(n0===void 0&&sn.set(Dt.isProcessing||Bs.useManualTiming?Dt.timestamp:performance.now()),n0),set:n=>{n0=n,queueMicrotask(YP)}},wA=n=>e=>typeof e=="string"&&e.startsWith(n),vA=wA("--"),XP=wA("var(--"),Wg=n=>XP(n)?ZP.test(n.split("/*")[0].trim()):!1,ZP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function G2(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const tc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ru={...tc,transform:n=>qr(0,1,n)},Df={...tc,default:1},uu=n=>Math.round(n*1e5)/1e5,Qg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qP(n){return n==null}const eI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$g=(n,e)=>t=>!!(typeof t=="string"&&eI.test(t)&&t.startsWith(n)||e&&!qP(t)&&Object.prototype.hasOwnProperty.call(t,e)),AA=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,a,l,u]=r.match(Qg);return{[n]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},tI=n=>qr(0,255,n),Tx={...tc,transform:n=>Math.round(tI(n))},ho={test:$g("rgb","red"),parse:AA("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Tx.transform(n)+", "+Tx.transform(e)+", "+Tx.transform(t)+", "+uu(Ru.transform(r))+")"};function nI(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Im={test:$g("#"),parse:nI,transform:ho.transform},cd=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ai=cd("deg"),Xr=cd("%"),we=cd("px"),rI=cd("vh"),sI=cd("vw"),K2={...Xr,parse:n=>Xr.parse(n)/100,transform:n=>Xr.transform(n*100)},Oa={test:$g("hsl","hue"),parse:AA("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Xr.transform(uu(e))+", "+Xr.transform(uu(t))+", "+uu(Ru.transform(r))+")"},wt={test:n=>ho.test(n)||Im.test(n)||Oa.test(n),parse:n=>ho.test(n)?ho.parse(n):Oa.test(n)?Oa.parse(n):Im.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ho.transform(n):Oa.transform(n),getAnimatableNone:n=>{const e=wt.parse(n);return e.alpha=0,wt.transform(e)}},iI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oI(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Qg))==null?void 0:e.length)||0)+(((t=n.match(iI))==null?void 0:t.length)||0)>0}const NA="number",EA="color",aI="var",lI="var(",W2="${}",cI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ju(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let a=0;const u=e.replace(cI,f=>(wt.test(f)?(r.color.push(a),i.push(EA),t.push(wt.parse(f))):f.startsWith(lI)?(r.var.push(a),i.push(aI),t.push(f)):(r.number.push(a),i.push(NA),t.push(parseFloat(f))),++a,W2)).split(W2);return{values:t,split:u,indexes:r,types:i}}function SA(n){return ju(n).values}function kA(n){const{split:e,types:t}=ju(n),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const u=t[l];u===NA?a+=uu(i[l]):u===EA?a+=wt.transform(i[l]):a+=i[l]}return a}}const uI=n=>typeof n=="number"?0:wt.test(n)?wt.getAnimatableNone(n):n;function dI(n){const e=SA(n);return kA(n)(e.map(uI))}const ji={test:oI,parse:SA,createTransformer:kA,getAnimatableNone:dI};function Px(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function fI({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,a=0,l=0;if(!e)i=a=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,f=2*t-u;i=Px(f,u,n+1/3),a=Px(f,u,n),l=Px(f,u,n-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function v0(n,e){return t=>t>0?e:n}const at=(n,e,t)=>n+(e-n)*t,Ix=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},hI=[Im,ho,Oa],pI=n=>hI.find(e=>e.test(n));function Q2(n){const e=pI(n);if(!e)return!1;let t=e.parse(n);return e===Oa&&(t=fI(t)),t}const $2=(n,e)=>{const t=Q2(n),r=Q2(e);if(!t||!r)return v0(n,e);const i={...t};return a=>(i.red=Ix(t.red,r.red,a),i.green=Ix(t.green,r.green,a),i.blue=Ix(t.blue,r.blue,a),i.alpha=at(t.alpha,r.alpha,a),ho.transform(i))},Rm=new Set(["none","hidden"]);function xI(n,e){return Rm.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function mI(n,e){return t=>at(n,e,t)}function Jg(n){return typeof n=="number"?mI:typeof n=="string"?Wg(n)?v0:wt.test(n)?$2:bI:Array.isArray(n)?CA:typeof n=="object"?wt.test(n)?$2:gI:v0}function CA(n,e){const t=[...n],r=t.length,i=n.map((a,l)=>Jg(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=i[l](a);return t}}function gI(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=Jg(n[i])(n[i],e[i]));return i=>{for(const a in r)t[a]=r[a](i);return t}}function yI(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=n.indexes[a][r[a]],u=n.values[l]??0;t[i]=u,r[a]++}return t}const bI=(n,e)=>{const t=ji.createTransformer(e),r=ju(n),i=ju(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Rm.has(n)&&!i.values.length||Rm.has(e)&&!r.values.length?xI(n,e):ad(CA(yI(r,i),i.values),t):v0(n,e)};function TA(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?at(n,e,t):Jg(n)(n,e)}const wI=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Ye.update(e,t),stop:()=>Ri(e),now:()=>Dt.isProcessing?Dt.timestamp:sn.now()}},PA=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)r+=Math.round(n(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},A0=2e4;function Yg(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<A0;)e+=t,r=n.next(e);return e>=A0?1/0:e}function vI(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(Yg(r),A0);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:qn(i)}}const AI=5;function IA(n,e,t){const r=Math.max(e-AI,0);return lA(t-n(r),e-r)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rx=.001;function NI({duration:n=ft.duration,bounce:e=ft.bounce,velocity:t=ft.velocity,mass:r=ft.mass}){let i,a,l=1-e;l=qr(ft.minDamping,ft.maxDamping,l),n=qr(ft.minDuration,ft.maxDuration,qn(n)),l<1?(i=p=>{const m=p*l,g=m*n,b=m-t,w=jm(p,l),E=Math.exp(-g);return Rx-b/w*E},a=p=>{const g=p*l*n,b=g*t+t,w=Math.pow(l,2)*Math.pow(p,2)*n,E=Math.exp(-g),N=jm(Math.pow(p,2),l);return(-i(p)+Rx>0?-1:1)*((b-w)*E)/N}):(i=p=>{const m=Math.exp(-p*n),g=(p-t)*n+1;return-Rx+m*g},a=p=>{const m=Math.exp(-p*n),g=(t-p)*(n*n);return m*g});const u=5/n,f=SI(i,a,u);if(n=Yr(n),isNaN(f))return{stiffness:ft.stiffness,damping:ft.damping,duration:n};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:n}}}const EI=12;function SI(n,e,t){let r=t;for(let i=1;i<EI;i++)r=r-n(r)/e(r);return r}function jm(n,e){return n*Math.sqrt(1-e*e)}const kI=["duration","bounce"],CI=["stiffness","damping","mass"];function J2(n,e){return e.some(t=>n[t]!==void 0)}function TI(n){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...n};if(!J2(n,CI)&&J2(n,kI))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,a=2*qr(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:ft.mass,stiffness:i,damping:a}}else{const t=NI(n);e={...e,...t,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function N0(n=ft.visualDuration,e=ft.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:p,mass:m,duration:g,velocity:b,isResolvedFromDuration:w}=TI({...t,velocity:-qn(t.velocity||0)}),E=b||0,N=p/(2*Math.sqrt(f*m)),S=l-a,k=qn(Math.sqrt(f/m)),I=Math.abs(S)<5;r||(r=I?ft.restSpeed.granular:ft.restSpeed.default),i||(i=I?ft.restDelta.granular:ft.restDelta.default);let P;if(N<1){const L=jm(k,N);P=F=>{const Q=Math.exp(-N*k*F);return l-Q*((E+N*k*S)/L*Math.sin(L*F)+S*Math.cos(L*F))}}else if(N===1)P=L=>l-Math.exp(-k*L)*(S+(E+k*S)*L);else{const L=k*Math.sqrt(N*N-1);P=F=>{const Q=Math.exp(-N*k*F),H=Math.min(L*F,300);return l-Q*((E+N*k*S)*Math.sinh(H)+L*S*Math.cosh(H))/L}}const V={calculatedDuration:w&&g||null,next:L=>{const F=P(L);if(w)u.done=L>=g;else{let Q=L===0?E:0;N<1&&(Q=L===0?Yr(E):IA(P,L,F));const H=Math.abs(Q)<=r,te=Math.abs(l-F)<=i;u.done=H&&te}return u.value=u.done?l:F,u},toString:()=>{const L=Math.min(Yg(V),A0),F=PA(Q=>V.next(L*Q).value,L,30);return L+"ms "+F},toTransition:()=>{}};return V}N0.applyToOptions=n=>{const e=vI(n,100,N0);return n.ease=e.ease,n.duration=Yr(e.duration),n.type="keyframes",n};function Om({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:f,restDelta:p=.5,restSpeed:m}){const g=n[0],b={done:!1,value:g},w=H=>u!==void 0&&H<u||f!==void 0&&H>f,E=H=>u===void 0?f:f===void 0||Math.abs(u-H)<Math.abs(f-H)?u:f;let N=t*e;const S=g+N,k=l===void 0?S:l(S);k!==S&&(N=k-g);const I=H=>-N*Math.exp(-H/r),P=H=>k+I(H),V=H=>{const te=I(H),Y=P(H);b.done=Math.abs(te)<=p,b.value=b.done?k:Y};let L,F;const Q=H=>{w(b.value)&&(L=H,F=N0({keyframes:[b.value,E(b.value)],velocity:IA(P,H,b.value),damping:i,stiffness:a,restDelta:p,restSpeed:m}))};return Q(0),{calculatedDuration:null,next:H=>{let te=!1;return!F&&L===void 0&&(te=!0,V(H),Q(H)),L!==void 0&&H>=L?F.next(H-L):(!te&&V(H),b)}}}function PI(n,e,t){const r=[],i=t||Bs.mix||TA,a=n.length-1;for(let l=0;l<a;l++){let u=i(n[l],n[l+1]);if(e){const f=Array.isArray(e)?e[l]||er:e;u=ad(f,u)}r.push(u)}return r}function II(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const a=n.length;if(Vg(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=PI(e,r,i),f=u.length,p=m=>{if(l&&m<n[0])return e[0];let g=0;if(f>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const b=Iu(n[g],n[g+1],m);return u[g](b)};return t?m=>p(qr(n[0],n[a-1],m)):p}function RI(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Iu(0,e,r);n.push(at(t,1,i))}}function jI(n){const e=[0];return RI(e,n.length-1),e}function OI(n,e){return n.map(t=>t*e)}function LI(n,e){return n.map(()=>e||gA).splice(0,n.length-1)}function du({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=KP(r)?r.map(H2):H2(r),a={done:!1,value:e[0]},l=OI(t&&t.length===e.length?t:jI(e),n),u=II(l,e,{ease:Array.isArray(i)?i:LI(e,i)});return{calculatedDuration:n,next:f=>(a.value=u(f),a.done=f>=n,a)}}const BI=n=>n!==null;function Xg(n,{repeat:e,repeatType:t="loop"},r,i=1){const a=n.filter(BI),u=i<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const DI={decay:Om,inertia:Om,tween:du,keyframes:du,spring:N0};function RA(n){typeof n.type=="string"&&(n.type=DI[n.type])}class Zg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const MI=n=>n/100;class qg extends Zg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:t}=this.options;t&&t.updatedAt!==sn.now()&&this.tick(sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;RA(e);const{type:t=du,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const f=t||du;f!==du&&typeof u[0]!="number"&&(this.mixKeyframes=ad(MI,TA(u[0],u[1])),u=[0,100]);const p=f({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Yg(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:m,repeat:g,repeatType:b,repeatDelay:w,type:E,onUpdate:N,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const k=this.currentTime-p*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?k<0:k>i;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let P=this.currentTime,V=r;if(g){const H=Math.min(this.currentTime,i)/u;let te=Math.floor(H),Y=H%1;!Y&&H>=1&&(Y=1),Y===1&&te--,te=Math.min(te,g+1),!!(te%2)&&(b==="reverse"?(Y=1-Y,w&&(Y-=w/u)):b==="mirror"&&(V=l)),P=qr(0,1,Y)*u}const L=I?{done:!1,value:m[0]}:V.next(P);a&&(L.value=a(L.value));let{done:F}=L;!I&&f!==null&&(F=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const Q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return Q&&E!==Om&&(L.value=Xg(m,this.options,S,this.speed)),N&&N(L.value),Q&&this.finish(),L}then(e,t){return this.finished.then(e,t)}get duration(){return qn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+qn(e)}get time(){return qn(this.currentTime)}set time(e){var t;e=Yr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(sn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=qn(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=wI,startTime:t}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function FI(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const po=n=>n*180/Math.PI,Lm=n=>{const e=po(Math.atan2(n[1],n[0]));return Bm(e)},UI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Lm,rotateZ:Lm,skewX:n=>po(Math.atan(n[1])),skewY:n=>po(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Bm=n=>(n=n%360,n<0&&(n+=360),n),Y2=Lm,X2=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Z2=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),_I={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:X2,scaleY:Z2,scale:n=>(X2(n)+Z2(n))/2,rotateX:n=>Bm(po(Math.atan2(n[6],n[5]))),rotateY:n=>Bm(po(Math.atan2(-n[2],n[0]))),rotateZ:Y2,rotate:Y2,skewX:n=>po(Math.atan(n[4])),skewY:n=>po(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Dm(n){return n.includes("scale")?1:0}function Mm(n,e){if(!n||n==="none")return Dm(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=_I,i=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=UI,i=u}if(!i)return Dm(e);const a=r[e],l=i[1].split(",").map(zI);return typeof a=="function"?a(l):l[a]}const VI=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Mm(t,e)};function zI(n){return parseFloat(n.trim())}const nc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rc=new Set(nc),q2=n=>n===tc||n===we,HI=new Set(["x","y","z"]),GI=nc.filter(n=>!HI.has(n));function KI(n){const e=[];return GI.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Ci={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Mm(e,"x"),y:(n,{transform:e})=>Mm(e,"y")};Ci.translateX=Ci.x;Ci.translateY=Ci.y;const Uo=new Set;let Fm=!1,Um=!1,_m=!1;function jA(){if(Um){const n=Array.from(Uo).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=KI(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([a,l])=>{var u;(u=r.getValue(a))==null||u.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Um=!1,Fm=!1,Uo.forEach(n=>n.complete(_m)),Uo.clear()}function OA(){Uo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Um=!0)})}function WI(){_m=!0,OA(),jA(),_m=!1}class ey{constructor(e,t,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Uo.add(this),Fm||(Fm=!0,Ye.read(OA),Ye.resolveKeyframes(jA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const u=r.readValue(t,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}FI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Uo.delete(this)}cancel(){this.state==="scheduled"&&(Uo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const QI=n=>n.startsWith("--");function $I(n,e,t){QI(e)?n.style.setProperty(e,t):n.style[e]=t}const JI=zg(()=>window.ScrollTimeline!==void 0),YI={};function XI(n,e){const t=zg(n);return()=>YI[e]??t()}const LA=XI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ou=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,ev={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ou([0,.65,.55,1]),circOut:ou([.55,0,1,.45]),backIn:ou([.31,.01,.66,-.59]),backOut:ou([.33,1.53,.69,.99])};function BA(n,e){if(n)return typeof n=="function"?LA()?PA(n,e):"ease-out":yA(n)?ou(n):Array.isArray(n)?n.map(t=>BA(t,e)||ev.easeOut):ev[n]}function ZI(n,e,t,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:f}={},p=void 0){const m={[e]:t};f&&(m.offset=f);const g=BA(u,i);Array.isArray(g)&&(m.easing=g);const b={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),n.animate(m,b)}function DA(n){return typeof n=="function"&&"applyToOptions"in n}function qI({type:n,...e}){return DA(n)&&LA()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class eR extends Zg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Vg(typeof e.type!="string");const p=qI(e);this.animation=ZI(t,r,i,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Xg(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):$I(t,r,m),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r,i;const e=(t=this.options)==null?void 0:t.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((i=(r=this.animation).commitStyles)==null||i.call(r))}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return qn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+qn(e)}get time(){return qn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Yr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&JI()?(this.animation.timeline=e,er):t(this)}}const MA={anticipate:pA,backInOut:hA,circInOut:mA};function tR(n){return n in MA}function nR(n){typeof n.ease=="string"&&tR(n.ease)&&(n.ease=MA[n.ease])}const jx=10;class rR extends eR{constructor(e){nR(e),RA(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const u=new qg({...l,autoplay:!1}),f=Math.max(jx,sn.now()-this.startTime),p=qr(0,jx,f-jx);t.setWithVelocity(u.sample(Math.max(0,f-p)).value,u.sample(f).value,p),u.stop()}}const tv=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ji.test(n)||n==="0")&&!n.startsWith("url("));function sR(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function iR(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=tv(i,e),u=tv(a,e);return!l||!u?!1:sR(n)||(t==="spring"||DA(t))&&r}function Vm(n){n.duration=0,n.type="keyframes"}const oR=new Set(["opacity","clipPath","filter","transform"]),aR=zg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lR(n){var m;const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:a,type:l}=n;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return aR()&&t&&oR.has(t)&&(t!=="transform"||!p)&&!f&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const cR=40;class uR extends Zg{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:f,motionValue:p,element:m,...g}){var E;super(),this.stop=()=>{var N,S;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=sn.now();const b={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:m,...g},w=(m==null?void 0:m.KeyframeResolver)||ey;this.keyframeResolver=new w(u,(N,S,k)=>this.onKeyframesResolved(N,S,b,!k),f,p,m),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,t,r,i){var S,k;this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:f,isHandoff:p,onUpdate:m}=r;this.resolvedAt=sn.now(),iR(e,a,l,u)||((Bs.instantAnimations||!f)&&(m==null||m(Xg(e,r,t))),e[0]=e[e.length-1],Vm(r),r.repeat=0);const b={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>cR?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},w=!p&&lR(b),E=(k=(S=b.motionValue)==null?void 0:S.owner)==null?void 0:k.current,N=w?new rR({...b,element:E}):new qg(b);N.finished.then(()=>{this.notifyFinished()}).catch(er),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),WI()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function FA(n,e,t,r=0,i=1){const a=Array.from(n).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),l=n.size,u=(l-1)*r;return typeof t=="function"?t(a,l):i===1?a*r:u-a*r}const dR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fR(n){const e=dR.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function UA(n,e,t=1){const[r,i]=fR(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return iA(l)?parseFloat(l):l}return Wg(i)?UA(i,e,t+1):i}const hR={type:"spring",stiffness:500,damping:25,restSpeed:10},pR=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),xR={type:"keyframes",duration:.8},mR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gR=(n,{keyframes:e})=>e.length>2?xR:rc.has(n)?n.startsWith("scale")?pR(e[1]):hR:mR,yR=n=>n!==null;function bR(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(yR),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[a]}function _A(n,e){if(n!=null&&n.inherit&&e){const{inherit:t,...r}=n;return{...e,...r}}return n}function ty(n,e){const t=(n==null?void 0:n[e])??(n==null?void 0:n.default)??n;return t!==n?_A(t,n):t}function wR({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:u,from:f,elapsed:p,...m}){return!!Object.keys(m).length}const ny=(n,e,t,r={},i,a)=>l=>{const u=ty(r,n)||{},f=u.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Yr(f);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:b=>{e.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:a?void 0:i};wR(u)||Object.assign(m,gR(n,m)),m.duration&&(m.duration=Yr(m.duration)),m.repeatDelay&&(m.repeatDelay=Yr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Vm(m),m.delay===0&&(g=!0)),(Bs.instantAnimations||Bs.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(g=!0,Vm(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!a&&e.get()!==void 0){const b=bR(m.keyframes,u);if(b!==void 0){Ye.update(()=>{m.onUpdate(b),m.onComplete()});return}}return u.isSync?new qg(m):new uR(m)};function nv(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function ry(n,e,t,r){if(typeof e=="function"){const[i,a]=nv(r);e=e(t!==void 0?t:n.custom,i,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,a]=nv(r);e=e(t!==void 0?t:n.custom,i,a)}return e}function Ka(n,e,t){const r=n.getProps();return ry(r,e,t!==void 0?t:r.custom,n)}const VA=new Set(["width","height","top","left","right","bottom",...nc]),rv=30,vR=n=>!isNaN(parseFloat(n));class AR{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=sn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=sn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vR(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Hg);const r=this.events[e].add(t);return e==="change"?()=>{r(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rv)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,rv);return lA(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wl(n,e){return new AR(n,e)}const zm=n=>Array.isArray(n);function NR(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Wl(t))}function ER(n){return zm(n)?n[n.length-1]||0:n}function SR(n,e){const t=Ka(n,e);let{transitionEnd:r={},transition:i={},...a}=t||{};a={...a,...r};for(const l in a){const u=ER(a[l]);NR(n,l,u)}}const Xt=n=>!!(n&&n.getVelocity);function kR(n){return!!(Xt(n)&&n.add)}function Hm(n,e){const t=n.getValue("willChange");if(kR(t))return t.add(e);if(!t&&Bs.WillChange){const r=new Bs.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function sy(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const CR="framerAppearId",zA="data-"+sy(CR);function HA(n){return n.props[zA]}function TR({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function GA(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:a,transitionEnd:l,...u}=e;const f=n.getDefaultTransition();a=a?_A(a,f):f;const p=a==null?void 0:a.reduceMotion;r&&(a=r);const m=[],g=i&&n.animationState&&n.animationState.getState()[i];for(const b in u){const w=n.getValue(b,n.latestValues[b]??null),E=u[b];if(E===void 0||g&&TR(g,b))continue;const N={delay:t,...ty(a||{},b)},S=w.get();if(S!==void 0&&!w.isAnimating&&!Array.isArray(E)&&E===S&&!N.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const V=HA(n);if(V){const L=window.MotionHandoffAnimation(V,b,Ye);L!==null&&(N.startTime=L,k=!0)}}Hm(n,b);const I=p??n.shouldReduceMotion;w.start(ny(b,w,E,I&&VA.has(b)?{type:!1}:N,n,k));const P=w.animation;P&&m.push(P)}if(l){const b=()=>Ye.update(()=>{l&&SR(n,l)});m.length?Promise.all(m).then(b):b()}return m}function Gm(n,e,t={}){var f;const r=Ka(n,e,t.type==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const a=r?()=>Promise.all(GA(n,r,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:b}=i;return PR(n,e,p,m,g,b,t)}:()=>Promise.resolve(),{when:u}=i;if(u){const[p,m]=u==="beforeChildren"?[a,l]:[l,a];return p().then(()=>m())}else return Promise.all([a(),l(t.delay)])}function PR(n,e,t=0,r=0,i=0,a=1,l){const u=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),u.push(Gm(f,e,{...l,delay:t+(typeof r=="function"?0:r)+FA(n.variantChildren,f,r,i,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function IR(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Gm(n,a,t));r=Promise.all(i)}else if(typeof e=="string")r=Gm(n,e,t);else{const i=typeof e=="function"?Ka(n,e,t.custom):e;r=Promise.all(GA(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const RR={test:n=>n==="auto",parse:n=>n},KA=n=>e=>e.test(n),WA=[tc,we,Xr,ai,sI,rI,RR],sv=n=>WA.find(KA(n));function jR(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||aA(n):!0}const OR=new Set(["brightness","contrast","saturate","opacity"]);function LR(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Qg)||[];if(!r)return n;const i=t.replace(r,"");let a=OR.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+i+")"}const BR=/\b([a-z-]*)\(.*?\)/gu,Km={...ji,getAnimatableNone:n=>{const e=n.match(BR);return e?e.map(LR).join(" "):n}},iv={...tc,transform:Math.round},DR={rotate:ai,rotateX:ai,rotateY:ai,rotateZ:ai,scale:Df,scaleX:Df,scaleY:Df,scaleZ:Df,skew:ai,skewX:ai,skewY:ai,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Ru,originX:K2,originY:K2,originZ:we},iy={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,inset:we,insetBlock:we,insetBlockStart:we,insetBlockEnd:we,insetInline:we,insetInlineStart:we,insetInlineEnd:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,paddingBlock:we,paddingBlockStart:we,paddingBlockEnd:we,paddingInline:we,paddingInlineStart:we,paddingInlineEnd:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,marginBlock:we,marginBlockStart:we,marginBlockEnd:we,marginInline:we,marginInlineStart:we,marginInlineEnd:we,fontSize:we,backgroundPositionX:we,backgroundPositionY:we,...DR,zIndex:iv,fillOpacity:Ru,strokeOpacity:Ru,numOctaves:iv},MR={...iy,color:wt,backgroundColor:wt,outlineColor:wt,fill:wt,stroke:wt,borderColor:wt,borderTopColor:wt,borderRightColor:wt,borderBottomColor:wt,borderLeftColor:wt,filter:Km,WebkitFilter:Km},QA=n=>MR[n];function $A(n,e){let t=QA(n);return t!==Km&&(t=ji),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const FR=new Set(["auto","none","0"]);function UR(n,e,t){let r=0,i;for(;r<n.length&&!i;){const a=n[r];typeof a=="string"&&!FR.has(a)&&ju(a).values.length&&(i=n[r]),r++}if(i&&t)for(const a of e)n[a]=$A(t,i)}class _R extends ey{constructor(e,t,r,i,a){super(e,t,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Wg(g))){const b=UA(g,t.current);b!==void 0&&(e[m]=b),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!VA.has(r)||e.length!==2)return;const[i,a]=e,l=sv(i),u=sv(a),f=G2(i),p=G2(a);if(f!==p&&Ci[r]){this.needsMeasurement=!0;return}if(l!==u)if(q2(l)&&q2(u))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Ci[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||jR(e[i]))&&r.push(i);r.length&&UR(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ci[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=Ci[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function JA(n,e,t){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n).filter(r=>r!=null)}const YA=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Wm(n){return oA(n)&&"offsetHeight"in n}const{schedule:oy}=bA(queueMicrotask,!1),fr={x:!1,y:!1};function XA(){return fr.x||fr.y}function VR(n){return n==="x"||n==="y"?fr[n]?null:(fr[n]=!0,()=>{fr[n]=!1}):fr.x||fr.y?null:(fr.x=fr.y=!0,()=>{fr.x=fr.y=!1})}function ZA(n,e){const t=JA(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function zR(n){return!(n.pointerType==="touch"||XA())}function HR(n,e,t={}){const[r,i,a]=ZA(n,t);return r.forEach(l=>{let u=!1,f=!1,p;const m=()=>{l.removeEventListener("pointerleave",E)},g=S=>{p&&(p(S),p=void 0),m()},b=S=>{u=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),f&&(f=!1,g(S))},w=()=>{u=!0,window.addEventListener("pointerup",b,i),window.addEventListener("pointercancel",b,i)},E=S=>{if(S.pointerType!=="touch"){if(u){f=!0;return}g(S)}},N=S=>{if(!zR(S))return;f=!1;const k=e(l,S);typeof k=="function"&&(p=k,l.addEventListener("pointerleave",E,i))};l.addEventListener("pointerenter",N,i),l.addEventListener("pointerdown",w,i)}),a}const qA=(n,e)=>e?n===e?!0:qA(n,e.parentElement):!1,ay=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,GR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KR(n){return GR.has(n.tagName)||n.isContentEditable===!0}const WR=new Set(["INPUT","SELECT","TEXTAREA"]);function QR(n){return WR.has(n.tagName)||n.isContentEditable===!0}const r0=new WeakSet;function ov(n){return e=>{e.key==="Enter"&&n(e)}}function Ox(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $R=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=ov(()=>{if(r0.has(t))return;Ox(t,"down");const i=ov(()=>{Ox(t,"up")}),a=()=>Ox(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function av(n){return ay(n)&&!XA()}const lv=new WeakSet;function JR(n,e,t={}){const[r,i,a]=ZA(n,t),l=u=>{const f=u.currentTarget;if(!av(u)||lv.has(u))return;r0.add(f),t.stopPropagation&&lv.add(u);const p=e(f,u),m=(w,E)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),r0.has(f)&&r0.delete(f),av(w)&&typeof p=="function"&&p(w,{success:E})},g=w=>{m(w,f===window||f===document||t.useGlobalTarget||qA(f,w.target))},b=w=>{m(w,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",b,i)};return r.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),Wm(u)&&(u.addEventListener("focus",p=>$R(p,i)),!KR(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function ly(n){return oA(n)&&"ownerSVGElement"in n}const s0=new WeakMap;let li;const e5=(n,e,t)=>(r,i)=>i&&i[0]?i[0][n+"Size"]:ly(r)&&"getBBox"in r?r.getBBox()[e]:r[t],YR=e5("inline","width","offsetWidth"),XR=e5("block","height","offsetHeight");function ZR({target:n,borderBoxSize:e}){var t;(t=s0.get(n))==null||t.forEach(r=>{r(n,{get width(){return YR(n,e)},get height(){return XR(n,e)}})})}function qR(n){n.forEach(ZR)}function ej(){typeof ResizeObserver>"u"||(li=new ResizeObserver(qR))}function tj(n,e){li||ej();const t=JA(n);return t.forEach(r=>{let i=s0.get(r);i||(i=new Set,s0.set(r,i)),i.add(e),li==null||li.observe(r)}),()=>{t.forEach(r=>{const i=s0.get(r);i==null||i.delete(e),i!=null&&i.size||li==null||li.unobserve(r)})}}const i0=new Set;let La;function nj(){La=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};i0.forEach(e=>e(n))},window.addEventListener("resize",La)}function rj(n){return i0.add(n),La||nj(),()=>{i0.delete(n),!i0.size&&typeof La=="function"&&(window.removeEventListener("resize",La),La=void 0)}}function cv(n,e){return typeof n=="function"?rj(n):tj(n,e)}function sj(n){return ly(n)&&n.tagName==="svg"}const ij=[...WA,wt,ji],oj=n=>ij.find(KA(n)),uv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ba=()=>({x:uv(),y:uv()}),dv=()=>({min:0,max:0}),Nt=()=>({x:dv(),y:dv()}),Qm={current:null},t5={current:!1},aj=typeof window<"u";function lj(){if(t5.current=!0,!!aj)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qm.current=n.matches;n.addEventListener("change",e),e()}else Qm.current=!1}const cj=new WeakMap;function th(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ou(n){return typeof n=="string"||Array.isArray(n)}const cy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uy=["initial",...cy];function nh(n){return th(n.animate)||uy.some(e=>Ou(n[e]))}function n5(n){return!!(nh(n)||n.variants)}function uj(n,e,t){for(const r in e){const i=e[r],a=t[r];if(Xt(i))n.addValue(r,i);else if(Xt(a))n.addValue(r,Wl(i,{owner:n}));else if(a!==i)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=n.getStaticValue(r);n.addValue(r,Wl(l!==void 0?l:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const fv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let E0={};function r5(n){E0=n}function dj(){return E0}class fj{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,skipAnimations:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=ey,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=sn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Ye.render(this.render,!1,!0))};const{latestValues:p,renderState:m}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=t.initial?{...p}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=nh(t),this.isVariantNode=n5(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(t,{},this);for(const w in b){const E=b[w];p[w]!==void 0&&Xt(E)&&E.set(p[w])}}mount(e){var t,r;if(this.hasBeenMounted)for(const i in this.initialValues)(t=this.values.get(i))==null||t.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=e,cj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(t5.current||lj(),this.shouldReduceMotion=Qm.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),Ri(this.notifyUpdate),Ri(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=rc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in E0){const t=E0[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<fv.length;r++){const i=fv[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=uj(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Wl(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(iA(r)||aA(r))?r=parseFloat(r):!oj(r)&&ji.test(t)&&(r=$A(e,t)),this.setBaseTarget(e,Xt(r)?r.get():r)),Xt(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const l=ry(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Xt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Hg),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){oy.render(this.render)}}class s5 extends fj{constructor(){super(...arguments),this.KeyframeResolver=_R}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const r=e.style;return r?r[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class Di{constructor(e){this.isMounted=!1,this.node=e}update(){}}function i5({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function hj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function pj(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Lx(n){return n===void 0||n===1}function $m({scale:n,scaleX:e,scaleY:t}){return!Lx(n)||!Lx(e)||!Lx(t)}function ro(n){return $m(n)||o5(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function o5(n){return hv(n.x)||hv(n.y)}function hv(n){return n&&n!=="0%"}function S0(n,e,t){const r=n-t,i=e*r;return t+i}function pv(n,e,t,r,i){return i!==void 0&&(n=S0(n,i,r)),S0(n,t,r)+e}function Jm(n,e=0,t=1,r,i){n.min=pv(n.min,e,t,r,i),n.max=pv(n.max,e,t,r,i)}function a5(n,{x:e,y:t}){Jm(n.x,e.translate,e.scale,e.originPoint),Jm(n.y,t.translate,t.scale,t.originPoint)}const xv=.999999999999,mv=1.0000000000001;function xj(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,l;for(let u=0;u<i;u++){a=t[u],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ma(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,a5(n,l)),r&&ro(a.latestValues)&&Ma(n,a.latestValues))}e.x<mv&&e.x>xv&&(e.x=1),e.y<mv&&e.y>xv&&(e.y=1)}function Da(n,e){n.min=n.min+e,n.max=n.max+e}function gv(n,e,t,r,i=.5){const a=at(n.min,n.max,i);Jm(n,e,t,a,r)}function Ma(n,e){gv(n.x,e.x,e.scaleX,e.scale,e.originX),gv(n.y,e.y,e.scaleY,e.scale,e.originY)}function l5(n,e){return i5(pj(n.getBoundingClientRect(),e))}function mj(n,e,t){const r=l5(n,t),{scroll:i}=e;return i&&(Da(r.x,i.offset.x),Da(r.y,i.offset.y)),r}const gj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yj=nc.length;function bj(n,e,t){let r="",i=!0;for(let a=0;a<yj;a++){const l=nc[a],u=n[l];if(u===void 0)continue;let f=!0;if(typeof u=="number")f=u===(l.startsWith("scale")?1:0);else{const p=parseFloat(u);f=l.startsWith("scale")?p===1:p===0}if(!f||t){const p=YA(u,iy[l]);if(!f){i=!1;const m=gj[l]||l;r+=`${m}(${p}) `}t&&(e[l]=p)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function dy(n,e,t){const{style:r,vars:i,transformOrigin:a}=n;let l=!1,u=!1;for(const f in e){const p=e[f];if(rc.has(f)){l=!0;continue}else if(vA(f)){i[f]=p;continue}else{const m=YA(p,iy[f]);f.startsWith("origin")?(u=!0,a[f]=m):r[f]=m}}if(e.transform||(l||t?r.transform=bj(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${f} ${p} ${m}`}}function c5(n,{style:e,vars:t},r,i){const a=n.style;let l;for(l in e)a[l]=e[l];i==null||i.applyProjectionStyles(a,r);for(l in t)a.setProperty(l,t[l])}function yv(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Jc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=yv(n,e.target.x),r=yv(n,e.target.y);return`${t}% ${r}%`}},wj={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=ji.parse(n);if(i.length>5)return r;const a=ji.createTransformer(n),l=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,f=t.y.scale*e.y;i[0+l]/=u,i[1+l]/=f;const p=at(u,f,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}},Ym={borderRadius:{...Jc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jc,borderTopRightRadius:Jc,borderBottomLeftRadius:Jc,borderBottomRightRadius:Jc,boxShadow:wj};function u5(n,{layout:e,layoutId:t}){return rc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Ym[n]||n==="opacity")}function fy(n,e,t){var l;const r=n.style,i=e==null?void 0:e.style,a={};if(!r)return a;for(const u in r)(Xt(r[u])||i&&Xt(i[u])||u5(u,n)||((l=t==null?void 0:t.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=r[u]);return a}function vj(n){return window.getComputedStyle(n)}class Aj extends s5{constructor(){super(...arguments),this.type="html",this.renderInstance=c5}readValueFromInstance(e,t){var r;if(rc.has(t))return(r=this.projection)!=null&&r.isProjecting?Dm(t):VI(e,t);{const i=vj(e),a=(vA(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return l5(e,t)}build(e,t,r){dy(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return fy(e,t,r)}}const Nj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ej={offset:"strokeDashoffset",array:"strokeDasharray"};function Sj(n,e,t=1,r=0,i=!0){n.pathLength=1;const a=i?Nj:Ej;n[a.offset]=`${-r}`,n[a.array]=`${e} ${t}`}const kj=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function d5(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...u},f,p,m){if(dy(n,u,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:b}=n;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox);for(const w of kj)g[w]!==void 0&&(b[w]=g[w],delete g[w]);e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),r!==void 0&&(g.scale=r),i!==void 0&&Sj(g,i,a,l,!1)}const f5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),h5=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Cj(n,e,t,r){c5(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(f5.has(i)?i:sy(i),e.attrs[i])}function p5(n,e,t){const r=fy(n,e,t);for(const i in n)if(Xt(n[i])||Xt(e[i])){const a=nc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=n[i]}return r}class Tj extends s5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(rc.has(t)){const r=QA(t);return r&&r.default||0}return t=f5.has(t)?t:sy(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return p5(e,t,r)}build(e,t,r){d5(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){Cj(e,t,r,i)}mount(e){this.isSVGTag=h5(e.tagName),super.mount(e)}}const Pj=uy.length;function x5(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?x5(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Pj;t++){const r=uy[t],i=n.props[r];(Ou(i)||i===!1)&&(e[r]=i)}return e}function m5(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const Ij=[...cy].reverse(),Rj=cy.length;function jj(n){return e=>Promise.all(e.map(({animation:t,options:r})=>IR(n,t,r)))}function Oj(n){let e=jj(n),t=bv(),r=!0;const i=f=>(p,m)=>{var b;const g=Ka(n,m,f==="exit"?(b=n.presenceContext)==null?void 0:b.custom:void 0);if(g){const{transition:w,transitionEnd:E,...N}=g;p={...p,...N,...E}}return p};function a(f){e=f(n)}function l(f){const{props:p}=n,m=x5(n.parent)||{},g=[],b=new Set;let w={},E=1/0;for(let S=0;S<Rj;S++){const k=Ij[S],I=t[k],P=p[k]!==void 0?p[k]:m[k],V=Ou(P),L=k===f?I.isActive:null;L===!1&&(E=S);let F=P===m[k]&&P!==p[k]&&V;if(F&&r&&n.manuallyAnimateOnMount&&(F=!1),I.protectedKeys={...w},!I.isActive&&L===null||!P&&!I.prevProp||th(P)||typeof P=="boolean")continue;const Q=Lj(I.prevProp,P);let H=Q||k===f&&I.isActive&&!F&&V||S>E&&V,te=!1;const Y=Array.isArray(P)?P:[P];let re=Y.reduce(i(k),{});L===!1&&(re={});const{prevResolvedValues:ce={}}=I,pe={...ce,...re},ue=ee=>{H=!0,b.has(ee)&&(te=!0,b.delete(ee)),I.needsAnimating[ee]=!0;const W=n.getValue(ee);W&&(W.liveStyle=!1)};for(const ee in pe){const W=re[ee],X=ce[ee];if(w.hasOwnProperty(ee))continue;let Z=!1;zm(W)&&zm(X)?Z=!m5(W,X):Z=W!==X,Z?W!=null?ue(ee):b.add(ee):W!==void 0&&b.has(ee)?ue(ee):I.protectedKeys[ee]=!0}I.prevProp=P,I.prevResolvedValues=re,I.isActive&&(w={...w,...re}),r&&n.blockInitialAnimation&&(H=!1);const $=F&&Q;H&&(!$||te)&&g.push(...Y.map(ee=>{const W={type:k};if(typeof ee=="string"&&r&&!$&&n.manuallyAnimateOnMount&&n.parent){const{parent:X}=n,Z=Ka(X,ee);if(X.enteringChildren&&Z){const{delayChildren:j}=Z.transition||{};W.delay=FA(X.enteringChildren,n,j)}}return{animation:ee,options:W}}))}if(b.size){const S={};if(typeof p.initial!="boolean"){const k=Ka(n,Array.isArray(p.initial)?p.initial[0]:p.initial);k&&k.transition&&(S.transition=k.transition)}b.forEach(k=>{const I=n.getBaseTarget(k),P=n.getValue(k);P&&(P.liveStyle=!0),S[k]=I??null}),g.push({animation:S})}let N=!!g.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(g):Promise.resolve()}function u(f,p){var g;if(t[f].isActive===p)return Promise.resolve();(g=n.variantChildren)==null||g.forEach(b=>{var w;return(w=b.animationState)==null?void 0:w.setActive(f,p)}),t[f].isActive=p;const m=l(f);for(const b in t)t[b].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>t,reset:()=>{t=bv()}}}function Lj(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!m5(e,n):!1}function eo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bv(){return{animate:eo(!0),whileInView:eo(),whileHover:eo(),whileTap:eo(),whileDrag:eo(),whileFocus:eo(),exit:eo()}}function wv(n,e){n.min=e.min,n.max=e.max}function dr(n,e){wv(n.x,e.x),wv(n.y,e.y)}function vv(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}const g5=1e-4,Bj=1-g5,Dj=1+g5,y5=.01,Mj=0-y5,Fj=0+y5;function on(n){return n.max-n.min}function Uj(n,e,t){return Math.abs(n-e)<=t}function Av(n,e,t,r=.5){n.origin=r,n.originPoint=at(e.min,e.max,n.origin),n.scale=on(t)/on(e),n.translate=at(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Bj&&n.scale<=Dj||isNaN(n.scale))&&(n.scale=1),(n.translate>=Mj&&n.translate<=Fj||isNaN(n.translate))&&(n.translate=0)}function fu(n,e,t,r){Av(n.x,e.x,t.x,r?r.originX:void 0),Av(n.y,e.y,t.y,r?r.originY:void 0)}function Nv(n,e,t){n.min=t.min+e.min,n.max=n.min+on(e)}function _j(n,e,t){Nv(n.x,e.x,t.x),Nv(n.y,e.y,t.y)}function Ev(n,e,t){n.min=e.min-t.min,n.max=n.min+on(e)}function k0(n,e,t){Ev(n.x,e.x,t.x),Ev(n.y,e.y,t.y)}function Sv(n,e,t,r,i){return n-=e,n=S0(n,1/t,r),i!==void 0&&(n=S0(n,1/i,r)),n}function Vj(n,e=0,t=1,r=.5,i,a=n,l=n){if(Xr.test(e)&&(e=parseFloat(e),e=at(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=at(a.min,a.max,r);n===a&&(u-=e),n.min=Sv(n.min,e,t,u,i),n.max=Sv(n.max,e,t,u,i)}function kv(n,e,[t,r,i],a,l){Vj(n,e[t],e[r],e[i],e.scale,a,l)}const zj=["x","scaleX","originX"],Hj=["y","scaleY","originY"];function Cv(n,e,t,r){kv(n.x,e,zj,t?t.x:void 0,r?r.x:void 0),kv(n.y,e,Hj,t?t.y:void 0,r?r.y:void 0)}function Tv(n){return n.translate===0&&n.scale===1}function b5(n){return Tv(n.x)&&Tv(n.y)}function Pv(n,e){return n.min===e.min&&n.max===e.max}function Gj(n,e){return Pv(n.x,e.x)&&Pv(n.y,e.y)}function Iv(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function w5(n,e){return Iv(n.x,e.x)&&Iv(n.y,e.y)}function Rv(n){return on(n.x)/on(n.y)}function jv(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function jr(n){return[n("x"),n("y")]}function Kj(n,e,t){let r="";const i=n.x.translate/e.x,a=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:m,rotateX:g,rotateY:b,skewX:w,skewY:E}=t;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),b&&(r+=`rotateY(${b}deg) `),w&&(r+=`skewX(${w}deg) `),E&&(r+=`skewY(${E}deg) `)}const u=n.x.scale*e.x,f=n.y.scale*e.y;return(u!==1||f!==1)&&(r+=`scale(${u}, ${f})`),r||"none"}const v5=["TopLeft","TopRight","BottomLeft","BottomRight"],Wj=v5.length,Ov=n=>typeof n=="string"?parseFloat(n):n,Lv=n=>typeof n=="number"||we.test(n);function Qj(n,e,t,r,i,a){i?(n.opacity=at(0,t.opacity??1,$j(r)),n.opacityExit=at(e.opacity??1,0,Jj(r))):a&&(n.opacity=at(e.opacity??1,t.opacity??1,r));for(let l=0;l<Wj;l++){const u=`border${v5[l]}Radius`;let f=Bv(e,u),p=Bv(t,u);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Lv(f)===Lv(p)?(n[u]=Math.max(at(Ov(f),Ov(p),r),0),(Xr.test(p)||Xr.test(f))&&(n[u]+="%")):n[u]=p}(e.rotate||t.rotate)&&(n.rotate=at(e.rotate||0,t.rotate||0,r))}function Bv(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const $j=A5(0,.5,xA),Jj=A5(.5,.95,er);function A5(n,e,t){return r=>r<n?0:r>e?1:t(Iu(n,e,r))}function Yj(n,e,t){const r=Xt(n)?n:Wl(n);return r.start(ny("",r,e,t)),r.animation}function Lu(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const Xj=(n,e)=>n.depth-e.depth;class Zj{constructor(){this.children=[],this.isDirty=!1}add(e){Ug(this.children,e),this.isDirty=!0}remove(e){_g(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Xj),this.isDirty=!1,this.children.forEach(e)}}function qj(n,e){const t=sn.now(),r=({timestamp:i})=>{const a=i-t;a>=e&&(Ri(r),n(a-e))};return Ye.setup(r,!0),()=>Ri(r)}function o0(n){return Xt(n)?n.get():n}class eO{constructor(){this.members=[]}add(e){Ug(this.members,e),e.scheduleRender()}remove(e){if(_g(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,a=e.options.layoutDependency;i!==void 0&&a!==void 0&&i===a||(e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:u}=e.options;u===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const a0={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Bx=["","X","Y","Z"],tO=1e3;let nO=0;function Dx(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function N5(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=HA(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ye,!(i||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&N5(r)}function E5({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=nO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iO),this.nodes.forEach(cO),this.nodes.forEach(uO),this.nodes.forEach(oO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Zj)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Hg),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=ly(l)&&!sj(l),this.instance=l;const{layoutId:u,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),n){let m,g=0;const b=()=>this.root.updateBlockedByResize=!1;Ye.read(()=>{g=window.innerWidth}),n(l,()=>{const w=window.innerWidth;w!==g&&(g=w,this.root.updateBlockedByResize=!0,m&&m(),m=qj(b,250),a0.hasAnimatedSinceResize&&(a0.hasAnimatedSinceResize=!1,this.nodes.forEach(Fv)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||xO,{onLayoutAnimationStart:N,onLayoutAnimationComplete:S}=p.getProps(),k=!this.targetLayout||!w5(this.targetLayout,w),I=!g&&b;if(this.options.layoutRoot||this.resumeFrom||I||g&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...ty(E,"layout"),onPlay:N,onComplete:S};(p.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(m,I)}else g||Fv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dO),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&N5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Dv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Mv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lO),this.nodes.forEach(rO),this.nodes.forEach(sO)):this.nodes.forEach(Mv),this.clearAllSnapshots();const u=sn.now();Dt.delta=qr(0,1e3/60,u-Dt.timestamp),Dt.timestamp=u,Dt.isProcessing=!0,Cx.update.process(Dt),Cx.preRender.process(Dt),Cx.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aO),this.sharedNodes.forEach(fO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!on(this.snapshot.measuredBox.x)&&!on(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!b5(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||ro(this.latestValues)||m)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),mO(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return Nt();const u=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(gO))){const{scroll:m}=this.root;m&&(Da(u.x,m.offset.x),Da(u.y,m.offset.y))}return u}removeElementScroll(l){var f;const u=Nt();if(dr(u,l),(f=this.scroll)!=null&&f.wasRoot)return u;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:g,options:b}=m;m!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&dr(u,l),Da(u.x,g.offset.x),Da(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const f=Nt();dr(f,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ma(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ro(m.latestValues)&&Ma(f,m.latestValues)}return ro(this.latestValues)&&Ma(f,this.latestValues),f}removeTransform(l){const u=Nt();dr(u,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!ro(p.latestValues))continue;$m(p.latestValues)&&p.updateSnapshot();const m=Nt(),g=p.measurePageBox();dr(m,g),Cv(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return ro(this.latestValues)&&Cv(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var w;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!this.layout||!(m||g))return;this.resolvedRelativeTargetAt=Dt.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_j(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dr(this.target,this.layout.layoutBox),a5(this.target,this.targetDelta)):dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||$m(this.parent.latestValues)||o5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,f){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),k0(this.relativeTargetOrigin,u,f),dr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var E;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;dr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;xj(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Nt());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vv(this.prevProjectionDelta.x,this.projectionDelta.x),vv(this.prevProjectionDelta.y,this.projectionDelta.y)),fu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!jv(this.projectionDelta.x,this.prevProjectionDelta.x)||!jv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ba(),this.projectionDelta=Ba(),this.projectionDeltaWithTransform=Ba()}setAnimationOrigin(l,u=!1){const f=this.snapshot,p=f?f.latestValues:{},m={...this.latestValues},g=Ba();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Nt(),w=f?f.source:void 0,E=this.layout?this.layout.source:void 0,N=w!==E,S=this.getStack(),k=!S||S.members.length<=1,I=!!(N&&!k&&this.options.crossfade===!0&&!this.path.some(pO));this.animationProgress=0;let P;this.mixTargetDelta=V=>{const L=V/1e3;Uv(g.x,l.x,L),Uv(g.y,l.y,L),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(k0(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hO(this.relativeTarget,this.relativeTargetOrigin,b,L),P&&Gj(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Nt()),dr(P,this.relativeTarget)),N&&(this.animationValues=m,Qj(m,p,this.latestValues,L,I,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,f,p;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{a0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wl(0)),this.currentAnimation=Yj(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:p,latestValues:m}=l;if(!(!u||!f||!p)){if(this!==l&&this.layout&&p&&S5(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Nt();const g=on(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+g;const b=on(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+b}dr(u,f),Ma(u,m),fu(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new eO),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const p={};f.z&&Dx("z",l,p,this.animationValues);for(let m=0;m<Bx.length;m++)Dx(`rotate${Bx[m]}`,l,p,this.animationValues),Dx(`skew${Bx[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=o0(u==null?void 0:u.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=o0(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ro(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let g=Kj(this.projectionDeltaWithTransform,this.treeScale,m);f&&(g=f(m,g)),l.transform=g;const{x:b,y:w}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,p.animationValues?l.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const E in Ym){if(m[E]===void 0)continue;const{correct:N,applyTo:S,isCSSVariable:k}=Ym[E],I=g==="none"?m[E]:N(m[E],p);if(S){const P=S.length;for(let V=0;V<P;V++)l[S[V]]=I}else k?this.options.visualElement.renderState.vars[E]=I:l[E]=I}this.options.layoutId&&(l.pointerEvents=p===this?o0(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(Dv),this.root.sharedNodes.clear()}}}function rO(n){n.updateLayout()}function sO(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:a}=n.options,l=e.source!==n.layout.source;a==="size"?jr(g=>{const b=l?e.measuredBox[g]:e.layoutBox[g],w=on(b);b.min=r[g].min,b.max=b.min+w}):S5(a,e.layoutBox,r)&&jr(g=>{const b=l?e.measuredBox[g]:e.layoutBox[g],w=on(r[g]);b.max=b.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+w)});const u=Ba();fu(u,r,e.layoutBox);const f=Ba();l?fu(f,n.applyTransform(i,!0),e.measuredBox):fu(f,r,e.layoutBox);const p=!b5(u);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:w}=g;if(b&&w){const E=Nt();k0(E,e.layoutBox,b.layoutBox);const N=Nt();k0(N,r,w.layoutBox),w5(E,N)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=E,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function iO(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function oO(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function aO(n){n.clearSnapshot()}function Dv(n){n.clearMeasurements()}function Mv(n){n.isLayoutDirty=!1}function lO(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Fv(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function cO(n){n.resolveTargetDelta()}function uO(n){n.calcProjection()}function dO(n){n.resetSkewAndRotation()}function fO(n){n.removeLeadSnapshot()}function Uv(n,e,t){n.translate=at(e.translate,0,t),n.scale=at(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function _v(n,e,t,r){n.min=at(e.min,t.min,r),n.max=at(e.max,t.max,r)}function hO(n,e,t,r){_v(n.x,e.x,t.x,r),_v(n.y,e.y,t.y,r)}function pO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const xO={duration:.45,ease:[.4,0,.1,1]},Vv=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),zv=Vv("applewebkit/")&&!Vv("chrome/")?Math.round:er;function Hv(n){n.min=zv(n.min),n.max=zv(n.max)}function mO(n){Hv(n.x),Hv(n.y)}function S5(n,e,t){return n==="position"||n==="preserve-aspect"&&!Uj(Rv(e),Rv(t),.2)}function gO(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const yO=E5({attachResizeListener:(n,e)=>Lu(n,"resize",e),measureScroll:()=>{var n,e;return{x:document.documentElement.scrollLeft||((n=document.body)==null?void 0:n.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Mx={current:void 0},k5=E5({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Mx.current){const n=new yO({});n.mount(window),n.setOptions({layoutScroll:!0}),Mx.current=n}return Mx.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),hy=D.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Gv(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function bO(...n){return e=>{let t=!1;const r=n.map(i=>{const a=Gv(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Gv(n[i],null)}}}}function wO(...n){return D.useCallback(bO(...n),n)}class vO extends D.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=t.offsetParent,i=Wm(r)&&r.offsetWidth||0,a=Wm(r)&&r.offsetHeight||0,l=this.props.sizeRef.current;l.height=t.offsetHeight||0,l.width=t.offsetWidth||0,l.top=t.offsetTop,l.left=t.offsetLeft,l.right=i-l.width-l.left,l.bottom=a-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function AO({children:n,isPresent:e,anchorX:t,anchorY:r,root:i,pop:a}){var b;const l=D.useId(),u=D.useRef(null),f=D.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=D.useContext(hy),m=((b=n.props)==null?void 0:b.ref)??(n==null?void 0:n.ref),g=wO(u,m);return D.useInsertionEffect(()=>{const{width:w,height:E,top:N,left:S,right:k,bottom:I}=f.current;if(e||a===!1||!u.current||!w||!E)return;const P=t==="left"?`left: ${S}`:`right: ${k}`,V=r==="bottom"?`bottom: ${I}`:`top: ${N}`;u.current.dataset.motionPopId=l;const L=document.createElement("style");p&&(L.nonce=p);const F=i??document.head;return F.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${E}px !important;
            ${P}px !important;
            ${V}px !important;
          }
        `),()=>{F.contains(L)&&F.removeChild(L)}},[e]),h.jsx(vO,{isPresent:e,childRef:u,sizeRef:f,pop:a,children:a===!1?n:D.cloneElement(n,{ref:g})})}const NO=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:u,anchorY:f,root:p})=>{const m=Fg(EO),g=D.useId();let b=!0,w=D.useMemo(()=>(b=!1,{id:g,initial:e,isPresent:t,custom:i,onExitComplete:E=>{m.set(E,!0);for(const N of m.values())if(!N)return;r&&r()},register:E=>(m.set(E,!1),()=>m.delete(E))}),[t,m,r]);return a&&b&&(w={...w}),D.useMemo(()=>{m.forEach((E,N)=>m.set(N,!1))},[t]),D.useEffect(()=>{!t&&!m.size&&r&&r()},[t]),n=h.jsx(AO,{pop:l==="popLayout",isPresent:t,anchorX:u,anchorY:f,root:p,children:n}),h.jsx(eh.Provider,{value:w,children:n})};function EO(){return new Map}function C5(n=!0){const e=D.useContext(eh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,a=D.useId();D.useEffect(()=>{if(n)return i(a)},[n]);const l=D.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,l]:[!0]}const Mf=n=>n.key||"";function Kv(n){const e=[];return D.Children.forEach(n,t=>{D.isValidElement(t)&&e.push(t)}),e}const Wv=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:u="left",anchorY:f="top",root:p})=>{const[m,g]=C5(l),b=D.useMemo(()=>Kv(n),[n]),w=l&&!m?[]:b.map(Mf),E=D.useRef(!0),N=D.useRef(b),S=Fg(()=>new Map),k=D.useRef(new Set),[I,P]=D.useState(b),[V,L]=D.useState(b);sA(()=>{E.current=!1,N.current=b;for(let H=0;H<V.length;H++){const te=Mf(V[H]);w.includes(te)?(S.delete(te),k.current.delete(te)):S.get(te)!==!0&&S.set(te,!1)}},[V,w.length,w.join("-")]);const F=[];if(b!==I){let H=[...b];for(let te=0;te<V.length;te++){const Y=V[te],re=Mf(Y);w.includes(re)||(H.splice(te,0,Y),F.push(Y))}return a==="wait"&&F.length&&(H=F),L(Kv(H)),P(b),null}const{forceRender:Q}=D.useContext(Mg);return h.jsx(h.Fragment,{children:V.map(H=>{const te=Mf(H),Y=l&&!m?!1:b===V||w.includes(te),re=()=>{if(k.current.has(te))return;if(k.current.add(te),S.has(te))S.set(te,!0);else return;let ce=!0;S.forEach(pe=>{pe||(ce=!1)}),ce&&(Q==null||Q(),L(N.current),l&&(g==null||g()),r&&r())};return h.jsx(NO,{isPresent:Y,initial:!E.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:p,onExitComplete:Y?void 0:re,anchorX:u,anchorY:f,children:H},te)})})},T5=D.createContext({strict:!1}),Qv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let $v=!1;function SO(){if($v)return;const n={};for(const e in Qv)n[e]={isEnabled:t=>Qv[e].some(r=>!!t[r])};r5(n),$v=!0}function P5(){return SO(),dj()}function kO(n){const e=P5();for(const t in n)e[t]={...e[t],...n[t]};r5(e)}const CO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function C0(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||CO.has(n)}let I5=n=>!C0(n);function TO(n){typeof n=="function"&&(I5=e=>e.startsWith("on")?!C0(e):n(e))}try{TO(require("@emotion/is-prop-valid").default)}catch{}function PO(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(I5(i)||t===!0&&C0(i)||!e&&!C0(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const rh=D.createContext({});function IO(n,e){if(nh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Ou(t)?t:void 0,animate:Ou(r)?r:void 0}}return n.inherit!==!1?e:{}}function RO(n){const{initial:e,animate:t}=IO(n,D.useContext(rh));return D.useMemo(()=>({initial:e,animate:t}),[Jv(e),Jv(t)])}function Jv(n){return Array.isArray(n)?n.join(" "):n}const py=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function R5(n,e,t){for(const r in e)!Xt(e[r])&&!u5(r,t)&&(n[r]=e[r])}function jO({transformTemplate:n},e){return D.useMemo(()=>{const t=py();return dy(t,e,n),Object.assign({},t.vars,t.style)},[e])}function OO(n,e){const t=n.style||{},r={};return R5(r,t,n),Object.assign(r,jO(n,e)),r}function LO(n,e){const t={},r=OO(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const j5=()=>({...py(),attrs:{}});function BO(n,e,t,r){const i=D.useMemo(()=>{const a=j5();return d5(a,e,h5(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};R5(a,n.style,n),i.style={...a,...i.style}}return i}const DO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xy(n){return typeof n!="string"||n.includes("-")?!1:!!(DO.indexOf(n)>-1||/[A-Z]/u.test(n))}function MO(n,e,t,{latestValues:r},i,a=!1,l){const f=(l??xy(n)?BO:LO)(e,r,i,n),p=PO(e,typeof n=="string",a),m=n!==D.Fragment?{...p,...f,ref:t}:{},{children:g}=e,b=D.useMemo(()=>Xt(g)?g.get():g,[g]);return D.createElement(n,{...m,children:b})}function FO({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:UO(t,r,i,n),renderState:e()}}function UO(n,e,t,r){const i={},a=r(n,{});for(const b in a)i[b]=o0(a[b]);let{initial:l,animate:u}=n;const f=nh(n),p=n5(n);e&&p&&!f&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||l===!1;const g=m?u:l;if(g&&typeof g!="boolean"&&!th(g)){const b=Array.isArray(g)?g:[g];for(let w=0;w<b.length;w++){const E=ry(n,b[w]);if(E){const{transitionEnd:N,transition:S,...k}=E;for(const I in k){let P=k[I];if(Array.isArray(P)){const V=m?P.length-1:0;P=P[V]}P!==null&&(i[I]=P)}for(const I in N)i[I]=N[I]}}}return i}const O5=n=>(e,t)=>{const r=D.useContext(rh),i=D.useContext(eh),a=()=>FO(n,e,r,i);return t?a():Fg(a)},_O=O5({scrapeMotionValuesFromProps:fy,createRenderState:py}),VO=O5({scrapeMotionValuesFromProps:p5,createRenderState:j5}),zO=Symbol.for("motionComponentSymbol");function HO(n,e,t){const r=D.useRef(t);D.useInsertionEffect(()=>{r.current=t});const i=D.useRef(null);return D.useCallback(a=>{var u;a&&((u=n.onMount)==null||u.call(n,a)),e&&(a?e.mount(a):e.unmount());const l=r.current;if(typeof l=="function")if(a){const f=l(a);typeof f=="function"&&(i.current=f)}else i.current?(i.current(),i.current=null):l(a);else l&&(l.current=a)},[e])}const L5=D.createContext({});function Ia(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function GO(n,e,t,r,i,a){var P,V;const{visualElement:l}=D.useContext(rh),u=D.useContext(T5),f=D.useContext(eh),p=D.useContext(hy),m=p.reducedMotion,g=p.skipAnimations,b=D.useRef(null),w=D.useRef(!1);r=r||u.renderer,!b.current&&r&&(b.current=r(n,{visualState:e,parent:l,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m,skipAnimations:g,isSVG:a}),w.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const E=b.current,N=D.useContext(L5);E&&!E.projection&&i&&(E.type==="html"||E.type==="svg")&&KO(b.current,t,i,N);const S=D.useRef(!1);D.useInsertionEffect(()=>{E&&S.current&&E.update(t,f)});const k=t[zA],I=D.useRef(!!k&&!((P=window.MotionHandoffIsComplete)!=null&&P.call(window,k))&&((V=window.MotionHasOptimisedAnimation)==null?void 0:V.call(window,k)));return sA(()=>{w.current=!0,E&&(S.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),E.scheduleRenderMicrotask(),I.current&&E.animationState&&E.animationState.animateChanges())}),D.useEffect(()=>{E&&(!I.current&&E.animationState&&E.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,k)}),I.current=!1),E.enteringChildren=void 0)}),E}function KO(n,e,t,r){const{layoutId:i,layout:a,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:p,layoutCrossfade:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:B5(n.parent)),n.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||u&&Ia(u),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:f,layoutRoot:p})}function B5(n){if(n)return n.options.allowProjection!==!1?n.projection:B5(n.parent)}function Fx(n,{forwardMotionProps:e=!1,type:t}={},r,i){r&&kO(r);const a=t?t==="svg":xy(n),l=a?VO:_O;function u(p,m){let g;const b={...D.useContext(hy),...p,layoutId:WO(p)},{isStatic:w}=b,E=RO(p),N=l(p,w);if(!w&&rA){QO();const S=$O(b);g=S.MeasureLayout,E.visualElement=GO(n,N,b,i,S.ProjectionNode,a)}return h.jsxs(rh.Provider,{value:E,children:[g&&E.visualElement?h.jsx(g,{visualElement:E.visualElement,...b}):null,MO(n,p,HO(N,E.visualElement,m),N,w,e,a)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const f=D.forwardRef(u);return f[zO]=n,f}function WO({layoutId:n}){const e=D.useContext(Mg).id;return e&&n!==void 0?e+"-"+n:n}function QO(n,e){D.useContext(T5).strict}function $O(n){const e=P5(),{drag:t,layout:r}=e;if(!t&&!r)return{};const i={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(n)||r!=null&&r.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function JO(n,e){if(typeof Proxy>"u")return Fx;const t=new Map,r=(a,l)=>Fx(a,l,n,e),i=(a,l)=>r(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?r:(t.has(l)||t.set(l,Fx(l,void 0,n,e)),t.get(l))})}const YO=(n,e)=>e.isSVG??xy(n)?new Tj(e):new Aj(e,{allowProjection:n!==D.Fragment});class XO extends Di{constructor(e){super(e),e.animationState||(e.animationState=Oj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();th(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let ZO=0;class qO extends Di{constructor(){super(...arguments),this.id=ZO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const eL={animation:{Feature:XO},exit:{Feature:qO}};function ud(n){return{point:{x:n.pageX,y:n.pageY}}}const tL=n=>e=>ay(e)&&n(e,ud(e));function hu(n,e,t,r){return Lu(n,e,tL(t),r)}const D5=({current:n})=>n?n.ownerDocument.defaultView:null,Yv=(n,e)=>Math.abs(n-e);function nL(n,e){const t=Yv(n.x,e.x),r=Yv(n.y,e.y);return Math.sqrt(t**2+r**2)}const Xv=new Set(["auto","scroll"]);class M5{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=_x(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,N=nL(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!N)return;const{point:S}=w,{timestamp:k}=Dt;this.history.push({...S,timestamp:k});const{onStart:I,onMove:P}=this.handlers;E||(I&&I(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,w)},this.handlePointerMove=(w,E)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Ux(E,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(w,E)=>{this.end();const{onEnd:N,onSessionEnd:S,resumeAnimation:k}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=_x(w.type==="pointercancel"?this.lastMoveEventInfo:Ux(E,this.transformPagePoint),this.history);this.startEvent&&N&&N(w,I),S&&S(w,I)},!ay(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const f=ud(e),p=Ux(f,this.transformPagePoint),{point:m}=p,{timestamp:g}=Dt;this.history=[{...m,timestamp:g}];const{onSessionStart:b}=t;b&&b(e,_x(p,this.history)),this.removeListeners=ad(hu(this.contextWindow,"pointermove",this.handlePointerMove),hu(this.contextWindow,"pointerup",this.handlePointerUp),hu(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(e){let t=e.parentElement;for(;t;){const r=getComputedStyle(t);(Xv.has(r.overflowX)||Xv.has(r.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:i.x-t.x,y:i.y-t.y};a.x===0&&a.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,i),Ye.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ri(this.updatePoint)}}function Ux(n,e){return e?{point:e(n.point)}:n}function Zv(n,e){return{x:n.x-e.x,y:n.y-e.y}}function _x({point:n},e){return{point:n,delta:Zv(n,F5(e)),offset:Zv(n,rL(e)),velocity:sL(e,.1)}}function rL(n){return n[0]}function F5(n){return n[n.length-1]}function sL(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=F5(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Yr(e)));)t--;if(!r)return{x:0,y:0};r===n[0]&&n.length>2&&i.timestamp-r.timestamp>Yr(e)*2&&(r=n[1]);const a=qn(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function iL(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?at(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?at(t,n,r.max):Math.min(n,t)),n}function qv(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function oL(n,{top:e,left:t,bottom:r,right:i}){return{x:qv(n.x,t,i),y:qv(n.y,e,r)}}function e3(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function aL(n,e){return{x:e3(n.x,e.x),y:e3(n.y,e.y)}}function lL(n,e){let t=.5;const r=on(n),i=on(e);return i>r?t=Iu(e.min,e.max-r,n.min):r>i&&(t=Iu(n.min,n.max-i,e.min)),qr(0,1,t)}function cL(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Xm=.35;function uL(n=Xm){return n===!1?n=0:n===!0&&(n=Xm),{x:t3(n,"left","right"),y:t3(n,"top","bottom")}}function t3(n,e,t){return{min:n3(n,e),max:n3(n,t)}}function n3(n,e){return typeof n=="number"?n:n[e]||0}const dL=new WeakMap;class fL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{t&&this.snapToCursor(ud(g).point),this.stopAnimation()},l=(g,b)=>{const{drag:w,dragPropagation:E,onDragStart:N}=this.getProps();if(w&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=VR(w),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jr(k=>{let I=this.getAxisMotionValue(k).get()||0;if(Xr.test(I)){const{projection:P}=this.visualElement;if(P&&P.layout){const V=P.layout.layoutBox[k];V&&(I=on(V)*(parseFloat(I)/100))}}this.originPoint[k]=I}),N&&Ye.update(()=>N(g,b),!1,!0),Hm(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:E,onDirectionLock:N,onDrag:S}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:k}=b;if(E&&this.currentDirection===null){this.currentDirection=pL(k),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",b.point,k),this.updateAxis("y",b.point,k),this.visualElement.render(),S&&Ye.update(()=>S(g,b),!1,!0)},f=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b,this.stop(g,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:g}=this.getProps();(g||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:m}=this.getProps();this.panSession=new M5(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:D5(this.visualElement),element:this.visualElement.current})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Ye.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Ff(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=iL(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&Ia(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=oL(r.layoutBox,e):this.constraints=!1,this.elastic=uL(t),i!==this.constraints&&!Ia(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&jr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=cL(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ia(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=mj(r,i.root,this.visualElement.getTransformPagePoint());let l=aL(i.layout.layoutBox,a);if(t){const u=t(hj(l));this.hasMutatedConstraints=!!u,u&&(l=i5(u))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},p=jr(m=>{if(!Ff(m,t,this.currentDirection))return;let g=f&&f[m]||{};l&&(g={min:0,max:0});const b=i?200:1e6,w=i?40:1e7,E={type:"inertia",velocity:r?e[m]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,E)});return Promise.all(p).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Hm(this.visualElement,e),r.start(ny(e,r,0,t,this.visualElement,!1))}stopAnimation(){jr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jr(t=>{const{drag:r}=this.getProps();if(!Ff(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[t],f=a.get()||0;a.set(e[t]-at(l,u,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ia(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};jr(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();i[l]=lL({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),jr(l=>{if(!Ff(l,e,null))return;const u=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];u.set(at(f,p,i[l]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;dL.set(this.visualElement,this);const e=this.visualElement.current,t=hu(e,"pointerdown",p=>{const{drag:m,dragListener:g=!0}=this.getProps(),b=p.target,w=b!==e&&QR(b);m&&g&&!w&&this.start(p)});let r;const i=()=>{const{dragConstraints:p}=this.getProps();Ia(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),r||(r=hL(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ye.read(i);const u=Lu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(jr(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=p[g].translate,b.set(b.get()+p[g].translate))}),this.visualElement.render())}));return()=>{u(),t(),l(),f&&f(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Xm,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function r3(n){let e=!0;return()=>{if(e){e=!1;return}n()}}function hL(n,e,t){const r=cv(n,r3(t)),i=cv(e,r3(t));return()=>{r(),i()}}function Ff(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function pL(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class xL extends Di{constructor(e){super(e),this.removeGroupControls=er,this.removeListeners=er,this.controls=new fL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||er}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Vx=n=>(e,t)=>{n&&Ye.update(()=>n(e,t),!1,!0)};class mL extends Di{constructor(){super(...arguments),this.removePointerDownListener=er}onPointerDown(e){this.session=new M5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:D5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Vx(e),onStart:Vx(t),onMove:Vx(r),onEnd:(a,l)=>{delete this.session,i&&Ye.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=hu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let zx=!1;class gL extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;a&&(t.group&&t.group.add(a),r&&r.register&&i&&r.register(a),zx&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),a0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,e.layoutDependency!==t&&l.setOptions({...l.options,layoutDependency:t}),zx=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ye.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),oy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;zx=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function U5(n){const[e,t]=C5(),r=D.useContext(Mg);return h.jsx(gL,{...n,layoutGroup:r,switchLayoutGroup:D.useContext(L5),isPresent:e,safeToRemove:t})}const yL={pan:{Feature:mL},drag:{Feature:xL,ProjectionNode:k5,MeasureLayout:U5}};function s3(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=r[i];a&&Ye.postRender(()=>a(e,ud(e)))}class bL extends Di{mount(){const{current:e}=this.node;e&&(this.unmount=HR(e,(t,r)=>(s3(this.node,r,"Start"),i=>s3(this.node,i,"End"))))}unmount(){}}class wL extends Di{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ad(Lu(this.node.current,"focus",()=>this.onFocus()),Lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function i3(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=r[i];a&&Ye.postRender(()=>a(e,ud(e)))}class vL extends Di{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:t,propagate:r}=this.node.props;this.unmount=JR(e,(i,a)=>(i3(this.node,a,"Start"),(l,{success:u})=>i3(this.node,l,u?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:(r==null?void 0:r.tap)===!1})}unmount(){}}const Zm=new WeakMap,Hx=new WeakMap,AL=n=>{const e=Zm.get(n.target);e&&e(n)},NL=n=>{n.forEach(AL)};function EL({root:n,...e}){const t=n||document;Hx.has(t)||Hx.set(t,{});const r=Hx.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(NL,{root:n,...e})),r[i]}function SL(n,e,t){const r=EL(e);return Zm.set(n,t),r.observe(n),()=>{Zm.delete(n),r.unobserve(n)}}const kL={some:0,all:1};class CL extends Di{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:kL[i]},u=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),b=p?m:g;b&&b(f)};return SL(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(TL(e,t))&&this.startObserver()}unmount(){}}function TL({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const PL={inView:{Feature:CL},tap:{Feature:vL},focus:{Feature:wL},hover:{Feature:bL}},IL={layout:{ProjectionNode:k5,MeasureLayout:U5}},RL={...eL,...PL,...yL,...IL},Ir=JO(RL,YO),o3="aegis_agent_messages",Uf="aegis_agent_last_read";function jL(){const[n,e]=D.useState(!1),[t,r]=D.useState([]),[i,a]=D.useState(""),[l,u]=D.useState(!1),[f,p]=D.useState(!1),[m,g]=D.useState(null),[b,w]=D.useState(!1),E=D.useRef(null),N=D.useRef(null),S=D.useRef(null);D.useEffect(()=>{const Y=localStorage.getItem(o3),re=localStorage.getItem(Uf);if(Y)try{const pe=JSON.parse(Y).map(ue=>({...ue,timestamp:new Date(ue.timestamp)}));if(r(pe),re&&pe.length>0){const ue=pe[pe.length-1];ue.sender==="agent"&&new Date(ue.timestamp)>new Date(re)&&w(!0)}}catch(ce){console.error("Failed to parse saved messages:",ce)}},[]),D.useEffect(()=>{t.length>0&&localStorage.setItem(o3,JSON.stringify(t))},[t]),D.useEffect(()=>{n&&b&&(w(!1),localStorage.setItem(Uf,new Date().toISOString()))},[n,b]);const k=()=>{var Y;(Y=E.current)==null||Y.scrollIntoView({behavior:"smooth"})};D.useEffect(()=>{k()},[t,l]),D.useEffect(()=>{n&&N.current&&N.current.focus()},[n]);const I=()=>{if(!i.trim())return;const Y={id:Date.now().toString(),content:i,sender:"user",timestamp:new Date};r(re=>[...re,Y]),a(""),N.current&&(N.current.style.height="auto"),P(i)},P=Y=>{u(!0),p(!0),setTimeout(()=>{u(!1);const re=L(Y),ce=Date.now().toString(),pe={id:ce,content:"",sender:"agent",timestamp:new Date,isTyping:!0};r(ue=>[...ue,pe]),g(ce),V(re,ce)},1500)},V=(Y,re)=>{let ce=0;const pe=30;S.current&&clearInterval(S.current),S.current=setInterval(()=>{ce<Y.length?(r(ue=>ue.map($=>$.id===re?{...$,content:Y.substring(0,ce+1)}:$)),ce++):(S.current&&(clearInterval(S.current),S.current=null),r(ue=>ue.map($=>$.id===re?{...$,isTyping:!1}:$)),g(null),p(!1),n?localStorage.setItem(Uf,new Date().toISOString()):w(!0))},pe)};D.useEffect(()=>()=>{S.current&&clearInterval(S.current)},[]);const L=Y=>{const re=Y.toLowerCase();return re.includes("safe")||re.includes("security")?"I analyze implementations according to EIP-7702 standards. Each implementation undergoes comprehensive security checks including storage structure compatibility, upgrade safety, and state collision risk assessment.":re.includes("implementation")||re.includes("imple")?"Implementations are smart contract modules that extend your wallet functionality. I verify each implementation for security compliance before you activate it. Would you like me to explain the verification process?":re.includes("activate")||re.includes("change")?"Before activating or changing an implementation, I perform a compatibility analysis to ensure it's safe to use with your current setup. This includes checking storage structure, upgrade paths, and potential conflicts.":re.includes("risk")?"I categorize implementations by risk level: Safe (fully verified), Low Risk (minor considerations), Unsafe (significant concerns), and Unknown (insufficient data). Each level reflects comprehensive security analysis.":re.includes("transaction")||re.includes("7702")?"I monitor EIP-7702 transactions continuously, even after execution. Post-execution analysis helps detect anomalies that only become visible through event monitoring and state change tracking.":"I'm here to help you understand implementation security, EIP-7702 compliance, and wallet protection. Feel free to ask about any implementation details, security concerns, or activation processes."},F=Y=>{a(Y.target.value),N.current&&(N.current.style.height="auto",N.current.style.height=`${Math.min(N.current.scrollHeight,200)}px`)},Q=Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),I())},H=()=>{e(!0),b&&(w(!1),localStorage.setItem(Uf,new Date().toISOString()))},te=l||f;return h.jsxs(h.Fragment,{children:[h.jsx(Wv,{children:!n&&h.jsx("div",{className:"absolute right-[-28px] bottom-[88px] w-[60px] h-14 group z-30","aria-hidden":!0,children:h.jsxs(Ir.button,{initial:{scale:0},animate:{scale:1},exit:{scale:0},onClick:H,className:"absolute right-0 bottom-0 w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full shadow-lg flex items-center justify-center group-hover:right-[40px] group-hover:shadow-xl transition-all duration-200 ease-out cursor-pointer",children:[te&&h.jsx(Ir.div,{className:"absolute inset-0 rounded-full border-2 border-white border-t-transparent",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),h.jsx(Ti,{className:"w-6 h-6 text-white"}),b&&!te&&h.jsx(Ir.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-3 h-3 bg-red-600 rounded-full border-2 border-white"})]})})}),h.jsx(Wv,{children:n&&h.jsxs(h.Fragment,{children:[h.jsx(Ir.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e(!1),className:"fixed inset-0 bg-stone-900/20 z-20"}),h.jsx("div",{className:"fixed inset-x-0 bottom-0 z-30 flex justify-center",children:h.jsxs(Ir.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:30,stiffness:300},className:"w-full max-w-4xl bg-white rounded-t-3xl shadow-2xl flex flex-col",style:{height:"50vh",maxHeight:"600px"},children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-stone-200",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center shadow-sm",children:h.jsx(Ti,{className:"w-5 h-5 text-white"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-base text-stone-900",children:"Aegis Agent"}),h.jsx("p",{className:"text-xs text-stone-500",children:"Security Assistant"})]})]}),h.jsx("button",{onClick:()=>e(!1),className:"w-8 h-8 rounded-full hover:bg-stone-100 flex items-center justify-center transition-colors",children:h.jsx(Vo,{className:"w-5 h-5 text-stone-600"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[t.length===0&&h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-8",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-100 to-orange-200 rounded-full flex items-center justify-center mb-4",children:h.jsx(Ti,{className:"w-8 h-8 text-orange-600"})}),h.jsx("h4",{className:"font-semibold text-lg text-stone-900 mb-2",children:"How can I help you?"}),h.jsx("p",{className:"text-sm text-stone-600",children:"Ask me about implementation security, EIP-7702 compliance, or wallet protection."})]}),t.map(Y=>h.jsx(Ir.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${Y.sender==="user"?"justify-end":"justify-start"}`,children:h.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${Y.sender==="user"?"bg-gradient-to-br from-orange-500 to-orange-600 text-white":"bg-stone-100 text-stone-900"}`,children:h.jsxs("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:[Y.content,Y.isTyping&&h.jsx("span",{className:"inline-block w-1 h-4 bg-current ml-1 animate-pulse"})]})})},Y.id)),l&&h.jsx(Ir.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-start",children:h.jsx("div",{className:"bg-stone-100 rounded-2xl px-4 py-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-sm text-stone-600",children:"Thinking"}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx(Ir.span,{animate:{opacity:[.3,1,.3]},transition:{duration:1.2,repeat:1/0,delay:0},className:"w-1.5 h-1.5 bg-stone-600 rounded-full"}),h.jsx(Ir.span,{animate:{opacity:[.3,1,.3]},transition:{duration:1.2,repeat:1/0,delay:.2},className:"w-1.5 h-1.5 bg-stone-600 rounded-full"}),h.jsx(Ir.span,{animate:{opacity:[.3,1,.3]},transition:{duration:1.2,repeat:1/0,delay:.4},className:"w-1.5 h-1.5 bg-stone-600 rounded-full"})]})]})})}),h.jsx("div",{ref:E})]}),h.jsxs("div",{className:"border-t border-stone-200 px-6 py-4 bg-white rounded-b-3xl",children:[h.jsxs("div",{className:"flex items-end gap-3",children:[h.jsx("textarea",{ref:N,value:i,onChange:F,onKeyDown:Q,placeholder:"Ask about implementations, security, or compliance...",className:"flex-1 bg-stone-50 rounded-2xl px-4 py-3 text-sm text-stone-900 placeholder-stone-400 outline-none border border-stone-200 focus:border-orange-500 resize-none min-h-[48px] max-h-[200px] transition-colors",rows:1}),h.jsx("button",{onClick:I,disabled:!i.trim(),className:`w-12 h-12 rounded-full flex items-center justify-center transition-all ${i.trim()?"bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-md hover:shadow-lg":"bg-stone-200 text-stone-400 cursor-not-allowed"}`,children:h.jsx(j9,{className:"w-5 h-5"})})]}),h.jsx("p",{className:"text-xs text-stone-400 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]})})]})})]})}function OL({transaction:n,onBack:e}){const{is7702:t,postExecutionData:r,freezeAction:i}=n;return h.jsxs("div",{className:"flex-1 overflow-y-auto bg-stone-50 relative",children:[h.jsxs("div",{className:"sticky top-0 bg-white border-b border-stone-200 px-6 py-4 z-10",children:[h.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-stone-600 hover:text-stone-900 transition-colors mb-3",children:[h.jsx(u3,{className:"w-5 h-5"}),h.jsx("span",{className:"text-sm font-medium",children:"Back to Activity"})]}),h.jsx("h1",{className:"text-xl font-bold text-stone-900",children:"Transaction Details"})]}),h.jsxs("div",{className:"px-6 py-6 max-w-4xl mx-auto space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-stone-200",children:[h.jsx("h2",{className:"font-semibold text-base text-stone-900 mb-4",children:"Transaction Summary"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("span",{className:"text-sm text-stone-600",children:"Action"}),h.jsx("span",{className:"text-sm font-medium text-stone-900",children:n.action})]}),n.to&&h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("span",{className:"text-sm text-stone-600",children:"To"}),h.jsx("span",{className:"text-xs font-mono text-stone-900",children:n.to})]}),h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("span",{className:"text-sm text-stone-600",children:"Amount"}),h.jsx("span",{className:"text-sm font-medium text-stone-900",children:n.type==="swap"?n.amount:`${n.amount} ${n.tokenSymbol}`})]}),h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("span",{className:"text-sm text-stone-600",children:"Time"}),h.jsx("span",{className:"text-sm font-medium text-stone-900",children:n.time})]}),h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("span",{className:"text-sm text-stone-600",children:"Status"}),h.jsx("span",{className:`text-sm font-semibold ${n.status==="success"?"text-green-600":n.status==="failed"?"text-red-600":"text-amber-600"}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)})]}),n.hash&&h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("span",{className:"text-sm text-stone-600",children:"Hash"}),h.jsx("span",{className:"text-xs font-mono text-stone-900 break-all max-w-[200px]",children:n.hash})]})]})]}),t&&h.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-2xl p-6 border-2 border-orange-200",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center",children:h.jsx("img",{src:ql,alt:"logo",className:"h-4"})}),h.jsx("h2",{className:"font-semibold text-base text-stone-900",children:"EIP-7702 Execution Summary"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("span",{className:"text-sm text-stone-700",children:"Implementation"}),h.jsx("span",{className:"text-sm font-semibold text-orange-900",children:n.implementationName||"N/A"})]}),h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("span",{className:"text-sm text-stone-700",children:"Delegation"}),h.jsx("span",{className:"text-sm font-medium text-stone-900",children:n.delegatedExecution?"7702 Execution":"Direct"})]}),n.executionPath&&h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("span",{className:"text-sm text-stone-700",children:"Execution Path"}),h.jsx("span",{className:"text-xs font-mono text-stone-900",children:n.executionPath})]}),h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("span",{className:"text-sm text-stone-700",children:"Monitoring"}),h.jsxs("div",{className:"flex items-center gap-2",children:[n.monitoringStatus==="monitored"&&h.jsx("span",{className:"text-xs font-semibold text-green-700 bg-green-100 px-2 py-1 rounded",children:"Monitored"}),n.monitoringStatus==="anomaly-detected"&&h.jsxs("span",{className:"text-xs font-semibold text-red-700 bg-red-100 px-2 py-1 rounded flex items-center gap-1",children:[h.jsx(_o,{className:"w-3 h-3"}),"Anomaly Detected"]}),n.monitoringStatus==="no-anomaly"&&h.jsx("span",{className:"text-xs font-semibold text-green-700 bg-green-100 px-2 py-1 rounded",children:"No Anomaly"})]})]})]})]}),t&&r&&h.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-stone-200",children:[h.jsx("h2",{className:"font-semibold text-base text-stone-900 mb-4",children:"Post-Execution Monitoring"}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-stone-700 mb-2",children:"Event Monitoring"}),h.jsx("div",{className:"bg-stone-50 rounded-lg p-3 border border-stone-200",children:r.eventsMonitored.length>0?h.jsx("ul",{className:"space-y-1",children:r.eventsMonitored.map((a,l)=>h.jsxs("li",{className:"text-xs text-stone-700 flex items-start gap-2",children:[h.jsx("span",{className:"text-stone-400",children:""}),h.jsx("span",{children:a})]},l))}):h.jsx("p",{className:"text-xs text-stone-500",children:"No events monitored"})})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-stone-700 mb-2",children:"State Change Observations"}),h.jsx("div",{className:"bg-stone-50 rounded-lg p-3 border border-stone-200",children:r.stateChanges.length>0?h.jsx("ul",{className:"space-y-1",children:r.stateChanges.map((a,l)=>h.jsxs("li",{className:"text-xs text-stone-700 flex items-start gap-2",children:[h.jsx("span",{className:"text-stone-400",children:""}),h.jsx("span",{children:a})]},l))}):h.jsx("p",{className:"text-xs text-stone-500",children:"No state changes detected"})})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-stone-700 mb-2",children:"Risk Detection Outcome"}),r.anomalyDetected?h.jsx("div",{className:`rounded-lg p-4 border-2 ${r.riskLevel==="critical"?"bg-red-50 border-red-300":r.riskLevel==="high"?"bg-orange-50 border-orange-300":r.riskLevel==="low"?"bg-amber-50 border-amber-300":"bg-stone-50 border-stone-300"}`,children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(_o,{className:`w-5 h-5 flex-shrink-0 ${r.riskLevel==="critical"?"text-red-600":r.riskLevel==="high"?"text-orange-600":r.riskLevel==="low"?"text-amber-600":"text-stone-600"}`}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:`font-semibold text-sm mb-1 ${r.riskLevel==="critical"?"text-red-900":r.riskLevel==="high"?"text-orange-900":r.riskLevel==="low"?"text-amber-900":"text-stone-900"}`,children:r.riskDescription||"Suspicious execution path detected"}),h.jsx("p",{className:"text-xs text-stone-700",children:"This risk was identified after execution based on monitored events and state changes."})]})]})}):h.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-5 h-5 flex-shrink-0 bg-green-500 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-white text-xs",children:""})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-semibold text-sm text-green-900 mb-1",children:"No abnormal behavior detected"}),h.jsx("p",{className:"text-xs text-green-700",children:"All execution paths and state changes appear normal."})]})]})})]})]}),(i==null?void 0:i.isFrozen)&&h.jsxs("div",{className:"bg-red-50 rounded-2xl p-6 border-2 border-red-300",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-full flex items-center justify-center",children:h.jsx(S9,{className:"w-5 h-5 text-white"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"font-semibold text-base text-red-900",children:"Wallet Frozen"}),h.jsx("p",{className:"text-xs text-red-700",children:"Protective action executed"})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"bg-white rounded-lg p-4 border border-red-200",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("span",{className:"text-sm font-semibold text-stone-700",children:"Freeze Status"}),h.jsx("span",{className:"text-sm font-bold text-red-700",children:"Active"})]}),h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("span",{className:"text-sm text-stone-600",children:"Triggered By"}),h.jsx("span",{className:"text-sm font-medium text-stone-900",children:i.frozenBy})]}),h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("span",{className:"text-sm text-stone-600",children:"Trigger Time"}),h.jsx("span",{className:"text-sm font-medium text-stone-900",children:i.frozenAt})]}),h.jsxs("div",{className:"mt-3 pt-3 border-t border-stone-200",children:[h.jsx("p",{className:"text-sm font-semibold text-stone-900 mb-1",children:"Reason"}),h.jsx("p",{className:"text-sm text-stone-700",children:i.freezeReason})]})]}),h.jsx("div",{className:"bg-amber-50 rounded-lg p-3 border border-amber-200",children:h.jsxs("p",{className:"text-xs text-amber-900",children:[h.jsx("span",{className:"font-semibold",children:"Note:"})," This freeze was executed by a registered sentinel address as a protective measure. This is informational only and does not require user action at this time."]})})]})]}),t&&h.jsxs("div",{className:"bg-blue-50 rounded-2xl p-6 border border-blue-200",children:[h.jsx("h3",{className:"font-semibold text-sm text-blue-900 mb-3",children:"Understanding EIP-7702 Monitoring"}),h.jsxs("div",{className:"space-y-2 text-xs text-blue-800",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:" Post-Execution Analysis:"})," Some risks can only be detected after transaction execution through event and state monitoring."]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:" Continuous Monitoring:"})," Aegis continues to monitor delegated implementations even after successful execution."]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:" Automated Protection:"})," Sentinel addresses can freeze wallets automatically when critical anomalies are detected."]})]})]})]})]})}function LL(n){const e=Number(n)*1e3,t=new Date(e),i=Math.floor((new Date().getTime()-t.getTime())/(1e3*60)),a=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),u=String(t.getDate()).padStart(2,"0"),f=String(t.getHours()).padStart(2,"0"),p=String(t.getMinutes()).padStart(2,"0"),m=String(t.getSeconds()).padStart(2,"0"),g=`${a}-${l}-${u} ${f}:${p}:${m}`;return i<10?i===0?`${g} (just now)`:i===1?`${g} (1 minute ago)`:`${g} (${i} minutes ago)`:g}const BL=n=>{const t=Math.floor((new Date().getTime()-n.getTime())/(1e3*60)),r=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0"),l=String(n.getHours()).padStart(2,"0"),u=String(n.getMinutes()).padStart(2,"0"),f=String(n.getSeconds()).padStart(2,"0"),p=`${r}-${i}-${a} ${l}:${u}:${f}`;return t<10?t===0?`${p} (just now)`:t===1?`${p} (1 minute ago)`:`${p} (${t} minutes ago)`:p};function DL(n,e,t,r){var m,g,b,w,E;const i=n.txHash.startsWith("0x")?n.txHash:"0x"+n.txHash,a=n.note,l=(a==null?void 0:a.updatedAt)??0n,u=l>0n?LL(l):BL(new Date),p=t&&e===0&&r!=null&&r!=="";return{id:i,action:((m=a==null?void 0:a.name)==null?void 0:m.trim())||"Transaction",time:u,amount:((g=a==null?void 0:a.summary)==null?void 0:g.trim())||"",type:"eip7702",status:"success",is7702:!0,implementationName:((b=a==null?void 0:a.name)==null?void 0:b.trim())||void 0,delegatedExecution:!0,monitoringStatus:p?"anomaly-detected":"monitored",hash:i,executionPath:((w=a==null?void 0:a.reasons)==null?void 0:w.trim())||void 0,postExecutionData:a?{eventsMonitored:[],stateChanges:(E=a.description)!=null&&E.trim()?[a.description.trim()]:[],anomalyDetected:p,riskLevel:p?"critical":"none",riskDescription:p?r??void 0:void 0}:void 0,...p&&r&&{freezeAction:{isFrozen:!0,freezeReason:r,frozenBy:"Sentinel (this transaction)",frozenAt:"Due to this transaction"}}}}function ML(){var g,b;const{activity:n}=ec(),{txs:e,isFrozen:t,freezeReason:r,loading:i}=n,a=D.useMemo(()=>e.map((w,E)=>DL(w,E,t,r)),[e,t,r]),[l,u]=D.useState(null),[f,p]=D.useState(!0),m=w=>{u(w)};return l?h.jsx(OL,{transaction:l,onBack:()=>u(null)}):h.jsx("div",{className:"flex-1 overflow-y-auto bg-stone-50 relative",children:h.jsxs("div",{className:"px-6 md:px-12 py-8 md:py-12 max-w-4xl mx-auto w-full",children:[h.jsx("h2",{className:"text-xl font-bold mb-6 text-stone-900",children:"Transaction History"}),a.length>0&&((b=(g=a[0])==null?void 0:g.freezeAction)==null?void 0:b.isFrozen)&&h.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-2xl p-4",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx(_o,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-sm text-red-900",children:"Wallet frozen"}),h.jsxs("p",{className:"text-xs text-red-800 mt-1",children:["Frozen due to the most recent transaction. ",a[0].freezeAction.freezeReason]})]})]})}),f&&h.jsxs("div",{className:"mb-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-5 border border-blue-200 relative",children:[h.jsx("button",{onClick:()=>p(!1),className:"absolute top-4 right-4 text-blue-600 hover:text-blue-800 transition-colors","aria-label":"Dismiss banner",children:h.jsx(Vo,{className:"w-5 h-5"})}),h.jsxs("div",{className:"pr-8",children:[h.jsx("h3",{className:"font-semibold text-sm text-blue-900 mb-2",children:"EIP-7702 Transaction Monitoring"}),h.jsx("p",{className:"text-xs text-blue-800 leading-relaxed",children:"Aegis continuously monitors delegated implementations even after execution. Some risks can only be detected through post-execution event and state analysis. Tap any transaction to view detailed monitoring results."})]})]}),i?h.jsx("div",{className:"py-12 text-center",children:h.jsx("p",{className:"text-sm text-stone-500",children:"Loading transactions"})}):a.length===0?h.jsxs("div",{className:"py-12 text-center bg-white rounded-xl border border-stone-200",children:[h.jsx("p",{className:"text-sm text-stone-500",children:"No transactions yet"}),h.jsx("p",{className:"text-xs text-stone-400 mt-1",children:"Activity will appear here when you use Aegis."})]}):h.jsx("div",{className:"space-y-3",children:a.map(w=>h.jsxs("button",{onClick:()=>m(w),className:"w-full bg-white border border-stone-100 rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow text-left relative",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded ${w.is7702?"bg-gradient-to-r from-orange-500 to-orange-600 text-white":"bg-stone-200 text-stone-700"}`,children:w.is7702?"7702":"EOA"}),h.jsx("p",{className:"font-medium text-sm text-stone-900",children:w.action})]}),h.jsx("span",{className:`text-xs font-semibold ${w.status==="success"?"text-green-600":w.status==="failed"?"text-red-600":"text-stone-500"}`,children:w.status.charAt(0).toUpperCase()+w.status.slice(1)})]}),h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{className:"flex-1",children:[w.to&&h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"text-xs text-stone-500",children:"To:"}),h.jsxs("span",{className:"text-xs font-mono text-stone-700",children:[w.to.slice(0,6),"...",w.to.slice(-4)]})]}),h.jsx("div",{className:"text-xs text-stone-500",children:w.time})]}),h.jsx("div",{className:"text-right ml-4",children:h.jsx("span",{className:"text-sm font-semibold text-stone-800",children:w.type==="swap"?w.amount:`${w.amount} ${w.tokenSymbol}`})})]}),w.is7702&&w.monitoringStatus&&h.jsxs("div",{className:"pt-3 border-t border-stone-200",children:[w.monitoringStatus==="monitored"&&h.jsx("div",{className:"inline-flex items-center gap-1 bg-green-50 border border-green-200 rounded px-2 py-1",children:h.jsx("span",{className:"text-xs font-medium text-green-900",children:"Monitored"})}),w.monitoringStatus==="anomaly-detected"&&h.jsxs("div",{className:"inline-flex items-center gap-1 bg-red-50 border border-red-200 rounded px-2 py-1",children:[h.jsx(_o,{className:"w-3 h-3 text-red-600"}),h.jsx("span",{className:"text-xs font-semibold text-red-900",children:"Anomaly Detected"})]})]})]},w.id))})]})})}const _5="aegis-wallet-frozen";function FL(n,e){var l,u,f,p;const t=e!=null&&e.txHash?`${e.txHash.slice(0,10)}...${e.txHash.slice(-8)}`:"",r=((u=(l=e==null?void 0:e.note)==null?void 0:l.name)==null?void 0:u.trim())||"Wallet frozen",i=(n==null?void 0:n.trim())||"Your wallet was frozen due to the most recent transaction.",a=[i,"","Most recent transaction:",` Tx: ${t}`,(p=(f=e==null?void 0:e.note)==null?void 0:f.summary)!=null&&p.trim()?` ${e.note.summary}`:""].filter(Boolean).join(`
`);return{id:_5,severity:"critical",title:r,preview:i,fullMessage:a,timestamp:new Date,isRead:!1}}function UL(n){if(!n||n==="0x")return"0";const e=BigInt(n);if(e===0n)return"0";const t=BigInt(1e18),r=e/t,a=(e%t).toString().padStart(18,"0").replace(/0+$/,"");return a?`${r}.${a}`:String(r)}function _L({activeTab:n,setActiveTab:e}){const{activity:t,initialLoadDone:r}=ec(),{isFrozen:i,freezeReason:a,txs:l}=t,[u,f]=D.useState(!1),[p,m]=D.useState(!1),[g,b]=D.useState(!1),[w,E]=D.useState(null);JN.useEffect(()=>{var F;const I=typeof window<"u"?window:null,P=I&&I.chrome;if(!((F=P==null?void 0:P.runtime)!=null&&F.id))return;function V(){P.runtime.sendMessage({type:"getPendingRequest"},Q=>{var Y,re;const H=Q,te=H==null?void 0:H.request;if(te){if(te.method==="eth_requestAccounts"){const ce=((Y=Rn())==null?void 0:Y.address)??"";P.runtime.sendMessage({type:"resolveRequest",id:te.id,result:ce?[ce]:[],error:null},()=>{});return}te.method==="eth_sendTransaction"&&((re=te.params)!=null&&re[0])&&E({id:te.id,method:te.method,params:te.params})}})}V();const L=setInterval(V,1500);return()=>clearInterval(L)},[]);const N=i?[{...FL(a,l[0]),isRead:g}]:[],S=i&&!g,k=I=>{I===_5&&b(!0)};return r?h.jsxs("div",{className:"flex flex-col h-screen max-w-6xl mx-auto bg-stone-50 shadow-xl relative",children:[h.jsx(wT,{onOpenSettings:()=>f(!0),onOpenNotifications:()=>m(!0),hasUnreadNotifications:S}),n==="home"&&h.jsx(OP,{}),n==="aegis"&&h.jsx(FP,{}),n==="activity"&&h.jsx(ML,{}),h.jsx(jL,{}),h.jsx(AT,{activeTab:n,setActiveTab:e}),u&&h.jsx(VT,{onClose:()=>f(!1)}),p&&h.jsx(zT,{notifications:N,onClose:()=>m(!1),onMarkAsRead:k}),(w==null?void 0:w.method)==="eth_sendTransaction"&&w.params[0]?(()=>{const I=w.params[0],P=window.chrome;return h.jsx(nA,{requestId:w.id,initialTo:I.to??"",initialValueEth:UL(I.value??"0x0"),initialData:I.data??"0x",initialTypes:I.types,initialTxType:I.txType,initialAuthorizationList:I.authorizationList,onResolve:(V,L)=>{var F,Q;(Q=(F=P==null?void 0:P.runtime)==null?void 0:F.sendMessage)==null||Q.call(F,{type:"resolveRequest",id:V,result:L,error:null}),E(null)},onReject:(V,L)=>{var F,Q;(Q=(F=P==null?void 0:P.runtime)==null?void 0:F.sendMessage)==null||Q.call(F,{type:"resolveRequest",id:V,result:null,error:L}),E(null)},onClose:()=>E(null)})})():null]}):h.jsx("div",{className:"flex flex-col h-screen max-w-6xl mx-auto bg-stone-50 shadow-xl items-center justify-center",children:h.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center shadow-sm animate-logo-float p-2",children:h.jsx("img",{src:"/aegis_logo_white.png",alt:"Aegis",className:"w-full h-full object-contain"})})})}function VL(){var n;return(n=Rn())!=null&&n.encryptedPk?"login":"launch"}function zL(){const[n,e]=D.useState("home"),[t,r]=D.useState(VL),[i,a]=D.useState(null),[l,u]=D.useState(!1);return t==="launch"?h.jsx(HT,{onContinue:()=>r("wallet-setup")}):t==="wallet-setup"?h.jsx(GT,{onCreate:()=>r("create-wallet"),onImport:()=>r("import-key")}):t==="create-wallet"?h.jsx(WT,{onBack:()=>r("wallet-setup"),onComplete:f=>{a(f),u(!1),r("password-setup")}}):t==="import-key"?h.jsx(QT,{onBack:()=>r("wallet-setup"),onComplete:f=>{a(f),u(!0),r("password-setup")}}):t==="password-setup"?h.jsx($T,{isImportFlow:l,onBack:()=>r(l?"import-key":"create-wallet"),onComplete:async f=>{i&&(await bT(i,f),a(null),u(!1)),r("protection-confirmation")}}):t==="protection-confirmation"?h.jsx(JT,{onContinue:()=>r("login")}):t==="login"?h.jsx(XT,{onLogin:()=>r("main")}):h.jsx(kP,{children:h.jsx(_L,{activeTab:n,setActiveTab:e})})}async function HL(){Z0()&&await uT(),Yt()||Og(Ft[0]),$N.createRoot(document.getElementById("root")).render(h.jsx(zL,{}))}HL();
